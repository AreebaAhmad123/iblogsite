var FC=Object.defineProperty;var UC=(t,e,n)=>e in t?FC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yd=(t,e,n)=>(UC(t,typeof e!="symbol"?e+"":e,n),n);function $C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Fn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nb={exports:{}},Wc={},rb={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),zC=Symbol.for("react.portal"),VC=Symbol.for("react.fragment"),HC=Symbol.for("react.strict_mode"),WC=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),KC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),XC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),mg=Symbol.iterator;function QC(t){return t===null||typeof t!="object"?null:(t=mg&&t[mg]||t["@@iterator"],typeof t=="function"?t:null)}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sb=Object.assign,ib={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=ib,this.updater=n||ob}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ab(){}ab.prototype=Hs.prototype;function np(t,e,n){this.props=t,this.context=e,this.refs=ib,this.updater=n||ob}var rp=np.prototype=new ab;rp.constructor=np;sb(rp,Hs.prototype);rp.isPureReactComponent=!0;var gg=Array.isArray,lb=Object.prototype.hasOwnProperty,op={current:null},cb={key:!0,ref:!0,__self:!0,__source:!0};function db(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)lb.call(e,r)&&!cb.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ba,type:t,key:s,ref:i,props:o,_owner:op.current}}function ZC(t,e){return{$$typeof:ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ba}function eE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yg=/\/+/g;function Xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eE(""+t.key):e.toString(36)}function pl(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ba:case zC:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+Xd(i,0):r,gg(o)?(n="",t!=null&&(n=t.replace(yg,"$&/")+"/"),pl(o,e,n,"",function(c){return c})):o!=null&&(sp(o)&&(o=ZC(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(yg,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",gg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Xd(s,a);i+=pl(s,e,n,l,o)}else if(l=QC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Xd(s,a++),i+=pl(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Fa(t,e,n){if(t==null)return t;var r=[],o=0;return pl(t,r,"","",function(s){return e.call(n,s,o++)}),r}function tE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},ml={transition:null},nE={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:ml,ReactCurrentOwner:op};pe.Children={map:Fa,forEach:function(t,e,n){Fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!sp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=Hs;pe.Fragment=VC;pe.Profiler=WC;pe.PureComponent=np;pe.StrictMode=HC;pe.Suspense=YC;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sb({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=op.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lb.call(e,l)&&!cb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ba,type:t.type,key:o,ref:s,props:r,_owner:i}};pe.createContext=function(t){return t={$$typeof:qC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GC,_context:t},t.Consumer=t};pe.createElement=db;pe.createFactory=function(t){var e=db.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:KC,render:t}};pe.isValidElement=sp;pe.lazy=function(t){return{$$typeof:JC,_payload:{_status:-1,_result:t},_init:tE}};pe.memo=function(t,e){return{$$typeof:XC,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=ml.transition;ml.transition={};try{t()}finally{ml.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return _t.current.useCallback(t,e)};pe.useContext=function(t){return _t.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};pe.useEffect=function(t,e){return _t.current.useEffect(t,e)};pe.useId=function(){return _t.current.useId()};pe.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return _t.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};pe.useRef=function(t){return _t.current.useRef(t)};pe.useState=function(t){return _t.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return _t.current.useTransition()};pe.version="18.2.0";rb.exports=pe;var E=rb.exports;const ee=Fn(E),rE=$C({__proto__:null,default:ee},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=E,sE=Symbol.for("react.element"),iE=Symbol.for("react.fragment"),aE=Object.prototype.hasOwnProperty,lE=oE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cE={key:!0,ref:!0,__self:!0,__source:!0};function ub(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)aE.call(e,r)&&!cE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:sE,type:t,key:s,ref:i,props:o,_owner:lE.current}}Wc.Fragment=iE;Wc.jsx=ub;Wc.jsxs=ub;nb.exports=Wc;var d=nb.exports,rf={},fb={exports:{}},Kt={},hb={exports:{}},pb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,R){var D=O.length;O.push(R);e:for(;0<D;){var U=D-1>>>1,G=O[U];if(0<o(G,R))O[U]=R,O[D]=G,D=U;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var R=O[0],D=O.pop();if(D!==R){O[0]=D;e:for(var U=0,G=O.length,ie=G>>>1;U<ie;){var J=2*(U+1)-1,we=O[J],ge=J+1,ye=O[ge];if(0>o(we,D))ge<G&&0>o(ye,we)?(O[U]=ye,O[ge]=D,U=ge):(O[U]=we,O[J]=D,U=J);else if(ge<G&&0>o(ye,D))O[U]=ye,O[ge]=D,U=ge;else break e}}return R}function o(O,R){var D=O.sortIndex-R.sortIndex;return D!==0?D:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,f=null,h=3,y=!1,g=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=O)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function x(O){if(b=!1,p(O),!g)if(n(l)!==null)g=!0,B(k);else{var R=n(c);R!==null&&M(x,R.startTime-O)}}function k(O,R){g=!1,b&&(b=!1,v(C),C=-1),y=!0;var D=h;try{for(p(R),f=n(l);f!==null&&(!(f.expirationTime>R)||O&&!T());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var G=U(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),p(R)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var J=n(c);J!==null&&M(x,J.startTime-R),ie=!1}return ie}finally{f=null,h=D,y=!1}}var N=!1,j=null,C=-1,S=5,_=-1;function T(){return!(t.unstable_now()-_<S)}function I(){if(j!==null){var O=t.unstable_now();_=O;var R=!0;try{R=j(!0,O)}finally{R?P():(N=!1,j=null)}}else N=!1}var P;if(typeof m=="function")P=function(){m(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=I,P=function(){A.postMessage(null)}}else P=function(){w(I,0)};function B(O){j=O,N||(N=!0,P())}function M(O,R){C=w(function(){O(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,B(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return O()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return R()}finally{h=D}},t.unstable_scheduleCallback=function(O,R,D){var U=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,O={id:u++,callback:R,priorityLevel:O,startTime:D,expirationTime:G,sortIndex:-1},D>U?(O.sortIndex=D,e(c,O),n(l)===null&&O===n(c)&&(b?(v(C),C=-1):b=!0,M(x,D-U))):(O.sortIndex=G,e(l,O),g||y||(g=!0,B(k))),O},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(O){var R=h;return function(){var D=h;h=R;try{return O.apply(this,arguments)}finally{h=D}}}})(pb);hb.exports=pb;var dE=hb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=E,Gt=dE;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gb=new Set,Hi={};function Vo(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(Hi[t]=e,t=0;t<e.length;t++)gb.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=Object.prototype.hasOwnProperty,uE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vg={},bg={};function fE(t){return of.call(bg,t)?!0:of.call(vg,t)?!1:uE.test(t)?bg[t]=!0:(vg[t]=!0,!1)}function hE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pE(t,e,n,r){if(e===null||typeof e>"u"||hE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ip,ap);ft[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ip,ap);ft[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ip,ap);ft[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lp(t,e,n,r){var o=ft.hasOwnProperty(e)?ft[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pE(e,n,o,r)&&(n=null),r||o===null?fE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mr=mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),os=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),af=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),bb=Symbol.for("react.offscreen"),xg=Symbol.iterator;function ri(t){return t===null||typeof t!="object"?null:(t=xg&&t[xg]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Jd;function yi(t){if(Jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jd=e&&e[1]||""}return`
`+Jd+t}var Qd=!1;function Zd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yi(t):""}function mE(t){switch(t.tag){case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case os:return"Portal";case sf:return"Profiler";case cp:return"StrictMode";case af:return"Suspense";case lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vb:return(t.displayName||"Context")+".Consumer";case yb:return(t._context.displayName||"Context")+".Provider";case dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case up:return e=t.displayName||null,e!==null?e:cf(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return cf(t(e))}catch{}}return null}function gE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(e);case 8:return e===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yE(t){var e=xb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $a(t){t._valueTracker||(t._valueTracker=yE(t))}function wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function df(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kb(t,e){e=e.checked,e!=null&&lp(t,"checked",e,!1)}function uf(t,e){kb(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&ff(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ff(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vi=Array.isArray;function xs(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function hf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(vi(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function Sb(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,Eb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vE=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(t){vE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ci[e]=Ci[t]})});function Tb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ci.hasOwnProperty(t)&&Ci[t]?(""+e).trim():e+"px"}function _b(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Tb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var bE=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(t,e){if(e){if(bE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vf=null,ws=null,ks=null;function Eg(t){if(t=ka(t)){if(typeof vf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Xc(e),vf(t.stateNode,t.type,e))}}function jb(t){ws?ks?ks.push(t):ks=[t]:ws=t}function Nb(){if(ws){var t=ws,e=ks;if(ks=ws=null,Eg(t),e)for(t=0;t<e.length;t++)Eg(e[t])}}function Pb(t,e){return t(e)}function Ib(){}var eu=!1;function Ab(t,e,n){if(eu)return t(e,n);eu=!0;try{return Pb(t,e,n)}finally{eu=!1,(ws!==null||ks!==null)&&(Ib(),Nb())}}function Gi(t,e){var n=t.stateNode;if(n===null)return null;var r=Xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var bf=!1;if(ir)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){bf=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{bf=!1}function xE(t,e,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ei=!1,Vl=null,Hl=!1,xf=null,wE={onError:function(t){Ei=!0,Vl=t}};function kE(t,e,n,r,o,s,i,a,l){Ei=!1,Vl=null,xE.apply(wE,arguments)}function SE(t,e,n,r,o,s,i,a,l){if(kE.apply(this,arguments),Ei){if(Ei){var c=Vl;Ei=!1,Vl=null}else throw Error(W(198));Hl||(Hl=!0,xf=c)}}function Ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tg(t){if(Ho(t)!==t)throw Error(W(188))}function CE(t){var e=t.alternate;if(!e){if(e=Ho(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Tg(o),t;if(s===r)return Tg(o),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Bb(t){return t=CE(t),t!==null?Ob(t):null}function Ob(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ob(t);if(e!==null)return e;t=t.sibling}return null}var Rb=Gt.unstable_scheduleCallback,_g=Gt.unstable_cancelCallback,EE=Gt.unstable_shouldYield,TE=Gt.unstable_requestPaint,We=Gt.unstable_now,_E=Gt.unstable_getCurrentPriorityLevel,hp=Gt.unstable_ImmediatePriority,Mb=Gt.unstable_UserBlockingPriority,Wl=Gt.unstable_NormalPriority,jE=Gt.unstable_LowPriority,Db=Gt.unstable_IdlePriority,Gc=null,Ln=null;function NE(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Gc,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:AE,PE=Math.log,IE=Math.LN2;function AE(t){return t>>>=0,t===0?32:31-(PE(t)/IE|0)|0}var Va=64,Ha=4194304;function bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=bi(a):(s&=i,s!==0&&(r=bi(s)))}else i=n&~o,i!==0?r=bi(i):s!==0&&(r=bi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mn(e),o=1<<n,r|=t[n],e&=~o;return r}function LE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-mn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=LE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fb(){var t=Va;return Va<<=1,!(Va&4194240)&&(Va=64),t}function tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function OE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-mn(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Se=0;function Ub(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $b,mp,zb,Vb,Hb,kf=!1,Wa=[],Rr=null,Mr=null,Dr=null,qi=new Map,Ki=new Map,Er=[],RE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(e.pointerId)}}function si(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=ka(e),e!==null&&mp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function ME(t,e,n,r,o){switch(e){case"focusin":return Rr=si(Rr,t,e,n,r,o),!0;case"dragenter":return Mr=si(Mr,t,e,n,r,o),!0;case"mouseover":return Dr=si(Dr,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return qi.set(s,si(qi.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ki.set(s,si(Ki.get(s)||null,t,e,n,r,o)),!0}return!1}function Wb(t){var e=bo(t.target);if(e!==null){var n=Ho(e);if(n!==null){if(e=n.tag,e===13){if(e=Lb(n),e!==null){t.blockedOn=e,Hb(t.priority,function(){zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return e=ka(n),e!==null&&mp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ng(t,e,n){gl(t)&&n.delete(e)}function DE(){kf=!1,Rr!==null&&gl(Rr)&&(Rr=null),Mr!==null&&gl(Mr)&&(Mr=null),Dr!==null&&gl(Dr)&&(Dr=null),qi.forEach(Ng),Ki.forEach(Ng)}function ii(t,e){t.blockedOn===e&&(t.blockedOn=null,kf||(kf=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,DE)))}function Yi(t){function e(o){return ii(o,t)}if(0<Wa.length){ii(Wa[0],t);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rr!==null&&ii(Rr,t),Mr!==null&&ii(Mr,t),Dr!==null&&ii(Dr,t),qi.forEach(e),Ki.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)Wb(n),n.blockedOn===null&&Er.shift()}var Ss=mr.ReactCurrentBatchConfig,ql=!0;function FE(t,e,n,r){var o=Se,s=Ss.transition;Ss.transition=null;try{Se=1,gp(t,e,n,r)}finally{Se=o,Ss.transition=s}}function UE(t,e,n,r){var o=Se,s=Ss.transition;Ss.transition=null;try{Se=4,gp(t,e,n,r)}finally{Se=o,Ss.transition=s}}function gp(t,e,n,r){if(ql){var o=Sf(t,e,n,r);if(o===null)uu(t,e,r,Kl,n),jg(t,r);else if(ME(o,t,e,n,r))r.stopPropagation();else if(jg(t,r),e&4&&-1<RE.indexOf(t)){for(;o!==null;){var s=ka(o);if(s!==null&&$b(s),s=Sf(t,e,n,r),s===null&&uu(t,e,r,Kl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else uu(t,e,r,null,n)}}var Kl=null;function Sf(t,e,n,r){if(Kl=null,t=fp(r),t=bo(t),t!==null)if(e=Ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kl=t,null}function Gb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_E()){case hp:return 1;case Mb:return 4;case Wl:case jE:return 16;case Db:return 536870912;default:return 16}default:return 16}}var Ar=null,yp=null,yl=null;function qb(){if(yl)return yl;var t,e=yp,n=e.length,r,o="value"in Ar?Ar.value:Ar.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return yl=o.slice(t,1<r?1-r:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function Pg(){return!1}function Yt(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ga:Pg,this.isPropagationStopped=Pg,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vp=Yt(Ws),wa=Ue({},Ws,{view:0,detail:0}),$E=Yt(wa),nu,ru,ai,qc=Ue({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(nu=t.screenX-ai.screenX,ru=t.screenY-ai.screenY):ru=nu=0,ai=t),nu)},movementY:function(t){return"movementY"in t?t.movementY:ru}}),Ig=Yt(qc),zE=Ue({},qc,{dataTransfer:0}),VE=Yt(zE),HE=Ue({},wa,{relatedTarget:0}),ou=Yt(HE),WE=Ue({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),GE=Yt(WE),qE=Ue({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KE=Yt(qE),YE=Ue({},Ws,{data:0}),Ag=Yt(YE),XE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QE[t])?!!e[t]:!1}function bp(){return ZE}var eT=Ue({},wa,{key:function(t){if(t.key){var e=XE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tT=Yt(eT),nT=Ue({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=Yt(nT),rT=Ue({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),oT=Yt(rT),sT=Ue({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=Yt(sT),aT=Ue({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=Yt(aT),cT=[9,13,27,32],xp=ir&&"CompositionEvent"in window,Ti=null;ir&&"documentMode"in document&&(Ti=document.documentMode);var dT=ir&&"TextEvent"in window&&!Ti,Kb=ir&&(!xp||Ti&&8<Ti&&11>=Ti),Bg=String.fromCharCode(32),Og=!1;function Yb(t,e){switch(t){case"keyup":return cT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var is=!1;function uT(t,e){switch(t){case"compositionend":return Xb(e);case"keypress":return e.which!==32?null:(Og=!0,Bg);case"textInput":return t=e.data,t===Bg&&Og?null:t;default:return null}}function fT(t,e){if(is)return t==="compositionend"||!xp&&Yb(t,e)?(t=qb(),yl=yp=Ar=null,is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kb&&e.locale!=="ko"?null:e.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hT[t.type]:e==="textarea"}function Jb(t,e,n,r){jb(r),e=Yl(e,"onChange"),0<e.length&&(n=new vp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _i=null,Xi=null;function pT(t){lx(t,0)}function Kc(t){var e=cs(t);if(wb(e))return t}function mT(t,e){if(t==="change")return e}var Qb=!1;if(ir){var su;if(ir){var iu="oninput"in document;if(!iu){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),iu=typeof Mg.oninput=="function"}su=iu}else su=!1;Qb=su&&(!document.documentMode||9<document.documentMode)}function Dg(){_i&&(_i.detachEvent("onpropertychange",Zb),Xi=_i=null)}function Zb(t){if(t.propertyName==="value"&&Kc(Xi)){var e=[];Jb(e,Xi,t,fp(t)),Ab(pT,e)}}function gT(t,e,n){t==="focusin"?(Dg(),_i=e,Xi=n,_i.attachEvent("onpropertychange",Zb)):t==="focusout"&&Dg()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(Xi)}function vT(t,e){if(t==="click")return Kc(e)}function bT(t,e){if(t==="input"||t==="change")return Kc(e)}function xT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:xT;function Ji(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!of.call(e,o)||!bn(t[o],e[o]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,e){var n=Fg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fg(n)}}function ex(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ex(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tx(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wT(t){var e=tx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ex(n.ownerDocument.documentElement,n)){if(r!==null&&wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=Ug(n,s);var i=Ug(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kT=ir&&"documentMode"in document&&11>=document.documentMode,as=null,Cf=null,ji=null,Ef=!1;function $g(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ef||as==null||as!==zl(r)||(r=as,"selectionStart"in r&&wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&Ji(ji,r)||(ji=r,r=Yl(Cf,"onSelect"),0<r.length&&(e=new vp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=as)))}function qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},au={},nx={};ir&&(nx=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Yc(t){if(au[t])return au[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nx)return au[t]=e[n];return t}var rx=Yc("animationend"),ox=Yc("animationiteration"),sx=Yc("animationstart"),ix=Yc("transitionend"),ax=new Map,zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){ax.set(t,e),Vo(e,[t])}for(var lu=0;lu<zg.length;lu++){var cu=zg[lu],ST=cu.toLowerCase(),CT=cu[0].toUpperCase()+cu.slice(1);to(ST,"on"+CT)}to(rx,"onAnimationEnd");to(ox,"onAnimationIteration");to(sx,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(ix,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Vg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SE(r,e,void 0,t),t.currentTarget=null}function lx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Vg(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Vg(o,a,c),s=l}}}if(Hl)throw t=xf,Hl=!1,xf=null,t}function Ae(t,e){var n=e[Pf];n===void 0&&(n=e[Pf]=new Set);var r=t+"__bubble";n.has(r)||(cx(e,t,2,!1),n.add(r))}function du(t,e,n){var r=0;e&&(r|=4),cx(n,t,r,e)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Qi(t){if(!t[Ka]){t[Ka]=!0,gb.forEach(function(n){n!=="selectionchange"&&(ET.has(n)||du(n,!1,t),du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ka]||(e[Ka]=!0,du("selectionchange",!1,e))}}function cx(t,e,n,r){switch(Gb(e)){case 1:var o=FE;break;case 4:o=UE;break;default:o=gp}n=o.bind(null,e,n,t),o=void 0,!bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function uu(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=bo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Ab(function(){var c=s,u=fp(n),f=[];e:{var h=ax.get(t);if(h!==void 0){var y=vp,g=t;switch(t){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":y=tT;break;case"focusin":g="focus",y=ou;break;case"focusout":g="blur",y=ou;break;case"beforeblur":case"afterblur":y=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=VE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=oT;break;case rx:case ox:case sx:y=GE;break;case ix:y=iT;break;case"scroll":y=$E;break;case"wheel":y=lT;break;case"copy":case"cut":case"paste":y=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Lg}var b=(e&4)!==0,w=!b&&t==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var m=c,p;m!==null;){p=m;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,v!==null&&(x=Gi(m,v),x!=null&&b.push(Zi(m,x,p)))),w)break;m=m.return}0<b.length&&(h=new y(h,g,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==yf&&(g=n.relatedTarget||n.fromElement)&&(bo(g)||g[ar]))break e;if((y||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=c,g=g?bo(g):null,g!==null&&(w=Ho(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(b=Ig,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(b=Lg,x="onPointerLeave",v="onPointerEnter",m="pointer"),w=y==null?h:cs(y),p=g==null?h:cs(g),h=new b(x,m+"leave",y,n,u),h.target=w,h.relatedTarget=p,x=null,bo(u)===c&&(b=new b(v,m+"enter",g,n,u),b.target=p,b.relatedTarget=w,x=b),w=x,y&&g)t:{for(b=y,v=g,m=0,p=b;p;p=Zo(p))m++;for(p=0,x=v;x;x=Zo(x))p++;for(;0<m-p;)b=Zo(b),m--;for(;0<p-m;)v=Zo(v),p--;for(;m--;){if(b===v||v!==null&&b===v.alternate)break t;b=Zo(b),v=Zo(v)}b=null}else b=null;y!==null&&Hg(f,h,y,b,!1),g!==null&&w!==null&&Hg(f,w,g,b,!0)}}e:{if(h=c?cs(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=mT;else if(Rg(h))if(Qb)k=bT;else{k=yT;var N=gT}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=vT);if(k&&(k=k(t,c))){Jb(f,k,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&ff(h,"number",h.value)}switch(N=c?cs(c):window,t){case"focusin":(Rg(N)||N.contentEditable==="true")&&(as=N,Cf=c,ji=null);break;case"focusout":ji=Cf=as=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,$g(f,n,u);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":$g(f,n,u)}var j;if(xp)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else is?Yb(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Kb&&n.locale!=="ko"&&(is||C!=="onCompositionStart"?C==="onCompositionEnd"&&is&&(j=qb()):(Ar=u,yp="value"in Ar?Ar.value:Ar.textContent,is=!0)),N=Yl(c,C),0<N.length&&(C=new Ag(C,t,null,n,u),f.push({event:C,listeners:N}),j?C.data=j:(j=Xb(n),j!==null&&(C.data=j)))),(j=dT?uT(t,n):fT(t,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(u=new Ag("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=j))}lx(f,e)})}function Zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Gi(t,n),s!=null&&r.unshift(Zi(t,s,o)),s=Gi(t,e),s!=null&&r.push(Zi(t,s,o))),t=t.return}return r}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hg(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Gi(n,s),l!=null&&i.unshift(Zi(n,l,a))):o||(l=Gi(n,s),l!=null&&i.push(Zi(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var TT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(_T,"")}function Ya(t,e,n){if(e=Wg(e),Wg(t)!==e&&n)throw Error(W(425))}function Xl(){}var Tf=null,_f=null;function jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(t){return Gg.resolve(null).then(t).catch(PT)}:Nf;function PT(t){setTimeout(function(){throw t})}function fu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Yi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Yi(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Gs,ea="__reactProps$"+Gs,ar="__reactContainer$"+Gs,Pf="__reactEvents$"+Gs,IT="__reactListeners$"+Gs,AT="__reactHandles$"+Gs;function bo(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qg(t);t!==null;){if(n=t[Nn])return n;t=qg(t)}return e}t=n,n=t.parentNode}return null}function ka(t){return t=t[Nn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Xc(t){return t[ea]||null}var If=[],ds=-1;function no(t){return{current:t}}function Be(t){0>ds||(t.current=If[ds],If[ds]=null,ds--)}function je(t,e){ds++,If[ds]=t.current,t.current=e}var Xr={},xt=no(Xr),Bt=no(!1),Io=Xr;function As(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ot(t){return t=t.childContextTypes,t!=null}function Jl(){Be(Bt),Be(xt)}function Kg(t,e,n){if(xt.current!==Xr)throw Error(W(168));je(xt,e),je(Bt,n)}function dx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(W(108,gE(t)||"Unknown",o));return Ue({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Io=xt.current,je(xt,t),je(Bt,Bt.current),!0}function Yg(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=dx(t,e,Io),r.__reactInternalMemoizedMergedChildContext=t,Be(Bt),Be(xt),je(xt,t)):Be(Bt),je(Bt,n)}var Wn=null,Jc=!1,hu=!1;function ux(t){Wn===null?Wn=[t]:Wn.push(t)}function LT(t){Jc=!0,ux(t)}function ro(){if(!hu&&Wn!==null){hu=!0;var t=0,e=Se;try{var n=Wn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,Jc=!1}catch(o){throw Wn!==null&&(Wn=Wn.slice(t+1)),Rb(hp,ro),o}finally{Se=e,hu=!1}}return null}var us=[],fs=0,Zl=null,ec=0,tn=[],nn=0,Ao=null,Gn=1,qn="";function fo(t,e){us[fs++]=ec,us[fs++]=Zl,Zl=t,ec=e}function fx(t,e,n){tn[nn++]=Gn,tn[nn++]=qn,tn[nn++]=Ao,Ao=t;var r=Gn;t=qn;var o=32-mn(r)-1;r&=~(1<<o),n+=1;var s=32-mn(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Gn=1<<32-mn(e)+o|n<<o|r,qn=s+t}else Gn=1<<s|n<<o|r,qn=t}function kp(t){t.return!==null&&(fo(t,1),fx(t,1,0))}function Sp(t){for(;t===Zl;)Zl=us[--fs],us[fs]=null,ec=us[--fs],us[fs]=null;for(;t===Ao;)Ao=tn[--nn],tn[nn]=null,qn=tn[--nn],tn[nn]=null,Gn=tn[--nn],tn[nn]=null}var Wt=null,Ht=null,Re=!1,fn=null;function hx(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:Gn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function Af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lf(t){if(Re){var e=Ht;if(e){var n=e;if(!Xg(t,e)){if(Af(t))throw Error(W(418));e=Fr(n.nextSibling);var r=Wt;e&&Xg(t,e)?hx(r,n):(t.flags=t.flags&-4097|2,Re=!1,Wt=t)}}else{if(Af(t))throw Error(W(418));t.flags=t.flags&-4097|2,Re=!1,Wt=t}}}function Jg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Xa(t){if(t!==Wt)return!1;if(!Re)return Jg(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Af(t))throw px(),Error(W(418));for(;e;)hx(t,e),e=Fr(e.nextSibling)}if(Jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?Fr(t.stateNode.nextSibling):null;return!0}function px(){for(var t=Ht;t;)t=Fr(t.nextSibling)}function Ls(){Ht=Wt=null,Re=!1}function Cp(t){fn===null?fn=[t]:fn.push(t)}var BT=mr.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var tc=no(null),nc=null,hs=null,Ep=null;function Tp(){Ep=hs=nc=null}function _p(t){var e=tc.current;Be(tc),t._currentValue=e}function Bf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){nc=t,Ep=hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(Ep!==t)if(t={context:t,memoizedValue:e,next:null},hs===null){if(nc===null)throw Error(W(308));hs=t,nc.dependencies={lanes:0,firstContext:t}}else hs=hs.next=t;return e}var xo=null;function jp(t){xo===null?xo=[t]:xo.push(t)}function mx(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,jp(e)):(n.next=o.next,o.next=n),e.interleaved=n,lr(t,r)}function lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,lr(t,n)}return o=r.interleaved,o===null?(e.next=e,jp(r)):(e.next=o.next,o.next=e),r.interleaved=e,lr(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}function Qg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var o=t.updateQueue;Sr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,b=a;switch(h=e,y=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=Ue({},f,h);break e;case 2:Sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=y,l=f):u=u.next=y,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Bo|=i,t.lanes=i,t.memoizedState=f}}function Zg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var yx=new mb.Component().refs;function Of(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qc={isMounted:function(t){return(t=t._reactInternals)?Ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),o=zr(t),s=tr(r,o);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,o),e!==null&&(gn(e,t,o,r),bl(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),o=zr(t),s=tr(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,o),e!==null&&(gn(e,t,o,r),bl(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=zr(t),o=tr(n,r);o.tag=2,e!=null&&(o.callback=e),e=Ur(t,o,r),e!==null&&(gn(e,t,r,n),bl(e,t,r))}};function e0(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!Ji(n,r)||!Ji(o,s):!0}function vx(t,e,n){var r=!1,o=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(o=Ot(e)?Io:xt.current,r=e.contextTypes,s=(r=r!=null)?As(t,o):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function t0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qc.enqueueReplaceState(e,e.state,null)}function Rf(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=yx,Np(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=sn(s):(s=Ot(e)?Io:xt.current,o.context=As(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Of(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Qc.enqueueReplaceState(o,o.state,null),rc(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;a===yx&&(a=o.refs={}),i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ja(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n0(t){var e=t._init;return e(t._payload)}function bx(t){function e(v,m){if(t){var p=v.deletions;p===null?(v.deletions=[m],v.flags|=16):p.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function o(v,m){return v=Vr(v,m),v.index=0,v.sibling=null,v}function s(v,m,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<m?(v.flags|=2,m):p):(v.flags|=2,m)):(v.flags|=1048576,m)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,p,x){return m===null||m.tag!==6?(m=xu(p,v.mode,x),m.return=v,m):(m=o(m,p),m.return=v,m)}function l(v,m,p,x){var k=p.type;return k===ss?u(v,m,p.props.children,x,p.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kr&&n0(k)===m.type)?(x=o(m,p.props),x.ref=li(v,m,p),x.return=v,x):(x=El(p.type,p.key,p.props,null,v.mode,x),x.ref=li(v,m,p),x.return=v,x)}function c(v,m,p,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=wu(p,v.mode,x),m.return=v,m):(m=o(m,p.children||[]),m.return=v,m)}function u(v,m,p,x,k){return m===null||m.tag!==7?(m=_o(p,v.mode,x,k),m.return=v,m):(m=o(m,p),m.return=v,m)}function f(v,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xu(""+m,v.mode,p),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ua:return p=El(m.type,m.key,m.props,null,v.mode,p),p.ref=li(v,null,m),p.return=v,p;case os:return m=wu(m,v.mode,p),m.return=v,m;case kr:var x=m._init;return f(v,x(m._payload),p)}if(vi(m)||ri(m))return m=_o(m,v.mode,p,null),m.return=v,m;Ja(v,m)}return null}function h(v,m,p,x){var k=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:a(v,m,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ua:return p.key===k?l(v,m,p,x):null;case os:return p.key===k?c(v,m,p,x):null;case kr:return k=p._init,h(v,m,k(p._payload),x)}if(vi(p)||ri(p))return k!==null?null:u(v,m,p,x,null);Ja(v,p)}return null}function y(v,m,p,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(p)||null,a(m,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ua:return v=v.get(x.key===null?p:x.key)||null,l(m,v,x,k);case os:return v=v.get(x.key===null?p:x.key)||null,c(m,v,x,k);case kr:var N=x._init;return y(v,m,p,N(x._payload),k)}if(vi(x)||ri(x))return v=v.get(p)||null,u(m,v,x,k,null);Ja(m,x)}return null}function g(v,m,p,x){for(var k=null,N=null,j=m,C=m=0,S=null;j!==null&&C<p.length;C++){j.index>C?(S=j,j=null):S=j.sibling;var _=h(v,j,p[C],x);if(_===null){j===null&&(j=S);break}t&&j&&_.alternate===null&&e(v,j),m=s(_,m,C),N===null?k=_:N.sibling=_,N=_,j=S}if(C===p.length)return n(v,j),Re&&fo(v,C),k;if(j===null){for(;C<p.length;C++)j=f(v,p[C],x),j!==null&&(m=s(j,m,C),N===null?k=j:N.sibling=j,N=j);return Re&&fo(v,C),k}for(j=r(v,j);C<p.length;C++)S=y(j,v,C,p[C],x),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?C:S.key),m=s(S,m,C),N===null?k=S:N.sibling=S,N=S);return t&&j.forEach(function(T){return e(v,T)}),Re&&fo(v,C),k}function b(v,m,p,x){var k=ri(p);if(typeof k!="function")throw Error(W(150));if(p=k.call(p),p==null)throw Error(W(151));for(var N=k=null,j=m,C=m=0,S=null,_=p.next();j!==null&&!_.done;C++,_=p.next()){j.index>C?(S=j,j=null):S=j.sibling;var T=h(v,j,_.value,x);if(T===null){j===null&&(j=S);break}t&&j&&T.alternate===null&&e(v,j),m=s(T,m,C),N===null?k=T:N.sibling=T,N=T,j=S}if(_.done)return n(v,j),Re&&fo(v,C),k;if(j===null){for(;!_.done;C++,_=p.next())_=f(v,_.value,x),_!==null&&(m=s(_,m,C),N===null?k=_:N.sibling=_,N=_);return Re&&fo(v,C),k}for(j=r(v,j);!_.done;C++,_=p.next())_=y(j,v,C,_.value,x),_!==null&&(t&&_.alternate!==null&&j.delete(_.key===null?C:_.key),m=s(_,m,C),N===null?k=_:N.sibling=_,N=_);return t&&j.forEach(function(I){return e(v,I)}),Re&&fo(v,C),k}function w(v,m,p,x){if(typeof p=="object"&&p!==null&&p.type===ss&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ua:e:{for(var k=p.key,N=m;N!==null;){if(N.key===k){if(k=p.type,k===ss){if(N.tag===7){n(v,N.sibling),m=o(N,p.props.children),m.return=v,v=m;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kr&&n0(k)===N.type){n(v,N.sibling),m=o(N,p.props),m.ref=li(v,N,p),m.return=v,v=m;break e}n(v,N);break}else e(v,N);N=N.sibling}p.type===ss?(m=_o(p.props.children,v.mode,x,p.key),m.return=v,v=m):(x=El(p.type,p.key,p.props,null,v.mode,x),x.ref=li(v,m,p),x.return=v,v=x)}return i(v);case os:e:{for(N=p.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(v,m.sibling),m=o(m,p.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=wu(p,v.mode,x),m.return=v,v=m}return i(v);case kr:return N=p._init,w(v,m,N(p._payload),x)}if(vi(p))return g(v,m,p,x);if(ri(p))return b(v,m,p,x);Ja(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(v,m.sibling),m=o(m,p),m.return=v,v=m):(n(v,m),m=xu(p,v.mode,x),m.return=v,v=m),i(v)):n(v,m)}return w}var Bs=bx(!0),xx=bx(!1),Sa={},Bn=no(Sa),ta=no(Sa),na=no(Sa);function wo(t){if(t===Sa)throw Error(W(174));return t}function Pp(t,e){switch(je(na,e),je(ta,t),je(Bn,Sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pf(e,t)}Be(Bn),je(Bn,e)}function Os(){Be(Bn),Be(ta),Be(na)}function wx(t){wo(na.current);var e=wo(Bn.current),n=pf(e,t.type);e!==n&&(je(ta,t),je(Bn,n))}function Ip(t){ta.current===t&&(Be(Bn),Be(ta))}var Me=no(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pu=[];function Ap(){for(var t=0;t<pu.length;t++)pu[t]._workInProgressVersionPrimary=null;pu.length=0}var xl=mr.ReactCurrentDispatcher,mu=mr.ReactCurrentBatchConfig,Lo=0,Fe=null,Ze=null,ot=null,sc=!1,Ni=!1,ra=0,OT=0;function mt(){throw Error(W(321))}function Lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Bp(t,e,n,r,o,s){if(Lo=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?FT:UT,t=n(r,o),Ni){s=0;do{if(Ni=!1,ra=0,25<=s)throw Error(W(301));s+=1,ot=Ze=null,e.updateQueue=null,xl.current=$T,t=n(r,o)}while(Ni)}if(xl.current=ic,e=Ze!==null&&Ze.next!==null,Lo=0,ot=Ze=Fe=null,sc=!1,e)throw Error(W(300));return t}function Op(){var t=ra!==0;return ra=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Fe.memoizedState=ot=t:ot=ot.next=t,ot}function an(){if(Ze===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=ot===null?Fe.memoizedState:ot.next;if(e!==null)ot=e,Ze=t;else{if(t===null)throw Error(W(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ot===null?Fe.memoizedState=ot=t:ot=ot.next=t}return ot}function oa(t,e){return typeof e=="function"?e(t):e}function gu(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Ze,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((Lo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Fe.lanes|=u,Bo|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,bn(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,Fe.lanes|=s,Bo|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yu(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);bn(s,e.memoizedState)||(At=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kx(){}function Sx(t,e){var n=Fe,r=an(),o=e(),s=!bn(r.memoizedState,o);if(s&&(r.memoizedState=o,At=!0),r=r.queue,Rp(Tx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,sa(9,Ex.bind(null,n,r,o,e),void 0,null),st===null)throw Error(W(349));Lo&30||Cx(n,e,o)}return o}function Cx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ex(t,e,n,r){e.value=n,e.getSnapshot=r,_x(e)&&jx(t)}function Tx(t,e,n){return n(function(){_x(e)&&jx(t)})}function _x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function jx(t){var e=lr(t,1);e!==null&&gn(e,t,1,-1)}function r0(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},e.queue=t,t=t.dispatch=DT.bind(null,Fe,t),[e.memoizedState,t]}function sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Nx(){return an().memoizedState}function wl(t,e,n,r){var o=_n();Fe.flags|=t,o.memoizedState=sa(1|e,n,void 0,r===void 0?null:r)}function Zc(t,e,n,r){var o=an();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var i=Ze.memoizedState;if(s=i.destroy,r!==null&&Lp(r,i.deps)){o.memoizedState=sa(e,n,s,r);return}}Fe.flags|=t,o.memoizedState=sa(1|e,n,s,r)}function o0(t,e){return wl(8390656,8,t,e)}function Rp(t,e){return Zc(2048,8,t,e)}function Px(t,e){return Zc(4,2,t,e)}function Ix(t,e){return Zc(4,4,t,e)}function Ax(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lx(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4,4,Ax.bind(null,e,t),n)}function Mp(){}function Bx(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ox(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rx(t,e,n){return Lo&21?(bn(n,e)||(n=Fb(),Fe.lanes|=n,Bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function RT(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=mu.transition;mu.transition={};try{t(!1),e()}finally{Se=n,mu.transition=r}}function Mx(){return an().memoizedState}function MT(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dx(t))Fx(e,n);else if(n=mx(t,e,n,r),n!==null){var o=Et();gn(n,t,r,o),Ux(n,e,r)}}function DT(t,e,n){var r=zr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dx(t))Fx(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,bn(a,i)){var l=e.interleaved;l===null?(o.next=o,jp(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=mx(t,e,o,r),n!==null&&(o=Et(),gn(n,t,r,o),Ux(n,e,r))}}function Dx(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function Fx(t,e){Ni=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ux(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pp(t,n)}}var ic={readContext:sn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},FT={readContext:sn,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wl(4194308,4,Ax.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return wl(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MT.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:r0,useDebugValue:Mp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=r0(!1),e=t[0];return t=RT.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,o=_n();if(Re){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),st===null)throw Error(W(349));Lo&30||Cx(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,o0(Tx.bind(null,r,s,t),[t]),r.flags|=2048,sa(9,Ex.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_n(),e=st.identifierPrefix;if(Re){var n=qn,r=Gn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UT={readContext:sn,useCallback:Bx,useContext:sn,useEffect:Rp,useImperativeHandle:Lx,useInsertionEffect:Px,useLayoutEffect:Ix,useMemo:Ox,useReducer:gu,useRef:Nx,useState:function(){return gu(oa)},useDebugValue:Mp,useDeferredValue:function(t){var e=an();return Rx(e,Ze.memoizedState,t)},useTransition:function(){var t=gu(oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:kx,useSyncExternalStore:Sx,useId:Mx,unstable_isNewReconciler:!1},$T={readContext:sn,useCallback:Bx,useContext:sn,useEffect:Rp,useImperativeHandle:Lx,useInsertionEffect:Px,useLayoutEffect:Ix,useMemo:Ox,useReducer:yu,useRef:Nx,useState:function(){return yu(oa)},useDebugValue:Mp,useDeferredValue:function(t){var e=an();return Ze===null?e.memoizedState=t:Rx(e,Ze.memoizedState,t)},useTransition:function(){var t=yu(oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:kx,useSyncExternalStore:Sx,useId:Mx,unstable_isNewReconciler:!1};function Rs(t,e){try{var n="",r=e;do n+=mE(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function vu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function $x(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lc||(lc=!0,qf=r),Mf(t,e)},n}function zx(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Mf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mf(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function s0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=n2.bind(null,t,e,n),e.then(t,t))}function i0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a0(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var VT=mr.ReactCurrentOwner,At=!1;function St(t,e,n,r){e.child=t===null?xx(e,null,n,r):Bs(e,t.child,n,r)}function l0(t,e,n,r,o){n=n.render;var s=e.ref;return Cs(e,o),r=Bp(t,e,n,r,s,o),n=Op(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,cr(t,e,o)):(Re&&n&&kp(e),e.flags|=1,St(t,e,r,o),e.child)}function c0(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!Wp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Vx(t,e,s,r,o)):(t=El(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(i,r)&&t.ref===e.ref)return cr(t,e,o)}return e.flags|=1,t=Vr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Vx(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(Ji(s,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,cr(t,e,o)}return Df(t,e,n,r,o)}function Hx(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ms,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(ms,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(ms,zt),zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(ms,zt),zt|=r;return St(t,e,o,n),e.child}function Wx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Df(t,e,n,r,o){var s=Ot(n)?Io:xt.current;return s=As(e,s),Cs(e,o),n=Bp(t,e,n,r,s,o),r=Op(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,cr(t,e,o)):(Re&&r&&kp(e),e.flags|=1,St(t,e,n,o),e.child)}function d0(t,e,n,r,o){if(Ot(n)){var s=!0;Ql(e)}else s=!1;if(Cs(e,o),e.stateNode===null)kl(t,e),vx(e,n,r),Rf(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Ot(n)?Io:xt.current,c=As(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&t0(e,i,r,c),Sr=!1;var h=e.memoizedState;i.state=h,rc(e,r,i,o),l=e.memoizedState,a!==r||h!==l||Bt.current||Sr?(typeof u=="function"&&(Of(e,n,u,r),l=e.memoizedState),(a=Sr||e0(e,n,a,r,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,gx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dn(e.type,a),i.props=c,f=e.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Ot(n)?Io:xt.current,l=As(e,l));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&t0(e,i,r,l),Sr=!1,h=e.memoizedState,i.state=h,rc(e,r,i,o);var g=e.memoizedState;a!==f||h!==g||Bt.current||Sr?(typeof y=="function"&&(Of(e,n,y,r),g=e.memoizedState),(c=Sr||e0(e,n,c,r,h,g,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ff(t,e,n,r,s,o)}function Ff(t,e,n,r,o,s){Wx(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&Yg(e,n,!1),cr(t,e,s);r=e.stateNode,VT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Bs(e,t.child,null,s),e.child=Bs(e,null,a,s)):St(t,e,a,s),e.memoizedState=r.state,o&&Yg(e,n,!0),e.child}function Gx(t){var e=t.stateNode;e.pendingContext?Kg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kg(t,e.context,!1),Pp(t,e.containerInfo)}function u0(t,e,n,r,o){return Ls(),Cp(o),e.flags|=256,St(t,e,n,r),e.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function $f(t){return{baseLanes:t,cachePool:null,transitions:null}}function qx(t,e,n){var r=e.pendingProps,o=Me.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),je(Me,o&1),t===null)return Lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=nd(i,r,0,null),t=_o(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$f(n),e.memoizedState=Uf,t):Dp(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return HT(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Vr(a,s):(s=_o(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?$f(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=Uf,r}return s=t.child,t=s.sibling,r=Vr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dp(t,e){return e=nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qa(t,e,n,r){return r!==null&&Cp(r),Bs(e,t.child,null,n),t=Dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HT(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=vu(Error(W(422))),Qa(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=nd({mode:"visible",children:r.children},o,0,null),s=_o(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bs(e,t.child,null,i),e.child.memoizedState=$f(i),e.memoizedState=Uf,s);if(!(e.mode&1))return Qa(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=vu(s,r,void 0),Qa(t,e,i,r)}if(a=(i&t.childLanes)!==0,At||a){if(r=st,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,lr(t,o),gn(r,t,o,-1))}return Hp(),r=vu(Error(W(421))),Qa(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=r2.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Ht=Fr(o.nextSibling),Wt=e,Re=!0,fn=null,t!==null&&(tn[nn++]=Gn,tn[nn++]=qn,tn[nn++]=Ao,Gn=t.id,qn=t.overflow,Ao=e),e=Dp(e,r.children),e.flags|=4096,e)}function f0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bf(t.return,e,n)}function bu(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Kx(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(St(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f0(t,n,e);else if(t.tag===19)f0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Me,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),bu(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&oc(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}bu(e,!0,n,null,s);break;case"together":bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WT(t,e,n){switch(e.tag){case 3:Gx(e),Ls();break;case 5:wx(e);break;case 1:Ot(e.type)&&Ql(e);break;case 4:Pp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;je(tc,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?qx(t,e,n):(je(Me,Me.current&1),t=cr(t,e,n),t!==null?t.sibling:null);je(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Kx(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),je(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,Hx(t,e,n)}return cr(t,e,n)}var Yx,zf,Xx,Jx;Yx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zf=function(){};Xx=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,wo(Bn.current);var s=null;switch(n){case"input":o=df(t,o),r=df(t,r),s=[];break;case"select":o=Ue({},o,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":o=hf(t,o),r=hf(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xl)}mf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Jx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ci(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GT(t,e,n){var r=e.pendingProps;switch(Sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&Jl(),gt(e),null;case 3:return r=e.stateNode,Os(),Be(Bt),Be(xt),Ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Xf(fn),fn=null))),zf(t,e),gt(e),null;case 5:Ip(e);var o=wo(na.current);if(n=e.type,t!==null&&e.stateNode!=null)Xx(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return gt(e),null}if(t=wo(Bn.current),Xa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nn]=e,r[ea]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(o=0;o<xi.length;o++)Ae(xi[o],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":wg(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Sg(r,s),Ae("invalid",r)}mf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),o=["children",""+a]):Hi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ae("scroll",r)}switch(n){case"input":$a(r),kg(r,s,!0);break;case"textarea":$a(r),Cg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Nn]=e,t[ea]=r,Yx(t,e,!1,!1),e.stateNode=t;e:{switch(i=gf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),o=r;break;case"iframe":case"object":case"embed":Ae("load",t),o=r;break;case"video":case"audio":for(o=0;o<xi.length;o++)Ae(xi[o],t);o=r;break;case"source":Ae("error",t),o=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),o=r;break;case"details":Ae("toggle",t),o=r;break;case"input":wg(t,r),o=df(t,r),Ae("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ue({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Sg(t,r),o=hf(t,r),Ae("invalid",t);break;default:o=r}mf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_b(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Eb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wi(t,l):typeof l=="number"&&Wi(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&lp(t,s,l,i))}switch(n){case"input":$a(t),kg(t,r,!1);break;case"textarea":$a(t),Cg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xs(t,!!r.multiple,s,!1):r.defaultValue!=null&&xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)Jx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=wo(na.current),wo(Bn.current),Xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(s=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return gt(e),null;case 13:if(Be(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Ht!==null&&e.mode&1&&!(e.flags&128))px(),Ls(),e.flags|=98560,s=!1;else if(s=Xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Nn]=e}else Ls(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else fn!==null&&(Xf(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?et===0&&(et=3):Hp())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return Os(),zf(t,e),t===null&&Qi(e.stateNode.containerInfo),gt(e),null;case 10:return _p(e.type._context),gt(e),null;case 17:return Ot(e.type)&&Jl(),gt(e),null;case 19:if(Be(Me),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)ci(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=oc(t),i!==null){for(e.flags|=128,ci(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>Ms&&(e.flags|=128,r=!0,ci(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ci(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Re)return gt(e),null}else 2*We()-s.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,ci(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Me.current,je(Me,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Vp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function qT(t,e){switch(Sp(e),e.tag){case 1:return Ot(e.type)&&Jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),Be(Bt),Be(xt),Ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ip(e),null;case 13:if(Be(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Me),null;case 4:return Os(),null;case 10:return _p(e.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var Za=!1,vt=!1,KT=typeof WeakSet=="function"?WeakSet:Set,X=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Vf(t,e,n){try{n()}catch(r){ze(t,e,r)}}var h0=!1;function YT(t,e){if(Tf=ql,t=tx(),wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var y;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:t,selectionRange:n},ql=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,w=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:dn(e.type,b),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){ze(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return g=h0,h0=!1,g}function Pi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Vf(e,n,s)}o=o.next}while(o!==r)}}function ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qx(t){var e=t.alternate;e!==null&&(t.alternate=null,Qx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[ea],delete e[Pf],delete e[IT],delete e[AT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zx(t){return t.tag===5||t.tag===3||t.tag===4}function p0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xl));else if(r!==4&&(t=t.child,t!==null))for(Wf(t,e,n),t=t.sibling;t!==null;)Wf(t,e,n),t=t.sibling}function Gf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gf(t,e,n),t=t.sibling;t!==null;)Gf(t,e,n),t=t.sibling}var ct=null,un=!1;function vr(t,e,n){for(n=n.child;n!==null;)ew(t,e,n),n=n.sibling}function ew(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Gc,n)}catch{}switch(n.tag){case 5:vt||ps(n,e);case 6:var r=ct,o=un;ct=null,vr(t,e,n),ct=r,un=o,ct!==null&&(un?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(un?(t=ct,n=n.stateNode,t.nodeType===8?fu(t.parentNode,n):t.nodeType===1&&fu(t,n),Yi(t)):fu(ct,n.stateNode));break;case 4:r=ct,o=un,ct=n.stateNode.containerInfo,un=!0,vr(t,e,n),ct=r,un=o;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Vf(n,e,i),o=o.next}while(o!==r)}vr(t,e,n);break;case 1:if(!vt&&(ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,vr(t,e,n),vt=r):vr(t,e,n);break;default:vr(t,e,n)}}function m0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KT),e.forEach(function(r){var o=o2.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,un=!1;break e;case 3:ct=a.stateNode.containerInfo,un=!0;break e;case 4:ct=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(ct===null)throw Error(W(160));ew(s,i,o),ct=null,un=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ze(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tw(e,t),e=e.sibling}function tw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),Cn(t),r&4){try{Pi(3,t,t.return),ed(3,t)}catch(b){ze(t,t.return,b)}try{Pi(5,t,t.return)}catch(b){ze(t,t.return,b)}}break;case 1:ln(e,t),Cn(t),r&512&&n!==null&&ps(n,n.return);break;case 5:if(ln(e,t),Cn(t),r&512&&n!==null&&ps(n,n.return),t.flags&32){var o=t.stateNode;try{Wi(o,"")}catch(b){ze(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kb(o,s),gf(a,i);var c=gf(a,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?_b(o,f):u==="dangerouslySetInnerHTML"?Eb(o,f):u==="children"?Wi(o,f):lp(o,u,f,c)}switch(a){case"input":uf(o,s);break;case"textarea":Sb(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xs(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?xs(o,!!s.multiple,s.defaultValue,!0):xs(o,!!s.multiple,s.multiple?[]:"",!1))}o[ea]=s}catch(b){ze(t,t.return,b)}}break;case 6:if(ln(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(W(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(b){ze(t,t.return,b)}}break;case 3:if(ln(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yi(e.containerInfo)}catch(b){ze(t,t.return,b)}break;case 4:ln(e,t),Cn(t);break;case 13:ln(e,t),Cn(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||($p=We())),r&4&&m0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,ln(e,t),vt=c):ln(e,t),Cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(X=t,u=t.child;u!==null;){for(f=X=u;X!==null;){switch(h=X,y=h.child,h.tag){case 0:case 11:case 14:case 15:Pi(4,h,h.return);break;case 1:ps(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){ze(r,n,b)}}break;case 5:ps(h,h.return);break;case 22:if(h.memoizedState!==null){y0(f);continue}}y!==null?(y.return=h,X=y):y0(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tb("display",i))}catch(b){ze(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){ze(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),Cn(t),r&4&&m0(t);break;case 21:break;default:ln(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zx(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Wi(o,""),r.flags&=-33);var s=p0(t);Gf(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=p0(t);Wf(t,a,i);break;default:throw Error(W(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XT(t,e,n){X=t,nw(t)}function nw(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var o=X,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Za;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||vt;a=Za;var c=vt;if(Za=i,(vt=l)&&!c)for(X=o;X!==null;)i=X,l=i.child,i.tag===22&&i.memoizedState!==null?v0(o):l!==null?(l.return=i,X=l):v0(o);for(;s!==null;)X=s,nw(s),s=s.sibling;X=o,Za=a,vt=c}g0(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,X=s):g0(t)}}function g0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||ed(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zg(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zg(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Yi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}vt||e.flags&512&&Hf(e)}catch(h){ze(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function y0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function v0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ed(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ze(e,o,l)}}var s=e.return;try{Hf(e)}catch(l){ze(e,s,l)}break;case 5:var i=e.return;try{Hf(e)}catch(l){ze(e,i,l)}}}catch(l){ze(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var JT=Math.ceil,ac=mr.ReactCurrentDispatcher,Fp=mr.ReactCurrentOwner,on=mr.ReactCurrentBatchConfig,be=0,st=null,Ye=null,dt=0,zt=0,ms=no(0),et=0,ia=null,Bo=0,td=0,Up=0,Ii=null,It=null,$p=0,Ms=1/0,Hn=null,lc=!1,qf=null,$r=null,el=!1,Lr=null,cc=0,Ai=0,Kf=null,Sl=-1,Cl=0;function Et(){return be&6?We():Sl!==-1?Sl:Sl=We()}function zr(t){return t.mode&1?be&2&&dt!==0?dt&-dt:BT.transition!==null?(Cl===0&&(Cl=Fb()),Cl):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Gb(t.type)),t):1}function gn(t,e,n,r){if(50<Ai)throw Ai=0,Kf=null,Error(W(185));xa(t,n,r),(!(be&2)||t!==st)&&(t===st&&(!(be&2)&&(td|=n),et===4&&Tr(t,dt)),Rt(t,r),n===1&&be===0&&!(e.mode&1)&&(Ms=We()+500,Jc&&ro()))}function Rt(t,e){var n=t.callbackNode;BE(t,e);var r=Gl(t,t===st?dt:0);if(r===0)n!==null&&_g(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_g(n),e===1)t.tag===0?LT(b0.bind(null,t)):ux(b0.bind(null,t)),NT(function(){!(be&6)&&ro()}),n=null;else{switch(Ub(r)){case 1:n=hp;break;case 4:n=Mb;break;case 16:n=Wl;break;case 536870912:n=Db;break;default:n=Wl}n=dw(n,rw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rw(t,e){if(Sl=-1,Cl=0,be&6)throw Error(W(327));var n=t.callbackNode;if(Es()&&t.callbackNode!==n)return null;var r=Gl(t,t===st?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dc(t,r);else{e=r;var o=be;be|=2;var s=sw();(st!==t||dt!==e)&&(Hn=null,Ms=We()+500,To(t,e));do try{e2();break}catch(a){ow(t,a)}while(1);Tp(),ac.current=s,be=o,Ye!==null?e=0:(st=null,dt=0,e=et)}if(e!==0){if(e===2&&(o=wf(t),o!==0&&(r=o,e=Yf(t,o))),e===1)throw n=ia,To(t,0),Tr(t,r),Rt(t,We()),n;if(e===6)Tr(t,r);else{if(o=t.current.alternate,!(r&30)&&!QT(o)&&(e=dc(t,r),e===2&&(s=wf(t),s!==0&&(r=s,e=Yf(t,s))),e===1))throw n=ia,To(t,0),Tr(t,r),Rt(t,We()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ho(t,It,Hn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=$p+500-We(),10<e)){if(Gl(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Nf(ho.bind(null,t,It,Hn),e);break}ho(t,It,Hn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-mn(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JT(r/1960))-r,10<r){t.timeoutHandle=Nf(ho.bind(null,t,It,Hn),r);break}ho(t,It,Hn);break;case 5:ho(t,It,Hn);break;default:throw Error(W(329))}}}return Rt(t,We()),t.callbackNode===n?rw.bind(null,t):null}function Yf(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(To(t,e).flags|=256),t=dc(t,e),t!==2&&(e=It,It=n,e!==null&&Xf(e)),t}function Xf(t){It===null?It=t:It.push.apply(It,t)}function QT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!bn(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Up,e&=~td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),r=1<<n;t[n]=-1,e&=~r}}function b0(t){if(be&6)throw Error(W(327));Es();var e=Gl(t,0);if(!(e&1))return Rt(t,We()),null;var n=dc(t,e);if(t.tag!==0&&n===2){var r=wf(t);r!==0&&(e=r,n=Yf(t,r))}if(n===1)throw n=ia,To(t,0),Tr(t,e),Rt(t,We()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ho(t,It,Hn),Rt(t,We()),null}function zp(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Ms=We()+500,Jc&&ro())}}function Oo(t){Lr!==null&&Lr.tag===0&&!(be&6)&&Es();var e=be;be|=1;var n=on.transition,r=Se;try{if(on.transition=null,Se=1,t)return t()}finally{Se=r,on.transition=n,be=e,!(be&6)&&ro()}}function Vp(){zt=ms.current,Be(ms)}function To(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jT(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:Os(),Be(Bt),Be(xt),Ap();break;case 5:Ip(r);break;case 4:Os();break;case 13:Be(Me);break;case 19:Be(Me);break;case 10:_p(r.type._context);break;case 22:case 23:Vp()}n=n.return}if(st=t,Ye=t=Vr(t.current,null),dt=zt=e,et=0,ia=null,Up=td=Bo=0,It=Ii=null,xo!==null){for(e=0;e<xo.length;e++)if(n=xo[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}xo=null}return t}function ow(t,e){do{var n=Ye;try{if(Tp(),xl.current=ic,sc){for(var r=Fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sc=!1}if(Lo=0,ot=Ze=Fe=null,Ni=!1,ra=0,Fp.current=null,n===null||n.return===null){et=1,ia=e,Ye=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=i0(i);if(y!==null){y.flags&=-257,a0(y,i,a,s,e),y.mode&1&&s0(s,c,e),e=y,l=c;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){s0(s,c,e),Hp();break e}l=Error(W(426))}}else if(Re&&a.mode&1){var w=i0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),a0(w,i,a,s,e),Cp(Rs(l,a));break e}}s=l=Rs(l,a),et!==4&&(et=2),Ii===null?Ii=[s]:Ii.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=$x(s,l,e);Qg(s,v);break e;case 1:a=l;var m=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($r===null||!$r.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=zx(s,a,e);Qg(s,x);break e}}s=s.return}while(s!==null)}aw(n)}catch(k){e=k,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function sw(){var t=ac.current;return ac.current=ic,t===null?ic:t}function Hp(){(et===0||et===3||et===2)&&(et=4),st===null||!(Bo&268435455)&&!(td&268435455)||Tr(st,dt)}function dc(t,e){var n=be;be|=2;var r=sw();(st!==t||dt!==e)&&(Hn=null,To(t,e));do try{ZT();break}catch(o){ow(t,o)}while(1);if(Tp(),be=n,ac.current=r,Ye!==null)throw Error(W(261));return st=null,dt=0,et}function ZT(){for(;Ye!==null;)iw(Ye)}function e2(){for(;Ye!==null&&!EE();)iw(Ye)}function iw(t){var e=cw(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?aw(t):Ye=e,Fp.current=null}function aw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qT(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=GT(n,e,zt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function ho(t,e,n){var r=Se,o=on.transition;try{on.transition=null,Se=1,t2(t,e,n,r)}finally{on.transition=o,Se=r}return null}function t2(t,e,n,r){do Es();while(Lr!==null);if(be&6)throw Error(W(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OE(t,s),t===st&&(Ye=st=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,dw(Wl,function(){return Es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var i=Se;Se=1;var a=be;be|=4,Fp.current=null,YT(t,n),tw(n,t),wT(_f),ql=!!Tf,_f=Tf=null,t.current=n,XT(n),TE(),be=a,Se=i,on.transition=s}else t.current=n;if(el&&(el=!1,Lr=t,cc=o),s=t.pendingLanes,s===0&&($r=null),NE(n.stateNode),Rt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(lc)throw lc=!1,t=qf,qf=null,t;return cc&1&&t.tag!==0&&Es(),s=t.pendingLanes,s&1?t===Kf?Ai++:(Ai=0,Kf=t):Ai=0,ro(),null}function Es(){if(Lr!==null){var t=Ub(cc),e=on.transition,n=Se;try{if(on.transition=null,Se=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,cc=0,be&6)throw Error(W(331));var o=be;for(be|=4,X=t.current;X!==null;){var s=X,i=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var u=X;switch(u.tag){case 0:case 11:case 15:Pi(8,u,s)}var f=u.child;if(f!==null)f.return=u,X=f;else for(;X!==null;){u=X;var h=u.sibling,y=u.return;if(Qx(u),u===c){X=null;break}if(h!==null){h.return=y,X=h;break}X=y}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}X=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,X=i;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pi(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,X=v;break e}X=s.return}}var m=t.current;for(X=m;X!==null;){i=X;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,X=p;else e:for(i=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ed(9,a)}}catch(k){ze(a,a.return,k)}if(a===i){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(be=o,ro(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Gc,t)}catch{}r=!0}return r}finally{Se=n,on.transition=e}}return!1}function x0(t,e,n){e=Rs(n,e),e=$x(t,e,1),t=Ur(t,e,1),e=Et(),t!==null&&(xa(t,1,e),Rt(t,e))}function ze(t,e,n){if(t.tag===3)x0(t,t,n);else for(;e!==null;){if(e.tag===3){x0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Rs(n,t),t=zx(e,t,1),e=Ur(e,t,1),t=Et(),e!==null&&(xa(e,1,t),Rt(e,t));break}}e=e.return}}function n2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(dt&n)===n&&(et===4||et===3&&(dt&130023424)===dt&&500>We()-$p?To(t,0):Up|=n),Rt(t,e)}function lw(t,e){e===0&&(t.mode&1?(e=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):e=1);var n=Et();t=lr(t,e),t!==null&&(xa(t,e,n),Rt(t,n))}function r2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lw(t,n)}function o2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),lw(t,n)}var cw;cw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,WT(t,e,n);At=!!(t.flags&131072)}else At=!1,Re&&e.flags&1048576&&fx(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kl(t,e),t=e.pendingProps;var o=As(e,xt.current);Cs(e,n),o=Bp(null,e,r,t,o,n);var s=Op();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(s=!0,Ql(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Np(e),o.updater=Qc,e.stateNode=o,o._reactInternals=e,Rf(e,r,t,n),e=Ff(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&kp(e),St(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kl(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=i2(r),t=dn(r,t),o){case 0:e=Df(null,e,r,t,n);break e;case 1:e=d0(null,e,r,t,n);break e;case 11:e=l0(null,e,r,t,n);break e;case 14:e=c0(null,e,r,dn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:dn(r,o),Df(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:dn(r,o),d0(t,e,r,o,n);case 3:e:{if(Gx(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,o=s.element,gx(t,e),rc(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Rs(Error(W(423)),e),e=u0(t,e,r,n,o);break e}else if(r!==o){o=Rs(Error(W(424)),e),e=u0(t,e,r,n,o);break e}else for(Ht=Fr(e.stateNode.containerInfo.firstChild),Wt=e,Re=!0,fn=null,n=xx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ls(),r===o){e=cr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return wx(e),t===null&&Lf(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,jf(r,o)?i=null:s!==null&&jf(r,s)&&(e.flags|=32),Wx(t,e),St(t,e,i,n),e.child;case 6:return t===null&&Lf(e),null;case 13:return qx(t,e,n);case 4:return Pp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bs(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:dn(r,o),l0(t,e,r,o,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,je(tc,r._currentValue),r._currentValue=i,s!==null)if(bn(s.value,i)){if(s.children===o.children&&!Bt.current){e=cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Bf(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}St(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Cs(e,n),o=sn(o),r=r(o),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,o=dn(r,e.pendingProps),o=dn(r.type,o),c0(t,e,r,o,n);case 15:return Vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:dn(r,o),kl(t,e),e.tag=1,Ot(r)?(t=!0,Ql(e)):t=!1,Cs(e,n),vx(e,r,o),Rf(e,r,o,n),Ff(null,e,r,!0,t,n);case 19:return Kx(t,e,n);case 22:return Hx(t,e,n)}throw Error(W(156,e.tag))};function dw(t,e){return Rb(t,e)}function s2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new s2(t,e,n,r)}function Wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i2(t){if(typeof t=="function")return Wp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dp)return 11;if(t===up)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function El(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")Wp(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ss:return _o(n.children,o,s,e);case cp:i=8,o|=8;break;case sf:return t=rn(12,n,e,o|2),t.elementType=sf,t.lanes=s,t;case af:return t=rn(13,n,e,o),t.elementType=af,t.lanes=s,t;case lf:return t=rn(19,n,e,o),t.elementType=lf,t.lanes=s,t;case bb:return nd(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yb:i=10;break e;case vb:i=9;break e;case dp:i=11;break e;case up:i=14;break e;case kr:i=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=rn(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function _o(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function nd(t,e,n,r){return t=rn(22,t,r,e),t.elementType=bb,t.lanes=n,t.stateNode={isHidden:!1},t}function xu(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function wu(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a2(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gp(t,e,n,r,o,s,i,a,l){return t=new a2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(s),t}function l2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uw(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ho(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Ot(n))return dx(t,n,e)}return e}function fw(t,e,n,r,o,s,i,a,l){return t=Gp(n,r,!0,t,o,s,i,a,l),t.context=uw(null),n=t.current,r=Et(),o=zr(n),s=tr(r,o),s.callback=e??null,Ur(n,s,o),t.current.lanes=o,xa(t,o,r),Rt(t,r),t}function rd(t,e,n,r){var o=e.current,s=Et(),i=zr(o);return n=uw(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(o,e,i),t!==null&&(gn(t,o,i,s),bl(t,o,i)),i}function uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qp(t,e){w0(t,e),(t=t.alternate)&&w0(t,e)}function c2(){return null}var hw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kp(t){this._internalRoot=t}od.prototype.render=Kp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));rd(t,e,null,null)};od.prototype.unmount=Kp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){rd(null,t,null,null)}),e[ar]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&Wb(t)}};function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k0(){}function d2(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=uc(i);s.call(c)}}var i=fw(e,r,t,0,null,!1,!1,"",k0);return t._reactRootContainer=i,t[ar]=i.current,Qi(t.nodeType===8?t.parentNode:t),Oo(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=uc(l);a.call(c)}}var l=Gp(t,0,!1,null,null,!1,!1,"",k0);return t._reactRootContainer=l,t[ar]=l.current,Qi(t.nodeType===8?t.parentNode:t),Oo(function(){rd(e,l,n,r)}),l}function id(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=uc(i);a.call(l)}}rd(e,i,t,o)}else i=d2(n,e,t,o,r);return uc(i)}$b=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bi(e.pendingLanes);n!==0&&(pp(e,n|1),Rt(e,We()),!(be&6)&&(Ms=We()+500,ro()))}break;case 13:Oo(function(){var r=lr(t,1);if(r!==null){var o=Et();gn(r,t,1,o)}}),qp(t,1)}};mp=function(t){if(t.tag===13){var e=lr(t,134217728);if(e!==null){var n=Et();gn(e,t,134217728,n)}qp(t,134217728)}};zb=function(t){if(t.tag===13){var e=zr(t),n=lr(t,e);if(n!==null){var r=Et();gn(n,t,e,r)}qp(t,e)}};Vb=function(){return Se};Hb=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};vf=function(t,e,n){switch(e){case"input":if(uf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Xc(r);if(!o)throw Error(W(90));wb(r),uf(r,o)}}}break;case"textarea":Sb(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};Pb=zp;Ib=Oo;var u2={usingClientEntryPoint:!1,Events:[ka,cs,Xc,jb,Nb,zp]},di={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f2={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bb(t),t===null?null:t.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||c2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Gc=tl.inject(f2),Ln=tl}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u2;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(e))throw Error(W(200));return l2(t,e,null,n)};Kt.createRoot=function(t,e){if(!Yp(t))throw Error(W(299));var n=!1,r="",o=hw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Gp(t,1,!1,null,null,n,!1,r,o),t[ar]=e.current,Qi(t.nodeType===8?t.parentNode:t),new Kp(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Bb(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Oo(t)};Kt.hydrate=function(t,e,n){if(!sd(e))throw Error(W(200));return id(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Yp(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=hw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=fw(e,null,t,1,n??null,o,!1,s,i),t[ar]=e.current,Qi(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new od(e)};Kt.render=function(t,e,n){if(!sd(e))throw Error(W(200));return id(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!sd(t))throw Error(W(40));return t._reactRootContainer?(Oo(function(){id(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Kt.unstable_batchedUpdates=zp;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return id(t,e,n,!1,r)};Kt.version="18.2.0-next-9e3b772b8-20220608";function pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pw)}catch(t){console.error(t)}}pw(),fb.exports=Kt;var h2=fb.exports,S0=h2;rf.createRoot=S0.createRoot,rf.hydrateRoot=S0.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}var Br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Br||(Br={}));const C0="popstate";function p2(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:i,hash:a}=r.location;return Jf("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:fc(o)}return g2(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m2(){return Math.random().toString(36).substr(2,8)}function E0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jf(t,e,n,r){return n===void 0&&(n=null),aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qs(e):e,{state:n,key:e&&e.key||r||m2()})}function fc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g2(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=Br.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(aa({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){a=Br.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:b.location,delta:v})}function h(w,v){a=Br.Push;let m=Jf(b.location,w,v);n&&n(m,w),c=u()+1;let p=E0(m,c),x=b.createHref(m);try{i.pushState(p,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(x)}s&&l&&l({action:a,location:b.location,delta:1})}function y(w,v){a=Br.Replace;let m=Jf(b.location,w,v);n&&n(m,w),c=u();let p=E0(m,c),x=b.createHref(m);i.replaceState(p,"",x),s&&l&&l({action:a,location:b.location,delta:0})}function g(w){let v=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof w=="string"?w:fc(w);return qe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let b={get action(){return a},get location(){return t(o,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(C0,f),l=w,()=>{o.removeEventListener(C0,f),l=null}},createHref(w){return e(o,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:y,go(w){return i.go(w)}};return b}var T0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T0||(T0={}));function y2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qs(e):e,o=Jp(r.pathname||"/",n);if(o==null)return null;let s=mw(t);v2(s);let i=null;for(let a=0;i==null&&a<s.length;++a)i=_2(s[a],P2(o));return i}function mw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mw(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:E2(c,s.index),routesMeta:u})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of gw(s.path))o(s,i,l)}),e}function gw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=gw(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function v2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b2=/^:\w+$/,x2=3,w2=2,k2=1,S2=10,C2=-2,_0=t=>t==="*";function E2(t,e){let n=t.split("/"),r=n.length;return n.some(_0)&&(r+=C2),e&&(r+=w2),n.filter(o=>!_0(o)).reduce((o,s)=>o+(b2.test(s)?x2:s===""?k2:S2),r)}function T2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function _2(t,e){let{routesMeta:n}=t,r={},o="/",s=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=j2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=a.route;s.push({params:r,pathname:Hr([o,u.pathname]),pathnameBase:B2(Hr([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=Hr([o,u.pathnameBase]))}return s}function j2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N2(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,f)=>{if(u==="*"){let h=a[f]||"";i=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=I2(a[f]||"",u),c},{}),pathname:s,pathnameBase:i,pattern:t}}function N2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function P2(t){try{return decodeURI(t)}catch(e){return Xp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function I2(t,e){try{return decodeURIComponent(t)}catch(n){return Xp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Jp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?qs(t):t;return{pathname:n?n.startsWith("/")?n:L2(n,e):e,search:O2(r),hash:R2(o)}}function L2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ku(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qp(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zp(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=qs(t):(o=aa({},t),qe(!o.pathname||!o.pathname.includes("?"),ku("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),ku("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),ku("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(r||i==null)a=n;else{let f=e.length-1;if(i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=A2(o,a),c=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),B2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yw=["post","put","patch","delete"];new Set(yw);const D2=["get",...yw];new Set(D2);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}const em=E.createContext(null),vw=E.createContext(null),Wo=E.createContext(null),ad=E.createContext(null),Un=E.createContext({outlet:null,matches:[],isDataRoute:!1}),bw=E.createContext(null);function F2(t,e){let{relative:n}=e===void 0?{}:e;Ks()||qe(!1);let{basename:r,navigator:o}=E.useContext(Wo),{hash:s,pathname:i,search:a}=tm(t,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Hr([r,i])),o.createHref({pathname:l,search:a,hash:s})}function Ks(){return E.useContext(ad)!=null}function gr(){return Ks()||qe(!1),E.useContext(ad).location}function xw(t){E.useContext(Wo).static||E.useLayoutEffect(t)}function Xt(){let{isDataRoute:t}=E.useContext(Un);return t?e_():U2()}function U2(){Ks()||qe(!1);let t=E.useContext(em),{basename:e,navigator:n}=E.useContext(Wo),{matches:r}=E.useContext(Un),{pathname:o}=gr(),s=JSON.stringify(Qp(r).map(l=>l.pathnameBase)),i=E.useRef(!1);return xw(()=>{i.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!i.current)return;if(typeof l=="number"){n.go(l);return}let u=Zp(l,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Hr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,o,t])}const $2=E.createContext(null);function z2(t){let e=E.useContext(Un).outlet;return e&&E.createElement($2.Provider,{value:t},e)}function Go(){let{matches:t}=E.useContext(Un),e=t[t.length-1];return e?e.params:{}}function tm(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Un),{pathname:o}=gr(),s=JSON.stringify(Qp(r).map(i=>i.pathnameBase));return E.useMemo(()=>Zp(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function V2(t,e){return H2(t,e)}function H2(t,e,n){Ks()||qe(!1);let{navigator:r}=E.useContext(Wo),{matches:o}=E.useContext(Un),s=o[o.length-1],i=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=gr(),c;if(e){var u;let b=typeof e=="string"?qs(e):e;a==="/"||(u=b.pathname)!=null&&u.startsWith(a)||qe(!1),c=b}else c=l;let f=c.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",y=y2(t,{pathname:h}),g=Y2(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:Hr([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:Hr([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n);return e&&g?E.createElement(ad.Provider,{value:{location:hc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Br.Pop}},g):g}function W2(){let t=Z2(),e=M2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,s)}const G2=E.createElement(W2,null);class q2 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Un.Provider,{value:this.props.routeContext},E.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K2(t){let{routeContext:e,match:n,children:r}=t,o=E.useContext(em);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Un.Provider,{value:e},r)}function Y2(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,i=(r=n)==null?void 0:r.errors;if(i!=null){let a=s.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id]));a>=0||qe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?i==null?void 0:i[l.route.id]:null,f=null;n&&(f=l.route.errorElement||G2);let h=e.concat(s.slice(0,c+1)),y=()=>{let g;return u?g=f:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(K2,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?E.createElement(q2,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:y(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):y()},null)}var Qf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Qf||(Qf={}));var la;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(la||(la={}));function X2(t){let e=E.useContext(em);return e||qe(!1),e}function J2(t){let e=E.useContext(vw);return e||qe(!1),e}function Q2(t){let e=E.useContext(Un);return e||qe(!1),e}function ww(t){let e=Q2(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function Z2(){var t;let e=E.useContext(bw),n=J2(la.UseRouteError),r=ww(la.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function e_(){let{router:t}=X2(Qf.UseNavigateStable),e=ww(la.UseNavigateStable),n=E.useRef(!1);return xw(()=>{n.current=!0}),E.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,hc({fromRouteId:e},s)))},[t,e])}function t_(t){let{to:e,replace:n,state:r,relative:o}=t;Ks()||qe(!1);let{matches:s}=E.useContext(Un),{pathname:i}=gr(),a=Xt(),l=Zp(e,Qp(s).map(u=>u.pathnameBase),i,o==="path"),c=JSON.stringify(l);return E.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function kw(t){return z2(t.context)}function Te(t){qe(!1)}function n_(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Br.Pop,navigator:s,static:i=!1}=t;Ks()&&qe(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:i}),[a,s,i]);typeof r=="string"&&(r=qs(r));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:y="default"}=r,g=E.useMemo(()=>{let b=Jp(c,a);return b==null?null:{location:{pathname:b,search:u,hash:f,state:h,key:y},navigationType:o}},[a,c,u,f,h,y,o]);return g==null?null:E.createElement(Wo.Provider,{value:l},E.createElement(ad.Provider,{children:n,value:g}))}function r_(t){let{children:e,location:n}=t;return V2(Zf(e),n)}var j0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(j0||(j0={}));new Promise(()=>{});function Zf(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,o)=>{if(!E.isValidElement(r))return;let s=[...e,o];if(r.type===E.Fragment){n.push.apply(n,Zf(r.props.children,s));return}r.type!==Te&&qe(!1),!r.props.index||!r.props.children||qe(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Zf(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function Sw(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function o_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s_(t,e){return t.button===0&&(!e||e==="_self")&&!o_(t)}function eh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function i_(t,e){let n=eh(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)});return n}const a_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],l_=["aria-current","caseSensitive","className","end","style","to","children"],c_="startTransition",N0=rE[c_];function d_(t){let{basename:e,children:n,future:r,window:o}=t,s=E.useRef();s.current==null&&(s.current=p2({window:o,v5Compat:!0}));let i=s.current,[a,l]=E.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=E.useCallback(f=>{c&&N0?N0(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(n_,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i})}const u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=E.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:c,preventScrollReset:u}=e,f=Sw(e,a_),{basename:h}=E.useContext(Wo),y,g=!1;if(typeof c=="string"&&f_.test(c)&&(y=c,u_))try{let m=new URL(window.location.href),p=c.startsWith("//")?new URL(m.protocol+c):new URL(c),x=Jp(p.pathname,h);p.origin===m.origin&&x!=null?c=x+p.search+p.hash:g=!0}catch{}let b=F2(c,{relative:o}),w=h_(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:o});function v(m){r&&r(m),m.defaultPrevented||w(m)}return E.createElement("a",pc({},f,{href:y||b,onClick:g||s?r:v,ref:n,target:l}))}),P0=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:i=!1,style:a,to:l,children:c}=e,u=Sw(e,l_),f=tm(l,{relative:u.relative}),h=gr(),y=E.useContext(vw),{navigator:g}=E.useContext(Wo),b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,v=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(w=w.toLowerCase(),v=v?v.toLowerCase():null,b=b.toLowerCase());let m=w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/",p=v!=null&&(v===b||!i&&v.startsWith(b)&&v.charAt(b.length)==="/"),x=m?r:void 0,k;typeof s=="function"?k=s({isActive:m,isPending:p}):k=[s,m?"active":null,p?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:m,isPending:p}):a;return E.createElement(ne,pc({},u,{"aria-current":x,className:k,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:m,isPending:p}):c)});var I0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(I0||(I0={}));var A0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A0||(A0={}));function h_(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:i}=e===void 0?{}:e,a=Xt(),l=gr(),c=tm(t,{relative:i});return E.useCallback(u=>{if(s_(u,n)){u.preventDefault();let f=r!==void 0?r:fc(l)===fc(c);a(t,{replace:f,state:o,preventScrollReset:s,relative:i})}},[l,a,c,r,o,n,t,s,i])}function nm(t){let e=E.useRef(eh(t)),n=E.useRef(!1),r=gr(),o=E.useMemo(()=>i_(r.search,n.current?null:e.current),[r.search]),s=Xt(),i=E.useCallback((a,l)=>{const c=eh(typeof a=="function"?a(o):a);n.current=!0,s("?"+c,l)},[s,o]);return[o,i]}const Cw=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ld=E.createContext({}),cd=E.createContext(null),dd=typeof document<"u",rm=dd?E.useLayoutEffect:E.useEffect,Ew=E.createContext({strict:!1}),om=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p_="framerAppearId",Tw="data-"+om(p_);function m_(t,e,n,r){const{visualElement:o}=E.useContext(ld),s=E.useContext(Ew),i=E.useContext(cd),a=E.useContext(Cw).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(n,i)});const u=E.useRef(!!(n[Tw]&&!window.HandoffComplete));return rm(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function gs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function g_(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[e])}function ca(t){return typeof t=="string"||Array.isArray(t)}function ud(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],im=["initial",...sm];function fd(t){return ud(t.animate)||im.some(e=>ca(t[e]))}function _w(t){return!!(fd(t)||t.variants)}function y_(t,e){if(fd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ca(n)?n:void 0,animate:ca(r)?r:void 0}}return t.inherit!==!1?e:{}}function v_(t){const{initial:e,animate:n}=y_(t,E.useContext(ld));return E.useMemo(()=>({initial:e,animate:n}),[L0(e),L0(n)])}function L0(t){return Array.isArray(t)?t.join(" "):t}const B0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},da={};for(const t in B0)da[t]={isEnabled:e=>B0[t].some(n=>!!e[n])};function b_(t){for(const e in t)da[e]={...da[e],...t[e]}}const am=E.createContext({}),jw=E.createContext({}),x_=Symbol.for("motionComponentSymbol");function w_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&b_(t);function s(a,l){let c;const u={...E.useContext(Cw),...a,layoutId:k_(a)},{isStatic:f}=u,h=v_(a),y=r(a,f);if(!f&&dd){h.visualElement=m_(o,y,u,e);const g=E.useContext(jw),b=E.useContext(Ew).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,b,t,g))}return E.createElement(ld.Provider,{value:h},c&&h.visualElement?E.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,g_(y,h.visualElement,l),y,f,h.visualElement))}const i=E.forwardRef(s);return i[x_]=o,i}function k_({layoutId:t}){const e=E.useContext(am).id;return e&&t!==void 0?e+"-"+t:t}function S_(t){function e(r,o={}){return w_(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const C_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lm(t){return typeof t!="string"||t.includes("-")?!1:!!(C_.indexOf(t)>-1||/[A-Z]/.test(t))}const mc={};function E_(t){Object.assign(mc,t)}const Ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(Ca);function Nw(t,{layout:e,layoutId:n}){return qo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mc[t]||t==="opacity")}const Dt=t=>!!(t&&t.getVelocity),T_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},__=Ca.length;function j_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let s="";for(let i=0;i<__;i++){const a=Ca[i];if(t[a]!==void 0){const l=T_[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(t,r?"":s):n&&r&&(s="none"),s}const Pw=t=>e=>typeof e=="string"&&e.startsWith(t),Iw=Pw("--"),th=Pw("var(--"),N_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,P_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Jr=(t,e,n)=>Math.min(Math.max(n,t),e),Ko={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Li={...Ko,transform:t=>Jr(0,1,t)},nl={...Ko,default:1},Bi=t=>Math.round(t*1e5)/1e5,hd=/(-)?([\d]*\.?[\d])+/g,Aw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,I_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ea(t){return typeof t=="string"}const Ta=t=>({test:e=>Ea(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wr=Ta("deg"),On=Ta("%"),te=Ta("px"),A_=Ta("vh"),L_=Ta("vw"),O0={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},R0={...Ko,transform:Math.round},Lw={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:nl,scaleX:nl,scaleY:nl,scaleZ:nl,skew:wr,skewX:wr,skewY:wr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Li,originX:O0,originY:O0,originZ:te,zIndex:R0,fillOpacity:Li,strokeOpacity:Li,numOctaves:R0};function cm(t,e,n,r){const{style:o,vars:s,transform:i,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(Iw(f)){s[f]=h;continue}const y=Lw[f],g=P_(h,y);if(qo.has(f)){if(l=!0,i[f]=g,!u)continue;h!==(y.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):o[f]=g}if(e.transform||(l||r?o.transform=j_(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:y=0}=a;o.transformOrigin=`${f} ${h} ${y}`}}const dm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bw(t,e,n){for(const r in e)!Dt(e[r])&&!Nw(r,n)&&(t[r]=e[r])}function B_({transformTemplate:t},e,n){return E.useMemo(()=>{const r=dm();return cm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function O_(t,e,n){const r=t.style||{},o={};return Bw(o,r,t),Object.assign(o,B_(t,e,n)),t.transformValues?t.transformValues(o):o}function R_(t,e,n){const r={},o=O_(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const M_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M_.has(t)}let Ow=t=>!gc(t);function D_(t){t&&(Ow=e=>e.startsWith("on")?!gc(e):t(e))}try{D_(require("@emotion/is-prop-valid").default)}catch{}function F_(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ow(o)||n===!0&&gc(o)||!e&&!gc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function M0(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function U_(t,e,n){const r=M0(e,t.x,t.width),o=M0(n,t.y,t.height);return`${r} ${o}`}const $_={offset:"stroke-dashoffset",array:"stroke-dasharray"},z_={offset:"strokeDashoffset",array:"strokeDasharray"};function V_(t,e,n=1,r=0,o=!0){t.pathLength=1;const s=o?$_:z_;t[s.offset]=te.transform(-r);const i=te.transform(e),a=te.transform(n);t[s.array]=`${i} ${a}`}function um(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(cm(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:g,dimensions:b}=t;y.transform&&(b&&(g.transform=y.transform),delete y.transform),b&&(o!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=U_(b,o!==void 0?o:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&V_(y,i,a,l,!1)}const Rw=()=>({...dm(),attrs:{}}),fm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H_(t,e,n,r){const o=E.useMemo(()=>{const s=Rw();return um(s,e,{enableHardwareAcceleration:!1},fm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Bw(s,t.style,t),o.style={...s,...o.style}}return o}function W_(t=!1){return(n,r,o,{latestValues:s},i)=>{const l=(lm(n)?H_:R_)(r,s,i,n),u={...F_(r,typeof n=="string",t),...l,ref:o},{children:f}=r,h=E.useMemo(()=>Dt(f)?f.get():f,[f]);return E.createElement(n,{...u,children:h})}}function Mw(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fw(t,e,n,r){Mw(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Dw.has(o)?o:om(o),e.attrs[o])}function hm(t,e){const{style:n}=t,r={};for(const o in n)(Dt(n[o])||e.style&&Dt(e.style[o])||Nw(o,t))&&(r[o]=n[o]);return r}function Uw(t,e){const n=hm(t,e);for(const r in t)if(Dt(t[r])||Dt(e[r])){const o=Ca.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function pm(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function $w(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const yc=t=>Array.isArray(t),G_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),q_=t=>yc(t)?t[t.length-1]||0:t;function Tl(t){const e=Dt(t)?t.get():t;return G_(e)?e.toValue():e}function K_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,s){const i={latestValues:Y_(r,o,s,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const zw=t=>(e,n)=>{const r=E.useContext(ld),o=E.useContext(cd),s=()=>K_(t,e,r,o);return n?s():$w(s)};function Y_(t,e,n,r){const o={},s=r(t,{});for(const h in s)o[h]=Tl(s[h]);let{initial:i,animate:a}=t;const l=fd(t),c=_w(t);e&&c&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const f=u?a:i;return f&&typeof f!="boolean"&&!ud(f)&&(Array.isArray(f)?f:[f]).forEach(y=>{const g=pm(t,y);if(!g)return;const{transitionEnd:b,transition:w,...v}=g;for(const m in v){let p=v[m];if(Array.isArray(p)){const x=u?p.length-1:0;p=p[x]}p!==null&&(o[m]=p)}for(const m in b)o[m]=b[m]}),o}const Ve=t=>t;class D0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function X_(t){let e=new D0,n=new D0,r=0,o=!1,s=!1;const i=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&o,h=f?e:n;return c&&i.add(l),h.add(l)&&f&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(o){s=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),i.has(u)&&(a.schedule(u),t())}o=!1,s&&(s=!1,a.process(l))}};return a}const rl=["prepare","read","update","preRender","render","postRender"],J_=40;function Q_(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=rl.reduce((f,h)=>(f[h]=X_(()=>n=!0),f),{}),i=f=>s[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,J_),1),o.timestamp=f,o.isProcessing=!0,rl.forEach(i),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:rl.reduce((f,h)=>{const y=s[h];return f[h]=(g,b=!1,w=!1)=>(n||l(),y.schedule(g,b,w)),f},{}),cancel:f=>rl.forEach(h=>s[h].cancel(f)),state:o,steps:s}}const{schedule:Ne,cancel:dr,state:yt,steps:Su}=Q_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ve,!0),Z_={useVisualState:zw({scrapeMotionValuesFromProps:Uw,createRenderState:Rw,onMount:(t,e,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{um(n,r,{enableHardwareAcceleration:!1},fm(e.tagName),t.transformTemplate),Fw(e,n)})}})},ej={useVisualState:zw({scrapeMotionValuesFromProps:hm,createRenderState:dm})};function tj(t,{forwardMotionProps:e=!1},n,r){return{...lm(t)?Z_:ej,preloadedFeatures:n,useRender:W_(e),createVisualElement:r,Component:t}}function Kn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Vw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function pd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const nj=t=>e=>Vw(e)&&t(e,pd(e));function nr(t,e,n,r){return Kn(t,e,nj(n),r)}const rj=(t,e)=>n=>e(t(n)),Wr=(...t)=>t.reduce(rj);function Hw(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const F0=Hw("dragHorizontal"),U0=Hw("dragVertical");function Ww(t){let e=!1;if(t==="y")e=U0();else if(t==="x")e=F0();else{const n=F0(),r=U0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Gw(){const t=Ww(!0);return t?(t(),!1):!0}class oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(s,i)=>{if(s.pointerType==="touch"||Gw())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ne.update(()=>a[r](s,i))};return nr(t.current,n,o,{passive:!t.getProps()[r]})}class oj extends oo{mount(){this.unmount=Wr($0(this.node,!0),$0(this.node,!1))}unmount(){}}class sj extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wr(Kn(this.node.current,"focus",()=>this.onFocus()),Kn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qw=(t,e)=>e?t===e?!0:qw(t,e.parentElement):!1;function Cu(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,pd(n))}class ij extends oo{constructor(){super(...arguments),this.removeStartListeners=Ve,this.removeEndListeners=Ve,this.removeAccessibleListeners=Ve,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=nr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Ne.update(()=>{!f&&!qw(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),i=nr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Wr(s,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Cu("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ne.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Kn(this.node.current,"keyup",i),Cu("down",(a,l)=>{this.startPress(a,l)})},n=Kn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Cu("cancel",(s,i)=>this.cancelPress(s,i))},o=Kn(this.node.current,"blur",r);this.removeAccessibleListeners=Wr(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Gw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=nr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Kn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nh=new WeakMap,Eu=new WeakMap,aj=t=>{const e=nh.get(t.target);e&&e(t)},lj=t=>{t.forEach(aj)};function cj({root:t,...e}){const n=t||document;Eu.has(n)||Eu.set(n,{});const r=Eu.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(lj,{root:t,...e})),r[o]}function dj(t,e,n){const r=cj(e);return nh.set(t,n),r.observe(t),()=>{nh.delete(t),r.unobserve(t)}}const uj={some:0,all:1};class fj extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:uj[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return dj(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hj(e,n))&&this.startObserver()}unmount(){}}function hj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pj={inView:{Feature:fj},tap:{Feature:ij},focus:{Feature:sj},hover:{Feature:oj}};function Kw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function mj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function gj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function md(t,e,n){const r=t.getProps();return pm(r,e,n!==void 0?n:r.custom,mj(t),gj(t))}let yj=Ve,mm=Ve;const Gr=t=>t*1e3,rr=t=>t/1e3,vj={current:!1},Yw=t=>Array.isArray(t)&&typeof t[0]=="number";function Xw(t){return!!(!t||typeof t=="string"&&Jw[t]||Yw(t)||Array.isArray(t)&&t.every(Xw))}const wi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Jw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wi([0,.65,.55,1]),circOut:wi([.55,0,1,.45]),backIn:wi([.31,.01,.66,-.59]),backOut:wi([.33,1.53,.69,.99])};function Qw(t){if(t)return Yw(t)?wi(t):Array.isArray(t)?t.map(Qw):Jw[t]}function bj(t,e,n,{delay:r=0,duration:o,repeat:s=0,repeatType:i="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Qw(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function xj(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Zw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wj=1e-7,kj=12;function Sj(t,e,n,r,o){let s,i,a=0;do i=e+(n-e)/2,s=Zw(i,r,o)-t,s>0?n=i:e=i;while(Math.abs(s)>wj&&++a<kj);return i}function _a(t,e,n,r){if(t===e&&n===r)return Ve;const o=s=>Sj(s,0,1,t,n);return s=>s===0||s===1?s:Zw(o(s),e,r)}const Cj=_a(.42,0,1,1),Ej=_a(0,0,.58,1),e1=_a(.42,0,.58,1),Tj=t=>Array.isArray(t)&&typeof t[0]!="number",t1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n1=t=>e=>1-t(1-e),gm=t=>1-Math.sin(Math.acos(t)),r1=n1(gm),_j=t1(gm),o1=_a(.33,1.53,.69,.99),ym=n1(o1),jj=t1(ym),Nj=t=>(t*=2)<1?.5*ym(t):.5*(2-Math.pow(2,-10*(t-1))),Pj={linear:Ve,easeIn:Cj,easeInOut:e1,easeOut:Ej,circIn:gm,circInOut:_j,circOut:r1,backIn:ym,backInOut:jj,backOut:o1,anticipate:Nj},z0=t=>{if(Array.isArray(t)){mm(t.length===4);const[e,n,r,o]=t;return _a(e,n,r,o)}else if(typeof t=="string")return Pj[t];return t},vm=(t,e)=>n=>!!(Ea(n)&&I_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),s1=(t,e,n)=>r=>{if(!Ea(r))return r;const[o,s,i,a]=r.match(hd);return{[t]:parseFloat(o),[e]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},Ij=t=>Jr(0,255,t),Tu={...Ko,transform:t=>Math.round(Ij(t))},ko={test:vm("rgb","red"),parse:s1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tu.transform(t)+", "+Tu.transform(e)+", "+Tu.transform(n)+", "+Bi(Li.transform(r))+")"};function Aj(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const rh={test:vm("#"),parse:Aj,transform:ko.transform},ys={test:vm("hsl","hue"),parse:s1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+On.transform(Bi(e))+", "+On.transform(Bi(n))+", "+Bi(Li.transform(r))+")"},kt={test:t=>ko.test(t)||rh.test(t)||ys.test(t),parse:t=>ko.test(t)?ko.parse(t):ys.test(t)?ys.parse(t):rh.parse(t),transform:t=>Ea(t)?t:t.hasOwnProperty("red")?ko.transform(t):ys.transform(t)},De=(t,e,n)=>-n*t+n*e+t;function _u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Lj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,s=0,i=0;if(!e)o=s=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=_u(l,a,t+1/3),s=_u(l,a,t),i=_u(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}const ju=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Bj=[rh,ko,ys],Oj=t=>Bj.find(e=>e.test(t));function V0(t){const e=Oj(t);let n=e.parse(t);return e===ys&&(n=Lj(n)),n}const i1=(t,e)=>{const n=V0(t),r=V0(e),o={...n};return s=>(o.red=ju(n.red,r.red,s),o.green=ju(n.green,r.green,s),o.blue=ju(n.blue,r.blue,s),o.alpha=De(n.alpha,r.alpha,s),ko.transform(o))};function Rj(t){var e,n;return isNaN(t)&&Ea(t)&&(((e=t.match(hd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Aw))===null||n===void 0?void 0:n.length)||0)>0}const a1={regex:N_,countKey:"Vars",token:"${v}",parse:Ve},l1={regex:Aw,countKey:"Colors",token:"${c}",parse:kt.parse},c1={regex:hd,countKey:"Numbers",token:"${n}",parse:Ko.parse};function Nu(t,{regex:e,countKey:n,token:r,parse:o}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(o)))}function vc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Nu(n,a1),Nu(n,l1),Nu(n,c1),n}function d1(t){return vc(t).values}function u1(t){const{values:e,numColors:n,numVars:r,tokenised:o}=vc(t),s=e.length;return i=>{let a=o;for(let l=0;l<s;l++)l<r?a=a.replace(a1.token,i[l]):l<r+n?a=a.replace(l1.token,kt.transform(i[l])):a=a.replace(c1.token,Bi(i[l]));return a}}const Mj=t=>typeof t=="number"?0:t;function Dj(t){const e=d1(t);return u1(t)(e.map(Mj))}const Qr={test:Rj,parse:d1,createTransformer:u1,getAnimatableNone:Dj},f1=(t,e)=>n=>`${n>0?e:t}`;function h1(t,e){return typeof t=="number"?n=>De(t,e,n):kt.test(t)?i1(t,e):t.startsWith("var(")?f1(t,e):m1(t,e)}const p1=(t,e)=>{const n=[...t],r=n.length,o=t.map((s,i)=>h1(s,e[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}},Fj=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=h1(t[o],e[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}},m1=(t,e)=>{const n=Qr.createTransformer(e),r=vc(t),o=vc(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Wr(p1(r.values,o.values),n):f1(t,e)},ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},H0=(t,e)=>n=>De(t,e,n);function Uj(t){return typeof t=="number"?H0:typeof t=="string"?kt.test(t)?i1:m1:Array.isArray(t)?p1:typeof t=="object"?Fj:H0}function $j(t,e,n){const r=[],o=n||Uj(t[0]),s=t.length-1;for(let i=0;i<s;i++){let a=o(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||Ve:e;a=Wr(l,a)}r.push(a)}return r}function g1(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const s=t.length;if(mm(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=$j(e,r,o),a=i.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=ua(t[u],t[u+1],c);return i[u](f)};return n?c=>l(Jr(t[0],t[s-1],c)):l}function zj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ua(0,e,r);t.push(De(n,1,o))}}function Vj(t){const e=[0];return zj(e,t.length-1),e}function Hj(t,e){return t.map(n=>n*e)}function Wj(t,e){return t.map(()=>e||e1).splice(0,t.length-1)}function bc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=Tj(r)?r.map(z0):z0(r),s={done:!1,value:e[0]},i=Hj(n&&n.length===e.length?n:Vj(e),t),a=g1(i,e,{ease:Array.isArray(o)?o:Wj(e,o)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function y1(t,e){return e?t*(1e3/e):0}const Gj=5;function v1(t,e,n){const r=Math.max(e-Gj,0);return y1(n-t(r),e-r)}const Pu=.001,qj=.01,W0=10,Kj=.05,Yj=1;function Xj({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,s;yj(t<=Gr(W0));let i=1-e;i=Jr(Kj,Yj,i),t=Jr(qj,W0,rr(t)),i<1?(o=c=>{const u=c*i,f=u*t,h=u-n,y=oh(c,i),g=Math.exp(-f);return Pu-h/y*g},s=c=>{const f=c*i*t,h=f*n+n,y=Math.pow(i,2)*Math.pow(c,2)*t,g=Math.exp(-f),b=oh(Math.pow(c,2),i);return(-o(c)+Pu>0?-1:1)*((h-y)*g)/b}):(o=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-Pu+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=Qj(o,s,a);if(t=Gr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:t}}}const Jj=12;function Qj(t,e,n){let r=n;for(let o=1;o<Jj;o++)r=r-t(r)/e(r);return r}function oh(t,e){return t*Math.sqrt(1-e*e)}const Zj=["duration","bounce"],eN=["stiffness","damping","mass"];function G0(t,e){return e.some(n=>t[n]!==void 0)}function tN(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!G0(t,eN)&&G0(t,Zj)){const n=Xj(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function b1({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],s=t[t.length-1],i={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=tN({...r,velocity:-rr(r.velocity||0)}),y=f||0,g=l/(2*Math.sqrt(a*c)),b=s-o,w=rr(Math.sqrt(a/c)),v=Math.abs(b)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(g<1){const p=oh(w,g);m=x=>{const k=Math.exp(-g*w*x);return s-k*((y+g*w*b)/p*Math.sin(p*x)+b*Math.cos(p*x))}}else if(g===1)m=p=>s-Math.exp(-w*p)*(b+(y+w*b)*p);else{const p=w*Math.sqrt(g*g-1);m=x=>{const k=Math.exp(-g*w*x),N=Math.min(p*x,300);return s-k*((y+g*w*b)*Math.sinh(N)+p*b*Math.cosh(N))/p}}return{calculatedDuration:h&&u||null,next:p=>{const x=m(p);if(h)i.done=p>=u;else{let k=y;p!==0&&(g<1?k=v1(m,p,x):k=0);const N=Math.abs(k)<=n,j=Math.abs(s-x)<=e;i.done=N&&j}return i.value=i.done?s:x,i}}}function q0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},y=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let b=n*e;const w=f+b,v=i===void 0?w:i(w);v!==w&&(b=v-f);const m=C=>-b*Math.exp(-C/r),p=C=>v+m(C),x=C=>{const S=m(C),_=p(C);h.done=Math.abs(S)<=c,h.value=h.done?v:_};let k,N;const j=C=>{y(h.value)&&(k=C,N=b1({keyframes:[h.value,g(h.value)],velocity:v1(p,C,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:u}))};return j(0),{calculatedDuration:null,next:C=>{let S=!1;return!N&&k===void 0&&(S=!0,x(C),j(C)),k!==void 0&&C>k?N.next(C-k):(!S&&x(C),h)}}}const nN=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ne.update(e,!0),stop:()=>dr(e),now:()=>yt.isProcessing?yt.timestamp:performance.now()}},K0=2e4;function Y0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<K0;)e+=n,r=t.next(e);return e>=K0?1/0:e}const rN={decay:q0,inertia:q0,tween:bc,keyframes:bc,spring:b1};function xc({autoplay:t=!0,delay:e=0,driver:n=nN,keyframes:r,type:o="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let y=1,g=!1,b,w;const v=()=>{w=new Promise(U=>{b=U})};v();let m;const p=rN[o]||bc;let x;p!==bc&&typeof r[0]!="number"&&(x=g1([0,100],r,{clamp:!1}),r=[0,100]);const k=p({...h,keyframes:r});let N;a==="mirror"&&(N=p({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",C=null,S=null,_=null;k.calculatedDuration===null&&s&&(k.calculatedDuration=Y0(k));const{calculatedDuration:T}=k;let I=1/0,P=1/0;T!==null&&(I=T+i,P=I*(s+1)-i);let L=0;const A=U=>{if(S===null)return;y>0&&(S=Math.min(S,U)),y<0&&(S=Math.min(U-P/y,S)),C!==null?L=C:L=Math.round(U-S)*y;const G=L-e*(y>=0?1:-1),ie=y>=0?G<0:G>P;L=Math.max(G,0),j==="finished"&&C===null&&(L=P);let J=L,we=k;if(s){const He=Math.min(L,P)/I;let Pe=Math.floor(He),Oe=He%1;!Oe&&He>=1&&(Oe=1),Oe===1&&Pe--,Pe=Math.min(Pe,s+1),!!(Pe%2)&&(a==="reverse"?(Oe=1-Oe,i&&(Oe-=i/I)):a==="mirror"&&(we=N)),J=Jr(0,1,Oe)*I}const ge=ie?{done:!1,value:r[0]}:we.next(J);x&&(ge.value=x(ge.value));let{done:ye}=ge;!ie&&T!==null&&(ye=y>=0?L>=P:L<=0);const $e=C===null&&(j==="finished"||j==="running"&&ye);return f&&f(ge.value),$e&&O(),ge},B=()=>{m&&m.stop(),m=void 0},M=()=>{j="idle",B(),b(),v(),S=_=null},O=()=>{j="finished",u&&u(),B(),b()},R=()=>{if(g)return;m||(m=n(A));const U=m.now();l&&l(),C!==null?S=U-C:(!S||j==="finished")&&(S=U),j==="finished"&&v(),_=S,C=null,j="running",m.start()};t&&R();const D={then(U,G){return w.then(U,G)},get time(){return rr(L)},set time(U){U=Gr(U),L=U,C!==null||!m||y===0?C=U:S=m.now()-U/y},get duration(){const U=k.calculatedDuration===null?Y0(k):k.calculatedDuration;return rr(U)},get speed(){return y},set speed(U){U===y||!m||(y=U,D.time=rr(L))},get state(){return j},play:R,pause:()=>{j="paused",C=L},stop:()=>{g=!0,j!=="idle"&&(j="idle",c&&c(),M())},cancel:()=>{_!==null&&A(_),M()},complete:()=>{j="finished"},sample:U=>(S=0,A(U))};return D}function oN(t){let e;return()=>(e===void 0&&(e=t()),e)}const sN=oN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ol=10,aN=2e4,lN=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Xw(e.ease);function cN(t,e,{onUpdate:n,onComplete:r,...o}){if(!(sN()&&iN.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let i=!1,a,l,c=!1;const u=()=>{l=new Promise(p=>{a=p})};u();let{keyframes:f,duration:h=300,ease:y,times:g}=o;if(lN(e,o)){const p=xc({...o,repeat:0,delay:0});let x={done:!1,value:f[0]};const k=[];let N=0;for(;!x.done&&N<aN;)x=p.sample(N),k.push(x.value),N+=ol;g=void 0,f=k,h=N-ol,y="linear"}const b=bj(t.owner.current,e,f,{...o,duration:h,ease:y,times:g}),w=()=>{c=!1,b.cancel()},v=()=>{c=!0,Ne.update(w),a(),u()};return b.onfinish=()=>{c||(t.set(xj(f,o)),r&&r(),v())},{then(p,x){return l.then(p,x)},attachTimeline(p){return b.timeline=p,b.onfinish=null,Ve},get time(){return rr(b.currentTime||0)},set time(p){b.currentTime=Gr(p)},get speed(){return b.playbackRate},set speed(p){b.playbackRate=p},get duration(){return rr(h)},play:()=>{i||(b.play(),dr(w))},pause:()=>b.pause(),stop:()=>{if(i=!0,b.playState==="idle")return;const{currentTime:p}=b;if(p){const x=xc({...o,autoplay:!1});t.setWithVelocity(x.sample(p-ol).value,x.sample(p).value,ol)}v()},complete:()=>{c||b.finish()},cancel:v}}function dN({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ve,pause:Ve,stop:Ve,then:s=>(s(),Promise.resolve()),cancel:Ve,complete:Ve});return e?xc({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const uN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hN={type:"keyframes",duration:.8},pN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mN=(t,{keyframes:e})=>e.length>2?hN:qo.has(t)?t.startsWith("scale")?fN(e[1]):uN:pN,sh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qr.test(e)||e==="0")&&!e.startsWith("url(")),gN=new Set(["brightness","contrast","saturate","opacity"]);function yN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hd)||[];if(!r)return t;const o=n.replace(r,"");let s=gN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+o+")"}const vN=/([a-z-]*)\(.*?\)/g,ih={...Qr,getAnimatableNone:t=>{const e=t.match(vN);return e?e.map(yN).join(" "):t}},bN={...Lw,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:ih,WebkitFilter:ih},bm=t=>bN[t];function x1(t,e){let n=bm(t);return n!==ih&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const w1=t=>/^0[^.\s]+$/.test(t);function xN(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||w1(t)}function wN(t,e,n,r){const o=sh(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const i=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?i:s[c-1]),xN(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=x1(e,a)}return s}function kN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function xm(t,e){return t[e]||t.default||t}const SN={skipAnimations:!1},wm=(t,e,n,r={})=>o=>{const s=xm(r,t)||{},i=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Gr(i);const l=wN(e,t,n,s),c=l[0],u=l[l.length-1],f=sh(t,c),h=sh(t,u);let y={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(kN(s)||(y={...y,...mN(t,y)}),y.duration&&(y.duration=Gr(y.duration)),y.repeatDelay&&(y.repeatDelay=Gr(y.repeatDelay)),!f||!h||vj.current||s.type===!1||SN.skipAnimations)return dN(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=cN(e,t,y);if(g)return g}return xc(y)};function wc(t){return!!(Dt(t)&&t.add)}const k1=t=>/^\-?\d*\.?\d+$/.test(t);function km(t,e){t.indexOf(e)===-1&&t.push(e)}function Sm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cm{constructor(){this.subscriptions=[]}add(e){return km(this.subscriptions,e),()=>Sm(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CN=t=>!isNaN(parseFloat(t));class EN{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:i}=yt;this.lastUpdated!==i&&(this.timeDelta=s,this.lastUpdated=i,Ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=CN(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cm);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?y1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ds(t,e){return new EN(t,e)}const S1=t=>e=>e.test(t),TN={test:t=>t==="auto",parse:t=>t},C1=[Ko,te,On,wr,L_,A_,TN],ui=t=>C1.find(S1(t)),_N=[...C1,kt,Qr],jN=t=>_N.find(S1(t));function NN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ds(n))}function PN(t,e){const n=md(t,e);let{transitionEnd:r={},transition:o={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const i in s){const a=q_(s[i]);NN(t,i,a)}}function IN(t,e,n){var r,o;const s=Object.keys(e).filter(a=>!t.hasValue(a)),i=s.length;if(i)for(let a=0;a<i;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(k1(u)||w1(u))?u=parseFloat(u):!jN(u)&&Qr.test(c)&&(u=x1(l,c)),t.addValue(l,Ds(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function AN(t,e){return e?(e[t]||e.default||e).from:void 0}function LN(t,e,n){const r={};for(const o in t){const s=AN(o,e);if(s!==void 0)r[o]=s;else{const i=n.getValue(o);i&&(r[o]=i.get())}}return r}function BN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ON(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function E1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:i,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const f in a){const h=t.getValue(f),y=a[f];if(!h||y===void 0||u&&BN(u,f))continue;const g={delay:n,elapsed:0,...xm(s||{},f)};if(window.HandoffAppearAnimations){const v=t.getProps()[Tw];if(v){const m=window.HandoffAppearAnimations(v,f,h,Ne);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let b=!g.isHandoff&&!ON(h,y);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(b=!1),h.animation&&(b=!1),b)continue;h.start(wm(f,h,y,t.shouldReduceMotion&&qo.has(f)?{type:!1}:g));const w=h.animation;wc(l)&&(l.add(f),w.then(()=>l.remove(f))),c.push(w)}return i&&Promise.all(c).then(()=>{i&&PN(t,i)}),c}function ah(t,e,n={}){const r=md(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const s=r?()=>Promise.all(E1(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=o;return RN(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[s,i]:[i,s];return l().then(()=>c())}else return Promise.all([s(),i(n.delay)])}function RN(t,e,n=0,r=0,o=1,s){const i=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(MN).forEach((c,u)=>{c.notify("AnimationStart",e),i.push(ah(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(i)}function MN(t,e){return t.sortNodePosition(e)}function DN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(s=>ah(t,s,n));r=Promise.all(o)}else if(typeof e=="string")r=ah(t,e,n);else{const o=typeof e=="function"?md(t,e,n.custom):e;r=Promise.all(E1(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const FN=[...sm].reverse(),UN=sm.length;function $N(t){return e=>Promise.all(e.map(({animation:n,options:r})=>DN(t,n,r)))}function zN(t){let e=$N(t);const n=HN();let r=!0;const o=(l,c)=>{const u=md(t,c);if(u){const{transition:f,transitionEnd:h,...y}=u;l={...l,...y,...h}}return l};function s(l){e=l(t)}function i(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],y=new Set;let g={},b=1/0;for(let v=0;v<UN;v++){const m=FN[v],p=n[m],x=u[m]!==void 0?u[m]:f[m],k=ca(x),N=m===c?p.isActive:null;N===!1&&(b=v);let j=x===f[m]&&x!==u[m]&&k;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),p.protectedKeys={...g},!p.isActive&&N===null||!x&&!p.prevProp||ud(x)||typeof x=="boolean")continue;let S=VN(p.prevProp,x)||m===c&&p.isActive&&!j&&k||v>b&&k,_=!1;const T=Array.isArray(x)?x:[x];let I=T.reduce(o,{});N===!1&&(I={});const{prevResolvedValues:P={}}=p,L={...P,...I},A=B=>{S=!0,y.has(B)&&(_=!0,y.delete(B)),p.needsAnimating[B]=!0};for(const B in L){const M=I[B],O=P[B];if(g.hasOwnProperty(B))continue;let R=!1;yc(M)&&yc(O)?R=!Kw(M,O):R=M!==O,R?M!==void 0?A(B):y.add(B):M!==void 0&&y.has(B)?A(B):p.protectedKeys[B]=!0}p.prevProp=x,p.prevResolvedValues=I,p.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(S=!1),S&&(!j||_)&&h.push(...T.map(B=>({animation:B,options:{type:m,...l}})))}if(y.size){const v={};y.forEach(m=>{const p=t.getBaseTarget(m);p!==void 0&&(v[m]=p)}),h.push({animation:v})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(y=>{var g;return(g=y.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=i(u,l);for(const y in n)n[y].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n}}function VN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Kw(e,t):!1}function uo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HN(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class WN extends oo{constructor(e){super(e),e.animationState||(e.animationState=zN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ud(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let GN=0;class qN extends oo{constructor(){super(...arguments),this.id=GN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KN={animation:{Feature:WN},exit:{Feature:qN}},X0=(t,e)=>Math.abs(t-e);function YN(t,e){const n=X0(t.x,e.x),r=X0(t.y,e.y);return Math.sqrt(n**2+r**2)}class T1{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Au(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=YN(f.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:g}=f,{timestamp:b}=yt;this.history.push({...g,timestamp:b});const{onStart:w,onMove:v}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Iu(h,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Au(f.type==="pointercancel"?this.lastMoveEventInfo:Iu(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,w),g&&g(f,w)},!Vw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=pd(e),a=Iu(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Au(a,this.history)),this.removeListeners=Wr(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Iu(t,e){return e?{point:e(t.point)}:t}function J0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Au({point:t},e){return{point:t,delta:J0(t,_1(e)),offset:J0(t,XN(e)),velocity:JN(e,.1)}}function XN(t){return t[0]}function _1(t){return t[t.length-1]}function JN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=_1(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Gr(e)));)n--;if(!r)return{x:0,y:0};const s=rr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function qt(t){return t.max-t.min}function lh(t,e=0,n=.01){return Math.abs(t-e)<=n}function Q0(t,e,n,r=.5){t.origin=r,t.originPoint=De(e.min,e.max,t.origin),t.scale=qt(n)/qt(e),(lh(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(lh(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Oi(t,e,n,r){Q0(t.x,e.x,n.x,r?r.originX:void 0),Q0(t.y,e.y,n.y,r?r.originY:void 0)}function Z0(t,e,n){t.min=n.min+e.min,t.max=t.min+qt(e)}function QN(t,e,n){Z0(t.x,e.x,n.x),Z0(t.y,e.y,n.y)}function ey(t,e,n){t.min=e.min-n.min,t.max=t.min+qt(e)}function Ri(t,e,n){ey(t.x,e.x,n.x),ey(t.y,e.y,n.y)}function ZN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?De(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?De(n,t,r.max):Math.min(t,n)),t}function ty(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eP(t,{top:e,left:n,bottom:r,right:o}){return{x:ty(t.x,n,o),y:ty(t.y,e,r)}}function ny(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tP(t,e){return{x:ny(t.x,e.x),y:ny(t.y,e.y)}}function nP(t,e){let n=.5;const r=qt(t),o=qt(e);return o>r?n=ua(e.min,e.max-r,t.min):r>o&&(n=ua(t.min,t.max-o,e.min)),Jr(0,1,n)}function rP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ch=.35;function oP(t=ch){return t===!1?t=0:t===!0&&(t=ch),{x:ry(t,"left","right"),y:ry(t,"top","bottom")}}function ry(t,e,n){return{min:oy(t,e),max:oy(t,n)}}function oy(t,e){return typeof t=="number"?t:t[e]||0}const sy=()=>({translate:0,scale:1,origin:0,originPoint:0}),vs=()=>({x:sy(),y:sy()}),iy=()=>({min:0,max:0}),Ke=()=>({x:iy(),y:iy()});function Zt(t){return[t("x"),t("y")]}function j1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lu(t){return t===void 0||t===1}function dh({scale:t,scaleX:e,scaleY:n}){return!Lu(t)||!Lu(e)||!Lu(n)}function po(t){return dh(t)||N1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function N1(t){return ay(t.x)||ay(t.y)}function ay(t){return t&&t!=="0%"}function kc(t,e,n){const r=t-n,o=e*r;return n+o}function ly(t,e,n,r,o){return o!==void 0&&(t=kc(t,o,r)),kc(t,n,r)+e}function uh(t,e=0,n=1,r,o){t.min=ly(t.min,e,n,r,o),t.max=ly(t.max,e,n,r,o)}function P1(t,{x:e,y:n}){uh(t.x,e.translate,e.scale,e.originPoint),uh(t.y,n.translate,n.scale,n.originPoint)}function aP(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,P1(t,i)),r&&po(s.latestValues)&&bs(t,s.latestValues))}e.x=cy(e.x),e.y=cy(e.y)}function cy(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Cr(t,e){t.min=t.min+e,t.max=t.max+e}function dy(t,e,[n,r,o]){const s=e[o]!==void 0?e[o]:.5,i=De(t.min,t.max,s);uh(t,e[n],e[r],i,e.scale)}const lP=["x","scaleX","originX"],cP=["y","scaleY","originY"];function bs(t,e){dy(t.x,e,lP),dy(t.y,e,cP)}function I1(t,e){return j1(iP(t.getBoundingClientRect(),e))}function dP(t,e,n){const r=I1(t,n),{scroll:o}=e;return o&&(Cr(r.x,o.offset.x),Cr(r.y,o.offset.y)),r}const A1=({current:t})=>t?t.ownerDocument.defaultView:null,uP=new WeakMap;class fP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pd(u,"page").point)},s=(u,f)=>{const{drag:h,dragPropagation:y,onDragStart:g}=this.getProps();if(h&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ww(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(w=>{let v=this.getAxisMotionValue(w).get()||0;if(On.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[w];p&&(v=qt(p)*(parseFloat(v)/100))}}this.originPoint[w]=v}),g&&Ne.update(()=>g(u,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},i=(u,f)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:g,onDrag:b}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=f;if(y&&this.currentDirection===null){this.currentDirection=hP(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),b&&b(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Zt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new T1(e,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:A1(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Ne.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!sl(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=ZN(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&gs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=eP(o.layoutBox,n):this.constraints=!1,this.elastic=oP(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Zt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=rP(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gs(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=dP(r,o.root,this.visualElement.getTransformPagePoint());let i=tP(o.layout.layoutBox,s);if(n){const a=n(sP(i));this.hasMutatedConstraints=!!a,a&&(i=j1(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Zt(u=>{if(!sl(u,n,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(wm(e,r,0,n))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:r}=this.getProps();if(!sl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(e[n]-De(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(i=>{const a=this.getAxisMotionValue(i);if(a){const l=a.get();o[i]=nP({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zt(i=>{if(!sl(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(De(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;uP.set(this.visualElement,this);const e=this.visualElement.current,n=nr(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const i=Kn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Zt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=ch,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function sl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pP extends oo{constructor(e){super(e),this.removeGroupControls=Ve,this.removeListeners=Ve,this.controls=new fP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const uy=t=>(e,n)=>{t&&Ne.update(()=>t(e,n))};class mP extends oo{constructor(){super(...arguments),this.removePointerDownListener=Ve}onPointerDown(e){this.session=new T1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:uy(e),onStart:uy(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Ne.update(()=>o(s,i))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gP(){const t=E.useContext(cd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=E.useId();return E.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const _l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=fy(t,e.target.x),r=fy(t,e.target.y);return`${n}% ${r}%`}},yP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Qr.parse(t);if(o.length>5)return r;const s=Qr.createTransformer(t),i=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+i]/=a,o[1+i]/=l;const c=De(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}};class vP extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=e;E_(bP),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),_l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Ne.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L1(t){const[e,n]=gP(),r=E.useContext(am);return ee.createElement(vP,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(jw),isPresent:e,safeToRemove:n})}const bP={borderRadius:{...fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fi,borderTopRightRadius:fi,borderBottomLeftRadius:fi,borderBottomRightRadius:fi,boxShadow:yP},B1=["TopLeft","TopRight","BottomLeft","BottomRight"],xP=B1.length,hy=t=>typeof t=="string"?parseFloat(t):t,py=t=>typeof t=="number"||te.test(t);function wP(t,e,n,r,o,s){o?(t.opacity=De(0,n.opacity!==void 0?n.opacity:1,kP(r)),t.opacityExit=De(e.opacity!==void 0?e.opacity:1,0,SP(r))):s&&(t.opacity=De(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<xP;i++){const a=`border${B1[i]}Radius`;let l=my(e,a),c=my(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||py(l)===py(c)?(t[a]=Math.max(De(hy(l),hy(c),r),0),(On.test(c)||On.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,r))}function my(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kP=O1(0,.5,r1),SP=O1(.5,.95,Ve);function O1(t,e,n){return r=>r<t?0:r>e?1:n(ua(t,e,r))}function gy(t,e){t.min=e.min,t.max=e.max}function Qt(t,e){gy(t.x,e.x),gy(t.y,e.y)}function yy(t,e,n,r,o){return t-=e,t=kc(t,1/n,r),o!==void 0&&(t=kc(t,1/o,r)),t}function CP(t,e=0,n=1,r=.5,o,s=t,i=t){if(On.test(e)&&(e=parseFloat(e),e=De(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=De(s.min,s.max,r);t===s&&(a-=e),t.min=yy(t.min,e,n,a,o),t.max=yy(t.max,e,n,a,o)}function vy(t,e,[n,r,o],s,i){CP(t,e[n],e[r],e[o],e.scale,s,i)}const EP=["x","scaleX","originX"],TP=["y","scaleY","originY"];function by(t,e,n,r){vy(t.x,e,EP,n?n.x:void 0,r?r.x:void 0),vy(t.y,e,TP,n?n.y:void 0,r?r.y:void 0)}function xy(t){return t.translate===0&&t.scale===1}function R1(t){return xy(t.x)&&xy(t.y)}function _P(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function M1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function wy(t){return qt(t.x)/qt(t.y)}class jP{constructor(){this.members=[]}add(e){km(this.members,e),e.scheduleRender()}remove(e){if(Sm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ky(t,e,n){let r="";const o=t.x.translate/e.x,s=t.y.translate/e.y;if((o||s)&&(r=`translate3d(${o}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const i=t.x.scale*e.x,a=t.y.scale*e.y;return(i!==1||a!==1)&&(r+=`scale(${i}, ${a})`),r||"none"}const NP=(t,e)=>t.depth-e.depth;class PP{constructor(){this.children=[],this.isDirty=!1}add(e){km(this.children,e),this.isDirty=!0}remove(e){Sm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NP),this.isDirty=!1,this.children.forEach(e)}}function IP(t,e){const n=performance.now(),r=({timestamp:o})=>{const s=o-n;s>=e&&(dr(r),t(s-e))};return Ne.read(r,!0),()=>dr(r)}function AP(t){window.MotionDebug&&window.MotionDebug.record(t)}function LP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function BP(t,e,n){const r=Dt(t)?t:Ds(t);return r.start(wm("",r,e,n)),r.animation}const Sy=["","X","Y","Z"],OP={visibility:"hidden"},Cy=1e3;let RP=0;const mo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function D1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=e==null?void 0:e()){this.id=RP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mo.totalNodes=mo.resolvedTargetDeltas=mo.recalculatedProjection=0,this.nodes.forEach(FP),this.nodes.forEach(HP),this.nodes.forEach(WP),this.nodes.forEach(UP),AP(mo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new PP)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Cm),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=LP(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=IP(h,250),_l.hasAnimatedSinceResize&&(_l.hasAnimatedSinceResize=!1,this.nodes.forEach(Ty))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||XP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=u.getProps(),m=!this.targetLayout||!M1(this.targetLayout,g)||y,p=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,p);const x={...xm(b,"layout"),onPlay:w,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||Ty(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GP),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ey);return}this.isUpdating||this.nodes.forEach(zP),this.isUpdating=!1,this.nodes.forEach(VP),this.nodes.forEach(MP),this.nodes.forEach(DP),this.clearAllSnapshots();const a=performance.now();yt.delta=Jr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Su.update.process(yt),Su.preRender.process(yt),Su.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($P),this.sharedNodes.forEach(qP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!R1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||po(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),JP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ke();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(Cr(a.x,l.offset.x),Cr(a.y,l.offset.y)),a}removeElementScroll(i){const a=Ke();Qt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Qt(a,i);const{scroll:h}=this.root;h&&(Cr(a.x,-h.offset.x),Cr(a.y,-h.offset.y))}Cr(a.x,u.offset.x),Cr(a.y,u.offset.y)}}return a}applyTransform(i,a=!1){const l=Ke();Qt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),po(u.latestValues)&&bs(l,u.latestValues)}return po(this.latestValues)&&bs(l,this.latestValues),l}removeTransform(i){const a=Ke();Qt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!po(c.latestValues))continue;dh(c.latestValues)&&c.updateSnapshot();const u=Ke(),f=c.measurePageBox();Qt(u,f),by(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return po(this.latestValues)&&by(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Ri(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qt(this.target,this.layout.layoutBox),P1(this.target,this.targetDelta)):Qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Ri(this.relativeTargetOrigin,this.target,y.target),Qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dh(this.parent.latestValues)||N1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Qt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;aP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=vs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vs(),this.projectionDeltaWithTransform=vs());const b=this.projectionTransform;Oi(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=ky(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==h||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),mo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=vs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ke(),y=l?l.source:void 0,g=this.layout?this.layout.source:void 0,b=y!==g,w=this.getStack(),v=!w||w.members.length<=1,m=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(YP));this.animationProgress=0;let p;this.mixTargetDelta=x=>{const k=x/1e3;_y(f.x,i.x,k),_y(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ri(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KP(this.relativeTarget,this.relativeTargetOrigin,h,k),p&&_P(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Ke()),Qt(p,this.relativeTarget)),b&&(this.animationValues=u,wP(u,c,this.latestValues,k,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{_l.hasAnimatedSinceResize=!0,this.currentAnimation=BP(0,Cy,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&F1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ke();const f=qt(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=qt(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Qt(a,l),bs(a,u),Oi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new jP),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Sy.length;u++){const f="rotate"+Sy[u];l[f]&&(c[f]=l[f],i.setStaticValue(f,0))}i.render();for(const u in c)i.setStaticValue(u,c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OP;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Tl(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Tl(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ky(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:y,y:g}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in mc){if(h[b]===void 0)continue;const{correct:w,applyTo:v}=mc[b],m=c.transform==="none"?h[b]:w(h[b],f);if(v){const p=v.length;for(let x=0;x<p;x++)c[v[x]]=m}else c[b]=m}return this.options.layoutId&&(c.pointerEvents=f===this?Tl(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ey),this.root.sharedNodes.clear()}}}function MP(t){t.updateLayout()}function DP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:s}=t.options,i=n.source!==t.layout.source;s==="size"?Zt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],y=qt(h);h.min=r[f].min,h.max=h.min+y}):F1(s,n.layoutBox,r)&&Zt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],y=qt(r[f]);h.max=h.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=vs();Oi(a,r,n.layoutBox);const l=vs();i?Oi(l,t.applyTransform(o,!0),n.measuredBox):Oi(l,r,n.layoutBox);const c=!R1(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:y}=f;if(h&&y){const g=Ke();Ri(g,n.layoutBox,h.layoutBox);const b=Ke();Ri(b,r,y.layoutBox),M1(g,b)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function FP(t){mo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $P(t){t.clearSnapshot()}function Ey(t){t.clearMeasurements()}function zP(t){t.isLayoutDirty=!1}function VP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ty(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HP(t){t.resolveTargetDelta()}function WP(t){t.calcProjection()}function GP(t){t.resetRotation()}function qP(t){t.removeLeadSnapshot()}function _y(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jy(t,e,n,r){t.min=De(e.min,n.min,r),t.max=De(e.max,n.max,r)}function KP(t,e,n,r){jy(t.x,e.x,n.x,r),jy(t.y,e.y,n.y,r)}function YP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XP={duration:.45,ease:[.4,0,.1,1]},Ny=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Py=Ny("applewebkit/")&&!Ny("chrome/")?Math.round:Ve;function Iy(t){t.min=Py(t.min),t.max=Py(t.max)}function JP(t){Iy(t.x),Iy(t.y)}function F1(t,e,n){return t==="position"||t==="preserve-aspect"&&!lh(wy(e),wy(n),.2)}const QP=D1({attachResizeListener:(t,e)=>Kn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bu={current:void 0},U1=D1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bu.current){const t=new QP({});t.mount(window),t.setOptions({layoutScroll:!0}),Bu.current=t}return Bu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZP={pan:{Feature:mP},drag:{Feature:pP,ProjectionNode:U1,MeasureLayout:L1}},eI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tI(t){const e=eI.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function fh(t,e,n=1){const[r,o]=tI(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const i=s.trim();return k1(i)?parseFloat(i):i}else return th(o)?fh(o,e,n+1):o}function nI(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const s=o.get();if(!th(s))return;const i=fh(s,r);i&&o.set(i)});for(const o in e){const s=e[o];if(!th(s))continue;const i=fh(s,r);i&&(e[o]=i,n||(n={}),n[o]===void 0&&(n[o]=s))}return{target:e,transitionEnd:n}}const rI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$1=t=>rI.has(t),oI=t=>Object.keys(t).some($1),Ay=t=>t===Ko||t===te,Ly=(t,e)=>parseFloat(t.split(", ")[e]),By=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Ly(o[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Ly(s[1],t):0}},sI=new Set(["x","y","z"]),iI=Ca.filter(t=>!sI.has(t));function aI(t){const e=[];return iI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:By(4,13),y:By(5,14)};Fs.translateX=Fs.x;Fs.translateY=Fs.y;const lI=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,s=getComputedStyle(o),{display:i}=s,a={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Fs[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Fs[c](l,s)}),t},cI=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter($1);let s=[],i=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=ui(u);const h=e[l];let y;if(yc(h)){const g=h.length,b=h[0]===null?1:0;u=h[b],f=ui(u);for(let w=b;w<g&&h[w]!==null;w++)y?mm(ui(h[w])===y):y=ui(h[w])}else y=ui(h);if(f!==y)if(Ay(f)&&Ay(y)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&y===te&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(y!=null&&y.transform)&&(u===0||h===0)?u===0?c.set(y.transform(u)):e[l]=f.transform(h):(i||(s=aI(t),i=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=lI(e,t,a);return s.length&&s.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),dd&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function dI(t,e,n,r){return oI(e)?cI(t,e,n,r):{target:e,transitionEnd:r}}const uI=(t,e,n,r)=>{const o=nI(t,e,r);return e=o.target,r=o.transitionEnd,dI(t,e,n,r)},hh={current:null},z1={current:!1};function fI(){if(z1.current=!0,!!dd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hh.current=t.matches;t.addListener(e),e()}else hh.current=!1}function hI(t,e,n){const{willChange:r}=e;for(const o in e){const s=e[o],i=n[o];if(Dt(s))t.addValue(o,s),wc(r)&&r.add(o);else if(Dt(i))t.addValue(o,Ds(s,{owner:t})),wc(r)&&r.remove(o);else if(i!==s)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(o);t.addValue(o,Ds(a!==void 0?a:s,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Oy=new WeakMap,V1=Object.keys(da),pI=V1.length,Ry=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mI=im.length;class gI{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ne.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=i,this.isControllingVariants=fd(n),this.isVariantNode=_w(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Dt(h)&&(h.set(a[f],!1),wc(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Oy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z1.current||fI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Oy.delete(this.current),this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=qo.has(e),o=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,s){let i,a;for(let l=0;l<pI;l++){const c=V1[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:y}=da[c];h&&(i=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&gs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ry.length;r++){const o=Ry[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s=e["on"+o];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=hI(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mI;r++){const o=im[r],s=this.props[o];(ca(s)||s===!1)&&(n[o]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ds(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=pm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dt(s)?s:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class H1 extends gI{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},s){let i=LN(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),i&&(i=o(i))),s){IN(this,r,i);const a=uI(this,r,i,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function yI(t){return window.getComputedStyle(t)}class vI extends H1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(qo.has(n)){const r=bm(n);return r&&r.default||0}else{const r=yI(e),o=(Iw(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return I1(e,n)}build(e,n,r,o){cm(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return hm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){Mw(e,n,r,o)}}class bI extends H1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qo.has(n)){const r=bm(n);return r&&r.default||0}return n=Dw.has(n)?n:om(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ke()}scrapeMotionValuesFromProps(e,n){return Uw(e,n)}build(e,n,r,o){um(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){Fw(e,n,r,o)}mount(e){this.isSVGTag=fm(e.tagName),super.mount(e)}}const xI=(t,e)=>lm(t)?new bI(e,{enableHardwareAcceleration:!1}):new vI(e,{enableHardwareAcceleration:!0}),wI={layout:{ProjectionNode:U1,MeasureLayout:L1}},kI={...KN,...pj,...ZP,...wI},q=S_((t,e)=>tj(t,e,kI,xI));function W1(){const t=E.useRef(!1);return rm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function SI(){const t=W1(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>Ne.postRender(r),[r]),e]}class CI extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EI({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:i,top:a,left:l}=o.current;if(e||!r.current||!s||!i)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(CI,{isPresent:e,childRef:r,sizeRef:o},E.cloneElement(t,{ref:r}))}const Ou=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=$w(TI),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=E.createElement(EI,{isPresent:n},t)),E.createElement(cd.Provider,{value:c},t)};function TI(){return new Map}function _I(t){return E.useEffect(()=>()=>t(),[])}const go=t=>t.key||"";function jI(t,e){t.forEach(n=>{const r=go(n);e.set(r,n)})}function NI(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const gd=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=E.useContext(am).forceRender||SI()[0],l=W1(),c=NI(t);let u=c;const f=E.useRef(new Map).current,h=E.useRef(u),y=E.useRef(new Map).current,g=E.useRef(!0);if(rm(()=>{g.current=!1,jI(c,y),h.current=u}),_I(()=>{g.current=!0,y.clear(),f.clear()}),g.current)return E.createElement(E.Fragment,null,u.map(m=>E.createElement(Ou,{key:go(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:i},m)));u=[...u];const b=h.current.map(go),w=c.map(go),v=b.length;for(let m=0;m<v;m++){const p=b[m];w.indexOf(p)===-1&&!f.has(p)&&f.set(p,void 0)}return i==="wait"&&f.size&&(u=[]),f.forEach((m,p)=>{if(w.indexOf(p)!==-1)return;const x=y.get(p);if(!x)return;const k=b.indexOf(p);let N=m;if(!N){const j=()=>{f.delete(p);const C=Array.from(y.keys()).filter(S=>!w.includes(S));if(C.forEach(S=>y.delete(S)),h.current=c.filter(S=>{const _=go(S);return _===p||C.includes(_)}),!f.size){if(l.current===!1)return;a(),r&&r()}};N=E.createElement(Ou,{key:go(x),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:s,mode:i},x),f.set(p,N)}u.splice(k,0,N)}),u=u.map(m=>{const p=m.key;return f.has(p)?m:E.createElement(Ou,{key:go(m),isPresent:!0,presenceAffectsLayout:s,mode:i},m)}),E.createElement(E.Fragment,null,f.size?u:u.map(m=>E.cloneElement(m)))},Ge=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:o={duration:1},className:s})=>d.jsx(gd,{children:d.jsx(q.div,{initial:n,animate:r,transition:o,className:s,children:t},e)});function G1(t,e){return function(){return t.apply(e,arguments)}}const{toString:PI}=Object.prototype,{getPrototypeOf:Em}=Object,{iterator:yd,toStringTag:q1}=Symbol,vd=(t=>e=>{const n=PI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wn=t=>(t=t.toLowerCase(),e=>vd(e)===t),bd=t=>e=>typeof e===t,{isArray:Ys}=Array,fa=bd("undefined");function II(t){return t!==null&&!fa(t)&&t.constructor!==null&&!fa(t.constructor)&&Mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const K1=wn("ArrayBuffer");function AI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&K1(t.buffer),e}const LI=bd("string"),Mt=bd("function"),Y1=bd("number"),xd=t=>t!==null&&typeof t=="object",BI=t=>t===!0||t===!1,jl=t=>{if(vd(t)!=="object")return!1;const e=Em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(q1 in t)&&!(yd in t)},OI=wn("Date"),RI=wn("File"),MI=wn("Blob"),DI=wn("FileList"),FI=t=>xd(t)&&Mt(t.pipe),UI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mt(t.append)&&((e=vd(t))==="formdata"||e==="object"&&Mt(t.toString)&&t.toString()==="[object FormData]"))},$I=wn("URLSearchParams"),[zI,VI,HI,WI]=["ReadableStream","Request","Response","Headers"].map(wn),GI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ja(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Ys(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let a;for(r=0;r<i;r++)a=s[r],e.call(null,t[a],a,t)}}function X1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const So=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),J1=t=>!fa(t)&&t!==So;function ph(){const{caseless:t}=J1(this)&&this||{},e={},n=(r,o)=>{const s=t&&X1(e,o)||o;jl(e[s])&&jl(r)?e[s]=ph(e[s],r):jl(r)?e[s]=ph({},r):Ys(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ja(arguments[r],n);return e}const qI=(t,e,n,{allOwnKeys:r}={})=>(ja(e,(o,s)=>{n&&Mt(o)?t[s]=G1(o,n):t[s]=o},{allOwnKeys:r}),t),KI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),YI=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},XI=(t,e,n,r)=>{let o,s,i;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Em(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},JI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},QI=t=>{if(!t)return null;if(Ys(t))return t;let e=t.length;if(!Y1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ZI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Em(Uint8Array)),e4=(t,e)=>{const r=(t&&t[yd]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},t4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},n4=wn("HTMLFormElement"),r4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),My=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),o4=wn("RegExp"),Q1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ja(n,(o,s)=>{let i;(i=e(o,s,t))!==!1&&(r[s]=i||o)}),Object.defineProperties(t,r)},s4=t=>{Q1(t,(e,n)=>{if(Mt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},i4=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return Ys(t)?r(t):r(String(t).split(e)),n},a4=()=>{},l4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function c4(t){return!!(t&&Mt(t.append)&&t[q1]==="FormData"&&t[yd])}const d4=t=>{const e=new Array(10),n=(r,o)=>{if(xd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=Ys(r)?[]:{};return ja(r,(i,a)=>{const l=n(i,o+1);!fa(l)&&(s[a]=l)}),e[o]=void 0,s}}return r};return n(t,0)},u4=wn("AsyncFunction"),f4=t=>t&&(xd(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch),Z1=((t,e)=>t?setImmediate:e?((n,r)=>(So.addEventListener("message",({source:o,data:s})=>{o===So&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),So.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mt(So.postMessage)),h4=typeof queueMicrotask<"u"?queueMicrotask.bind(So):typeof process<"u"&&process.nextTick||Z1,p4=t=>t!=null&&Mt(t[yd]),V={isArray:Ys,isArrayBuffer:K1,isBuffer:II,isFormData:UI,isArrayBufferView:AI,isString:LI,isNumber:Y1,isBoolean:BI,isObject:xd,isPlainObject:jl,isReadableStream:zI,isRequest:VI,isResponse:HI,isHeaders:WI,isUndefined:fa,isDate:OI,isFile:RI,isBlob:MI,isRegExp:o4,isFunction:Mt,isStream:FI,isURLSearchParams:$I,isTypedArray:ZI,isFileList:DI,forEach:ja,merge:ph,extend:qI,trim:GI,stripBOM:KI,inherits:YI,toFlatObject:XI,kindOf:vd,kindOfTest:wn,endsWith:JI,toArray:QI,forEachEntry:e4,matchAll:t4,isHTMLForm:n4,hasOwnProperty:My,hasOwnProp:My,reduceDescriptors:Q1,freezeMethods:s4,toObjectSet:i4,toCamelCase:r4,noop:a4,toFiniteNumber:l4,findKey:X1,global:So,isContextDefined:J1,isSpecCompliantForm:c4,toJSONObject:d4,isAsyncFn:u4,isThenable:f4,setImmediate:Z1,asap:h4,isIterable:p4};function le(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}V.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const ek=le.prototype,tk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tk[t]={value:t}});Object.defineProperties(le,tk);Object.defineProperty(ek,"isAxiosError",{value:!0});le.from=(t,e,n,r,o,s)=>{const i=Object.create(ek);return V.toFlatObject(t,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(i,t.message,e,n,r,o),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const m4=null;function mh(t){return V.isPlainObject(t)||V.isArray(t)}function nk(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Dy(t,e,n){return t?t.concat(e).map(function(o,s){return o=nk(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function g4(t){return V.isArray(t)&&!t.some(mh)}const y4=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function wd(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!V.isUndefined(w[b])});const r=n.metaTokens,o=n.visitor||u,s=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(o))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(V.isDate(g))return g.toISOString();if(V.isBoolean(g))return g.toString();if(!l&&V.isBlob(g))throw new le("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(g)||V.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,w){let v=g;if(g&&!w&&typeof g=="object"){if(V.endsWith(b,"{}"))b=r?b:b.slice(0,-2),g=JSON.stringify(g);else if(V.isArray(g)&&g4(g)||(V.isFileList(g)||V.endsWith(b,"[]"))&&(v=V.toArray(g)))return b=nk(b),v.forEach(function(p,x){!(V.isUndefined(p)||p===null)&&e.append(i===!0?Dy([b],x,s):i===null?b:b+"[]",c(p))}),!1}return mh(g)?!0:(e.append(Dy(w,b,s),c(g)),!1)}const f=[],h=Object.assign(y4,{defaultVisitor:u,convertValue:c,isVisitable:mh});function y(g,b){if(!V.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(g),V.forEach(g,function(v,m){(!(V.isUndefined(v)||v===null)&&o.call(e,v,V.isString(m)?m.trim():m,b,h))===!0&&y(v,b?b.concat(m):[m])}),f.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Fy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Tm(t,e){this._pairs=[],t&&wd(t,this,e)}const rk=Tm.prototype;rk.append=function(e,n){this._pairs.push([e,n])};rk.toString=function(e){const n=e?function(r){return e.call(this,r,Fy)}:Fy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function v4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ok(t,e,n){if(!e)return t;const r=n&&n.encode||v4;V.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(e,n):s=V.isURLSearchParams(e)?e.toString():new Tm(e,n).toString(r),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class b4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Uy=b4,sk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x4=typeof URLSearchParams<"u"?URLSearchParams:Tm,w4=typeof FormData<"u"?FormData:null,k4=typeof Blob<"u"?Blob:null,S4={isBrowser:!0,classes:{URLSearchParams:x4,FormData:w4,Blob:k4},protocols:["http","https","file","blob","url","data"]},_m=typeof window<"u"&&typeof document<"u",gh=typeof navigator=="object"&&navigator||void 0,C4=_m&&(!gh||["ReactNative","NativeScript","NS"].indexOf(gh.product)<0),E4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),T4=_m&&window.location.href||"http://localhost",_4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_m,hasStandardBrowserEnv:C4,hasStandardBrowserWebWorkerEnv:E4,navigator:gh,origin:T4},Symbol.toStringTag,{value:"Module"})),bt={..._4,...S4};function j4(t,e){return wd(t,new bt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return bt.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function N4(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function P4(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function ik(t){function e(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=s>=n.length;return i=!i&&V.isArray(o)?o.length:i,l?(V.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!V.isObject(o[i]))&&(o[i]=[]),e(n,r,o[i],s)&&V.isArray(o[i])&&(o[i]=P4(o[i])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,o)=>{e(N4(r),o,n,0)}),n}return null}function I4(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const jm={transitional:sk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return o?JSON.stringify(ik(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j4(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),I4(e)):e}],transformResponse:[function(e){const n=this.transitional||jm.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{jm.headers[t]={}});const Nm=jm,A4=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L4=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||e[n]&&A4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$y=Symbol("internals");function hi(t){return t&&String(t).trim().toLowerCase()}function Nl(t){return t===!1||t==null?t:V.isArray(t)?t.map(Nl):String(t)}function B4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const O4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ru(t,e,n,r,o){if(V.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function R4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function M4(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,i){return this[r].call(this,e,o,s,i)},configurable:!0})})}class kd{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(a,l,c){const u=hi(l);if(!u)throw new Error("header name must be a non-empty string");const f=V.findKey(o,u);(!f||o[f]===void 0||c===!0||c===void 0&&o[f]!==!1)&&(o[f||l]=Nl(a))}const i=(a,l)=>V.forEach(a,(c,u)=>s(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(V.isString(e)&&(e=e.trim())&&!O4(e))i(L4(e),n);else if(V.isObject(e)&&V.isIterable(e)){let a={},l,c;for(const u of e){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?V.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=hi(e),e){const r=V.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return B4(o);if(V.isFunction(n))return n.call(this,o,r);if(V.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hi(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ru(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(i){if(i=hi(i),i){const a=V.findKey(r,i);a&&(!n||Ru(r,r[a],a,n))&&(delete r[a],o=!0)}}return V.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||Ru(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return V.forEach(this,(o,s)=>{const i=V.findKey(r,s);if(i){n[i]=Nl(o),delete n[s];return}const a=e?R4(s):String(s).trim();a!==s&&delete n[s],n[a]=Nl(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[$y]=this[$y]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=hi(i);r[a]||(M4(o,i),r[a]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}}kd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(kd.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(kd);const yn=kd;function Mu(t,e){const n=this||Nm,r=e||n,o=yn.from(r.headers);let s=r.data;return V.forEach(t,function(a){s=a.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function ak(t){return!!(t&&t.__CANCEL__)}function Xs(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Xs,le,{__CANCEL__:!0});function lk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function D4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,i;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];i||(i=c),n[o]=l,r[o]=c;let f=s,h=0;for(;f!==o;)h+=n[f++],f=f%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const y=u&&c-u;return y?Math.round(h*1e3/y):void 0}}function U4(t,e){let n=0,r=1e3/e,o,s;const i=(c,u=Date.now())=>{n=u,o=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?i(c,u):(o=c,s||(s=setTimeout(()=>{s=null,i(o)},r-f)))},()=>o&&i(o)]}const Sc=(t,e,n=3)=>{let r=0;const o=F4(50,250);return U4(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,l=i-r,c=o(l),u=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},zy=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Vy=t=>(...e)=>V.asap(()=>t(...e)),$4=bt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,bt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,z4=bt.hasStandardBrowserEnv?{write(t,e,n,r,o,s){const i=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),V.isString(r)&&i.push("path="+r),V.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function H4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ck(t,e,n){let r=!V4(e);return t&&(r||n==!1)?H4(t,e):e}const Hy=t=>t instanceof yn?{...t}:t;function Ro(t,e){e=e||{};const n={};function r(c,u,f,h){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:h},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function o(c,u,f,h){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function s(c,u){if(!V.isUndefined(u))return r(void 0,u)}function i(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,f)=>o(Hy(c),Hy(u),f,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||o,h=f(t[u],e[u],u);V.isUndefined(h)&&f!==a||(n[u]=h)}),n}const dk=t=>{const e=Ro({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=e;e.headers=i=yn.from(i),e.url=ok(ck(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(n)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(bt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&$4(e.url))){const c=o&&s&&z4.read(s);c&&i.set(o,c)}return e},W4=typeof XMLHttpRequest<"u",G4=W4&&function(t){return new Promise(function(n,r){const o=dk(t);let s=o.data;const i=yn.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,u,f,h,y,g;function b(){y&&y(),g&&g(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function v(){if(!w)return;const p=yn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:p,config:t,request:w};lk(function(j){n(j),b()},function(j){r(j),b()},k),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new le("Request aborted",le.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let x=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||sk;o.timeoutErrorMessage&&(x=o.timeoutErrorMessage),r(new le(x,k.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,w)),w=null},s===void 0&&i.setContentType(null),"setRequestHeader"in w&&V.forEach(i.toJSON(),function(x,k){w.setRequestHeader(k,x)}),V.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),c&&([h,g]=Sc(c,!0),w.addEventListener("progress",h)),l&&w.upload&&([f,y]=Sc(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(u=p=>{w&&(r(!p||p.type?new Xs(null,t,w):p),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const m=D4(o.url);if(m&&bt.protocols.indexOf(m)===-1){r(new le("Unsupported protocol "+m+":",le.ERR_BAD_REQUEST,t));return}w.send(s||null)})},q4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const s=function(c){if(!o){o=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof le?u:new Xs(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>V.asap(a),l}},K4=q4,Y4=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},X4=async function*(t,e){for await(const n of J4(t))yield*Y4(n,e)},J4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Wy=(t,e,n,r)=>{const o=X4(t,e);let s=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=s+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},Sd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uk=Sd&&typeof ReadableStream=="function",Q4=Sd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Z4=uk&&fk(()=>{let t=!1;const e=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Gy=64*1024,yh=uk&&fk(()=>V.isReadableStream(new Response("").body)),Cc={stream:yh&&(t=>t.body)};Sd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cc[e]&&(Cc[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const e3=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(bt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await Q4(t)).byteLength},t3=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??e3(e)},n3=Sd&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=dk(t);c=c?(c+"").toLowerCase():"text";let y=K4([o,s&&s.toAbortSignal()],i),g;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(l&&Z4&&n!=="get"&&n!=="head"&&(w=await t3(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(V.isFormData(r)&&(N=k.headers.get("content-type"))&&u.setContentType(N),k.body){const[j,C]=zy(w,Sc(Vy(l)));r=Wy(k.body,Gy,j,C)}}V.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...h,signal:y,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let m=await fetch(g,h);const p=yh&&(c==="stream"||c==="response");if(yh&&(a||p&&b)){const k={};["status","statusText","headers"].forEach(S=>{k[S]=m[S]});const N=V.toFiniteNumber(m.headers.get("content-length")),[j,C]=a&&zy(N,Sc(Vy(a),!0))||[];m=new Response(Wy(m.body,Gy,j,()=>{C&&C(),b&&b()}),k)}c=c||"text";let x=await Cc[V.findKey(Cc,c)||"text"](m,t);return!p&&b&&b(),await new Promise((k,N)=>{lk(k,N,{data:x,headers:yn.from(m.headers),status:m.status,statusText:m.statusText,config:t,request:g})})}catch(v){throw b&&b(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,g),{cause:v.cause||v}):le.from(v,v&&v.code,t,g)}}),vh={http:m4,xhr:G4,fetch:n3};V.forEach(vh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qy=t=>`- ${t}`,r3=t=>V.isFunction(t)||t===null||t===!1,hk={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let s=0;s<e;s++){n=t[s];let i;if(r=n,!r3(n)&&(r=vh[(i=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+s]=r}if(!r){const s=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(qy).join(`
`):" "+qy(s[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:vh};function Du(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xs(null,t)}function Ky(t){return Du(t),t.headers=yn.from(t.headers),t.data=Mu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hk.getAdapter(t.adapter||Nm.adapter)(t).then(function(r){return Du(t),r.data=Mu.call(t,t.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return ak(r)||(Du(t),r&&r.response&&(r.response.data=Mu.call(t,t.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const pk="1.10.0",Cd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Yy={};Cd.transitional=function(e,n,r){function o(s,i){return"[Axios v"+pk+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(e===!1)throw new le(o(i," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!Yy[i]&&(Yy[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,i,a):!0}};Cd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function o3(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],i=e[s];if(i){const a=t[s],l=a===void 0||i(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const Pl={assertOptions:o3,validators:Cd},En=Pl.validators;class Ec{constructor(e){this.defaults=e||{},this.interceptors={request:new Uy,response:new Uy}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ro(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&Pl.assertOptions(r,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),o!=null&&(V.isFunction(o)?n.paramsSerializer={serialize:o}:Pl.assertOptions(o,{encode:En.function,serialize:En.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pl.assertOptions(n,{baseUrl:En.spelling("baseURL"),withXsrfToken:En.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&V.merge(s.common,s[n.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=yn.concat(i,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,h;if(!l){const g=[Ky.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);f<h;)u=u.then(g[f++],g[f++]);return u}h=a.length;let y=n;for(f=0;f<h;){const g=a[f++],b=a[f++];try{y=g(y)}catch(w){b.call(this,w);break}}try{u=Ky.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Ro(this.defaults,e);const n=ck(e.baseURL,e.url,e.allowAbsoluteUrls);return ok(n,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){Ec.prototype[e]=function(n,r){return this.request(Ro(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(s,i,a){return this.request(Ro(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Ec.prototype[e]=n(),Ec.prototype[e+"Form"]=n(!0)});const Il=Ec;class Pm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},e(function(s,i,a){r.reason||(r.reason=new Xs(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Pm(function(o){e=o}),cancel:e}}}const s3=Pm;function i3(t){return function(n){return t.apply(null,n)}}function a3(t){return V.isObject(t)&&t.isAxiosError===!0}const bh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bh).forEach(([t,e])=>{bh[e]=t});const l3=bh;function mk(t){const e=new Il(t),n=G1(Il.prototype.request,e);return V.extend(n,Il.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return mk(Ro(t,o))},n}const Xe=mk(Nm);Xe.Axios=Il;Xe.CanceledError=Xs;Xe.CancelToken=s3;Xe.isCancel=ak;Xe.VERSION=pk;Xe.toFormData=wd;Xe.AxiosError=le;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=i3;Xe.isAxiosError=a3;Xe.mergeConfig=Ro;Xe.AxiosHeaders=yn;Xe.formToJSON=t=>ik(V.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=hk.getAdapter;Xe.HttpStatusCode=l3;Xe.default=Xe;const Y=Xe;class c3{constructor(){this.token=null,this.initialized=!1}getCSRFToken(){if(this.token)return this.token;const e=document.cookie.split(";");for(let n of e){const[r,o]=n.trim().split("=");if(r==="csrf-token")return this.token=o,o}return null}setCSRFToken(e){this.token=e,this.initialized=!0}clearCSRFToken(){this.token=null,this.initialized=!1}isInitialized(){return this.initialized||this.getCSRFToken()!==null}getCSRFHeader(){const e=this.getCSRFToken();return e?{"X-CSRF-Token":e}:{}}}const ha=new c3,d3=async t=>{if(!t)return!1;try{return(await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/validate-token",{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},timeout:5e3})).status===200}catch(e){return console.error("Token validation failed:",e),!1}},u3=async t=>{if(!t)return null;try{return(await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/refresh-token",{refreshToken:t},{headers:{"Content-Type":"application/json"},timeout:1e4})).data.access_token}catch(e){return console.error("Token refresh failed:",e),null}},Ed=async t=>{try{sessionStorage.clear(),localStorage.clear(),ha.clearCSRFToken(),Y.defaults.headers.common.Authorization=null,t({access_token:null}),console.log("User logged out successfully")}catch(e){console.error("Error during logout:",e),sessionStorage.clear(),localStorage.clear(),t({access_token:null})}},f3=async()=>{try{return await secureStorage.isAuthenticated()}catch(t){return console.error("Error checking authentication:",t),!1}},h3=async()=>{try{return await secureStorage.getUserData()}catch(t){return console.error("Error getting current user:",t),null}},p3=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:h3,isAuthenticated:f3,logoutUser:Ed,refreshAccessToken:u3,validateToken:d3},Symbol.toStringTag,{value:"Module"})),Xy=()=>{const{userAuth:{username:t},setUserAuth:e}=E.useContext(ve),n=()=>{Ed(e)};return d.jsx(Ge,{className:"absolute right-0 z-50",transition:{duration:.2},children:d.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60 duration-200",children:[d.jsx(ne,{to:`/user/${t}`,className:"link pl-8 py-4",children:"Profile"}),d.jsx(ne,{to:"/dashboard/notification",className:"link pl-8 py-4",children:"Notifications"}),d.jsx(ne,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"Settings"}),d.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),d.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:n,children:[d.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),d.jsxs("p",{className:"text-dark-grey",children:["@",t]})]})]})})};let m3={data:""},g3=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||m3,y3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,v3=/\/\*[^]*?\*\/|  +/g,Jy=/\n+/g,_r=(t,e)=>{let n="",r="",o="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+i+";":r+=s[1]=="f"?_r(i,s):s+"{"+_r(i,s[1]=="k"?"":e)+"}":typeof i=="object"?r+=_r(i,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=_r.p?_r.p(s,i):s+":"+i+";")}return n+(e&&o?e+"{"+o+"}":o)+r},zn={},gk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gk(t[n]);return e}return t},b3=(t,e,n,r,o)=>{let s=gk(t),i=zn[s]||(zn[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!zn[i]){let l=s!==t?t:(c=>{let u,f,h=[{}];for(;u=y3.exec(c.replace(v3,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Jy," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Jy," ").trim();return h[0]})(t);zn[i]=_r(o?{["@keyframes "+i]:l}:l,n?"":"."+i)}let a=n&&zn.g?zn.g:null;return n&&(zn.g=zn[i]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(zn[i],e,r,a),i},x3=(t,e,n)=>t.reduce((r,o,s)=>{let i=e[s];if(i&&i.call){let a=i(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=l?"."+l:a&&typeof a=="object"?a.props?"":_r(a,""):a===!1?"":a}return r+o+(i??"")},"");function Td(t){let e=this||{},n=t.call?t(e.p):t;return b3(n.unshift?n.raw?x3(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,g3(e.target),e.g,e.o,e.k)}let yk,xh,wh;Td.bind({g:1});let ur=Td.bind({k:1});function w3(t,e,n,r){_r.p=e,yk=t,xh=n,wh=r}function so(t,e){let n=this||{};return function(){let r=arguments;function o(s,i){let a=Object.assign({},s),l=a.className||o.className;n.p=Object.assign({theme:xh&&xh()},a),n.o=/ *go\d+/.test(l),a.className=Td.apply(n,r)+(l?" "+l:""),e&&(a.ref=i);let c=t;return t[0]&&(c=a.as||t,delete a.as),wh&&c[0]&&wh(a),yk(c,a)}return e?e(o):o}}var k3=t=>typeof t=="function",Tc=(t,e)=>k3(t)?t(e):t,S3=(()=>{let t=0;return()=>(++t).toString()})(),vk=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),C3=20,bk=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,C3)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return bk(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},Al=[],Co={toasts:[],pausedAt:void 0},Yo=t=>{Co=bk(Co,t),Al.forEach(e=>{e(Co)})},E3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},T3=(t={})=>{let[e,n]=E.useState(Co),r=E.useRef(Co);E.useEffect(()=>(r.current!==Co&&n(Co),Al.push(n),()=>{let s=Al.indexOf(n);s>-1&&Al.splice(s,1)}),[]);let o=e.toasts.map(s=>{var i,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||E3[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:o}},_3=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||S3()}),Na=t=>(e,n)=>{let r=_3(e,t,n);return Yo({type:2,toast:r}),r.id},H=(t,e)=>Na("blank")(t,e);H.error=Na("error");H.success=Na("success");H.loading=Na("loading");H.custom=Na("custom");H.dismiss=t=>{Yo({type:3,toastId:t})};H.remove=t=>Yo({type:4,toastId:t});H.promise=(t,e,n)=>{let r=H.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let s=e.success?Tc(e.success,o):void 0;return s?H.success(s,{id:r,...n,...n==null?void 0:n.success}):H.dismiss(r),o}).catch(o=>{let s=e.error?Tc(e.error,o):void 0;s?H.error(s,{id:r,...n,...n==null?void 0:n.error}):H.dismiss(r)}),t};var j3=(t,e)=>{Yo({type:1,toast:{id:t,height:e}})},N3=()=>{Yo({type:5,time:Date.now()})},Mi=new Map,P3=1e3,I3=(t,e=P3)=>{if(Mi.has(t))return;let n=setTimeout(()=>{Mi.delete(t),Yo({type:4,toastId:t})},e);Mi.set(t,n)},A3=t=>{let{toasts:e,pausedAt:n}=T3(t);E.useEffect(()=>{if(n)return;let s=Date.now(),i=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&H.dismiss(a.id);return}return setTimeout(()=>H.dismiss(a.id),l)});return()=>{i.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&Yo({type:6,time:Date.now()})},[n]),o=E.useCallback((s,i)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=i||{},u=e.filter(y=>(y.position||c)===(s.position||c)&&y.height),f=u.findIndex(y=>y.id===s.id),h=u.filter((y,g)=>g<f&&y.visible).length;return u.filter(y=>y.visible).slice(...a?[h+1]:[0,h]).reduce((y,g)=>y+(g.height||0)+l,0)},[e]);return E.useEffect(()=>{e.forEach(s=>{if(s.dismissed)I3(s.id,s.removeDelay);else{let i=Mi.get(s.id);i&&(clearTimeout(i),Mi.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:j3,startPause:N3,endPause:r,calculateOffset:o}}},L3=ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B3=ur`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O3=ur`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,R3=so("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${O3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,M3=ur`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,D3=so("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${M3} 1s linear infinite;
`,F3=ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,U3=ur`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$3=so("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${U3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,z3=so("div")`
  position: absolute;
`,V3=so("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H3=ur`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W3=so("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,G3=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(W3,null,e):e:n==="blank"?null:E.createElement(V3,null,E.createElement(D3,{...r}),n!=="loading"&&E.createElement(z3,null,n==="error"?E.createElement(R3,{...r}):E.createElement($3,{...r})))},q3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,K3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Y3="0%{opacity:0;} 100%{opacity:1;}",X3="0%{opacity:1;} 100%{opacity:0;}",J3=so("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q3=so("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z3=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=vk()?[Y3,X3]:[q3(n),K3(n)];return{animation:e?`${ur(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ur(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eA=E.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?Z3(t.position||e||"top-center",t.visible):{opacity:0},s=E.createElement(G3,{toast:t}),i=E.createElement(Q3,{...t.ariaProps},Tc(t.message,t));return E.createElement(J3,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:s,message:i}):E.createElement(E.Fragment,null,s,i))});w3(E.createElement);var tA=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let s=E.useCallback(i=>{if(i){let a=()=>{let l=i.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:s,className:e,style:n},o)},nA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},rA=Td`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,il=16,$n=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:s,containerClassName:i})=>{let{toasts:a,handlers:l}=A3(n);return E.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:il,left:il,right:il,bottom:il,pointerEvents:"none",...s},className:i,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=nA(u,f);return E.createElement(tA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?rA:"",style:h},c.type==="custom"?Tc(c.message,c):o?o(c):E.createElement(eA,{toast:c,position:u}))}))};const fe=Y.create({timeout:15e3,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});fe.interceptors.request.use(async t=>{const e=localStorage.getItem("userAuth");if(e){const n=JSON.parse(e);n&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}return t},t=>Promise.reject(t));fe.interceptors.response.use(t=>(t.data&&t.data.csrfToken&&ha.setCSRFToken(t.data.csrfToken),t),async t=>{var n;const e=t.config;if(t.response){const{status:r}=t.response;if(r===403&&((n=t.response.data)==null?void 0:n.error)==="CSRF token validation failed"){console.error("CSRF token validation failed");try{return await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-auth-cookie",{withCredentials:!0}),fe(e)}catch(o){return console.error("Failed to refresh CSRF token:",o),Promise.reject(new Error("Security validation failed. Please refresh the page and try again."))}}if(r===401&&!e._retry)return e._retry=!0,console.log("Authentication failed, logging out user"),Ed(()=>{window.location.href="/login"}),Promise.reject(new Error("Authentication failed. Please log in again."));if(r===403)return Promise.reject(new Error("Access denied. You do not have permission to perform this action."));if(r===429)return Promise.reject(new Error("Too many requests. Please wait a moment before trying again."));if(r>=500)return Promise.reject(new Error("Server error. Please try again later."))}return t.code==="ECONNABORTED"?Promise.reject(new Error("Request timed out. Please check your connection and try again.")):t.code==="ERR_NETWORK"?Promise.reject(new Error("Network error. Please check your connection and try again.")):Promise.reject(t)});Y.defaults.timeout=15e3;Y.defaults.headers.common["Content-Type"]="application/json";Y.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Y.defaults.withCredentials=!0;Y.interceptors.request.use(async t=>t,t=>Promise.reject(t));Y.interceptors.response.use(t=>(t.data&&t.data.csrfToken&&ha.setCSRFToken(t.data.csrfToken),t),async t=>{var n;const e=t.config;if(t.response){const{status:r}=t.response;if(r===403&&((n=t.response.data)==null?void 0:n.error)==="CSRF token validation failed"){console.error("CSRF token validation failed");try{return await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-auth-cookie",{withCredentials:!0}),Y(e)}catch(o){return console.error("Failed to refresh CSRF token:",o),Promise.reject(new Error("Security validation failed. Please refresh the page and try again."))}}if(r===401&&!e._retry)return e._retry=!0,console.log("Authentication failed, logging out user"),Ed(()=>{window.location.href="/login"}),Promise.reject(new Error("Authentication failed. Please log in again."));if(r===403)return Promise.reject(new Error("Access denied. You do not have permission to perform this action."));if(r===429)return Promise.reject(new Error("Too many requests. Please wait a moment before trying again."));if(r>=500)return Promise.reject(new Error("Server error. Please try again later."))}return t.code==="ECONNABORTED"?Promise.reject(new Error("Request timed out. Please check your connection and try again.")):t.code==="ERR_NETWORK"?Promise.reject(new Error("Network error. Please check your connection and try again.")):Promise.reject(t)});const _c="/assets/blog banner-4c269e06.png",kh="/assets/user profile-4613af22.png",Sh="/assets/logo-9831a3d7.png",oA="/assets/full-logo-faf49934.png",xk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=",wk="/assets/404-74f80113.png",kk={initial:{opacity:0,y:60},animate:{opacity:1,y:0},exit:{opacity:0,y:-60}},sA={initial:{opacity:0,y:-60},animate:{opacity:1,y:0},exit:{opacity:0,y:60}},Qy={initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}}},Ll={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},iA={initial:{scale:1},hover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}}},Im={initial:{scale:1},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},aA={initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"}},lA={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"}},Ch={initial:{scale:1},hover:{scale:1.05,transition:{duration:.3,ease:"easeOut"}}},al={initial:{y:0},hover:{y:-2},transition:{duration:.2}};q.div;q.span;q.button;q(ne);q.img;q.h1;q.h2;q.h3;q.p;const Zy=[_c,kh,Sh,oA,xk,wk,_c,kh,Sh],cA=({instagramImages:t,recentComments:e,categories:n})=>{const{theme:r}=E.useContext(qd);t&&t.length>0;const o=(e&&e.length>0?e:[{commented_by:{personal_info:{fullname:"Ellismatrix"}},comment:"Wow Nice Docs This Look 🔥 Great! It Should Be Delicious. Thanks"},{commented_by:{personal_info:{fullname:"Cassia"}},comment:"Top & Best, I'll Be Cheer Up You Again In Next Game Go Go 👏"},{commented_by:{personal_info:{fullname:"Amanda"}},comment:"You Were So Amazing Today, Love! 💖 Great Match"},{commented_by:{personal_info:{fullname:"Denis Simonassi"}},comment:"It Was a Great Match Today Jane! You Did Great 🏆"},{commented_by:{personal_info:{fullname:"User Five"}},comment:"Another great story, keep up the good work!"}]).slice(0,4),s=n&&n.length>0?n:["Culture","Fashion","Food","Healthy Living","Technology"],i=(v,m=15)=>{if(!v)return"";const p=v.split(" ");return p.length<=m?v:p.slice(0,m).join(" ")+"..."},[a,l]=E.useState(""),[c,u]=E.useState(""),[f,h]=E.useState(""),[y,g]=E.useState(!1),b=async v=>{var m,p;v.preventDefault(),u(""),h(""),g(!0);try{const x=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/subscribe-newsletter",{email:a});u(x.data.message||"Subscribed successfully!"),h("success"),l("")}catch(x){u(((p=(m=x.response)==null?void 0:m.data)==null?void 0:p.error)||"Failed to subscribe. Please try again."),h("error")}finally{g(!1)}},w=Array.isArray(t)&&t.length>0&&t[0].banner?t.slice(0,12):Zy.map((v,m)=>({banner:v,blog_id:null,_default:!0})).slice(0,12);return d.jsxs(q.div,{className:"w-full pt-4 pb-0 px-2 sm:px-6 md:px-10",style:{backgroundColor:r==="dark"?"#000000":"#f6ce82",color:r==="dark"?"#ffffff":"#000000"},variants:kk,initial:"initial",whileInView:"animate",viewport:{once:!0},transition:{duration:.6},children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row gap-4 ",children:[d.jsx("div",{className:"bg-grey rounded-r-xl px-2 sm:px-4 w-full md:w-2/5 lg:w-auto mb-4 md:mb-0",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-gray-100 px-2 sm:px-6 rounded-3xl p-4 pb-2 shadow-md max-w-full sm:max-w-xl mx-auto",children:[d.jsxs("div",{className:"flex-1 min-w-[150px] sm:min-w-[180px]",children:[d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Islamic Stories"]}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500 leading-relaxed mb-2 text-justify",children:"Lorem Ipsum Dolor Sit Amet, Consectetur Adipisicing Elit, Sed Do Eiusmod Tempor Incididunt Ut Labore Et Dolore Magna Aliqua. Egestas Purus Viverra Accumsan In Nisi Nisi."}),d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-6",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Newsletters"]}),d.jsxs("form",{onSubmit:b,className:"flex items-center border rounded-md overflow-hidden w-full max-w-xs bg-white",children:[d.jsx("input",{type:"email",placeholder:"Write Your Email ..",className:"flex-1 px-2 py-2 bg-transparent outline-none text-xs sm:text-sm",value:a,onChange:v=>l(v.target.value),required:!0,disabled:y}),d.jsx("button",{type:"submit",className:"bg-white px-2 py-2 text-gray-500 hover:text-black dark:hover:text-white disabled:opacity-60",disabled:y,children:y?d.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):d.jsx("i",{className:"fi fi-rr-envelope"})})]}),c&&d.jsx("div",{className:`mt-2 text-xs ${f==="success"?"text-green-600":"text-red-500"}`,children:c})]}),d.jsxs("div",{className:"flex-1 min-w-[80px] sm:min-w-[100px] max-auto",children:[d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Categories"]}),d.jsx("ul",{className:"text-xs sm:text-sm text-gray-500 space-y-1 pl-2 mb-2",style:{maxHeight:"7.5em",overflowY:"auto"},children:s.map((v,m)=>d.jsx("li",{children:v},`cat-${v}-${m}`))}),d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-1 flex items-center gap-1 mt-8 sm:mt-16 whitespace-nowrap",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Social Network"]}),d.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[d.jsxs("a",{href:"https://instagram.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-black text-white rounded-md text-xs hover:bg-black transition",children:[d.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.241 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.241 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.241-1.308-3.608C2.175 15.647 2.163 15.267 2.163 12s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.241-1.246 3.608-1.308C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.741 0 8.332.013 7.052.072 5.771.131 4.659.425 3.678 1.406 2.697 2.387 2.403 3.499 2.344 4.78.013 8.332 0 8.741 0 12c0 3.259.013 3.668.072 4.948.059 1.281.353 2.393 1.334 3.374.981.981 2.093 1.275 3.374 1.334C8.332 23.987 8.741 24 12 24s3.668-.013 4.948-.072c1.281-.059 2.393-.353 3.374-1.334.981-.981 1.275-2.093 1.334-3.374.059-1.28.072-1.689.072-4.948s-.013-3.668-.072-4.948c-.059-1.281-.353-2.393-1.334-3.374-.981-.981-2.093-1.275-3.374-1.334C15.668.013 15.259 0 12 0z"}),d.jsx("path",{d:"M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z"})]})," Instagram"]}),d.jsxs("a",{href:"https://twitter.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-black text-white rounded-md text-xs hover:bg-black transition",children:[d.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195a4.92 4.92 0 0 0-8.384 4.482C7.691 8.095 4.066 6.13 1.64 3.161c-.542.929-.856 2.01-.857 3.17 0 2.188 1.115 4.117 2.823 5.254a4.904 4.904 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.209c9.057 0 14.009-7.496 14.009-13.986 0-.21-.005-.423-.014-.634A9.936 9.936 0 0 0 24 4.557z"})})," Twitter"]})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[d.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs bg-gray-200 rounded-3xl p-4 flex flex-col gap-2 shadow-md mb-4 md:mb-0",children:[d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," New Comments"]}),d.jsx("div",{className:"flex flex-col gap-2",children:o.map((v,m)=>{var p,x,k;return d.jsxs("div",{className:"bg-white rounded-lg p-1.5 text-xs sm:text-sm shadow-sm min-h-0",children:[d.jsx("span",{className:"font-semibold text-black dark:text-white block leading-tight mb-0.5",children:((x=(p=v.commented_by)==null?void 0:p.personal_info)==null?void 0:x.fullname)||((k=v.commented_by)==null?void 0:k.fullname)||"User"}),d.jsx("span",{className:"text-gray-500 block leading-tight",children:i(v.comment,10)})]},`comment-${m}`)})})]}),d.jsxs("div",{className:"flex-1 w-full md:w-1/2 sm:max-w-xs flex flex-col mb-4 md:mb-0",children:[d.jsxs("h3",{className:"font-semibold text-base sm:text-lg mb-3 flex items-center gap-1",children:[d.jsx("span",{className:"text-yellow-400 text-lg",children:"•"})," Follow On Instagram"]}),d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 md:gap-3 justify-center items-center p-1 overflow-hidden",children:(window.innerWidth<640?w.slice(0,6):window.innerWidth<768?w.slice(0,8):w.slice(0,12)).map((v,m)=>d.jsx(q.div,{variants:Ll,initial:"initial",whileInView:"animate",viewport:{once:!0},transition:{delay:m*.1},children:v.blog_id?d.jsx("a",{href:`/blog/${v.blog_id}`,target:"_blank",rel:"noopener noreferrer",children:d.jsx(q.img,{src:v.banner,alt:`Instagram post ${m+1}`,className:"aspect-square object-cover rounded-lg border border-gray-200 shadow-sm max-w-full h-auto min-h-[60px] max-h-[100px]",variants:Ch,whileHover:"hover"})}):d.jsx(q.img,{src:v.banner,alt:`Instagram post ${m+1}`,className:"aspect-square object-cover rounded-lg border border-gray-200 shadow-sm max-w-full h-auto min-h-[60px] max-h-[100px] opacity-60",variants:Ch,whileHover:"hover"})},v.blog_id?v.blog_id:`default-${m}`))})})]})]})]}),d.jsxs("div",{className:"w-full bg-gray-300 py-2 mt-2 rounded-b-3xl px-2 sm:px-4 flex flex-col md:flex-row justify-between items-center text-xs text-gray-600 gap-2",children:[d.jsxs("span",{className:"text-center w-full md:w-auto order-2 md:order-1",children:["All Copyright (C) ",new Date().getFullYear()," Reserved"]}),d.jsxs("span",{className:"text-center w-full md:w-auto order-1 md:order-2",children:[d.jsx("a",{href:"/privacy-policy",className:"hover:underline",children:"Privacy Policy"})," | ",d.jsx("a",{href:"/terms-and-conditions",className:"hover:underline",children:"Terms & Conditions"})]})]})]})},dA=()=>{var B,M,O,R;const[t,e]=E.useState(!1),{userAuth:n,setUserAuth:r}=E.useContext(ve),{blogImages:o,categories:s}=E.useContext(Kd);let{theme:i,setTheme:a}=E.useContext(qd);const l=((B=n==null?void 0:n.personal_info)==null?void 0:B.profile_img)||(n==null?void 0:n.profile_img),c=n==null?void 0:n.new_notification_available,u=!!(n!=null&&n.username||n!=null&&n.profile_img||n!=null&&n.fullname||(M=n==null?void 0:n.personal_info)!=null&&M.username||(O=n==null?void 0:n.personal_info)!=null&&O.profile_img||(R=n==null?void 0:n.personal_info)!=null&&R.fullname),[f,h]=E.useState(!1),y=E.useRef(null),g=E.useRef(null),[b,w]=E.useState(!1),[v,m]=E.useState(!1),p=E.useRef(null),[x,k]=E.useState([]),N=gr();let j=Xt();const S=!["/login","/signup"].includes(N.pathname),_=()=>{e(D=>!D)},T=()=>{setTimeout(()=>{e(!1)},200)},I=D=>{let U=D.target.value.trim();D.keyCode===13&&U.length&&j(`/search/${U}`)};E.useEffect(()=>{function D(U){y.current&&!y.current.contains(U.target)&&w(!1)}return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),E.useEffect(()=>{b&&p.current&&p.current.focus()},[b]),E.useEffect(()=>{w(!1)},[N.pathname]);const P=()=>{const D=i==="dark"?"light":"dark";a(D),document.body.setAttribute("data-theme",D),sessionStorage.setItem("theme",D)},L=()=>{if(c&&u){const D={...n,new_notification_available:!1};r(D),fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${u}`}}).catch(U=>{console.log("Error marking notifications as seen:",U)})}};E.useEffect(()=>{(async()=>{try{const{data:U}=await fe.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/recent-comments");k(U.comments||[])}catch(U){console.error("Error fetching recent comments:",U),k([])}})()},[]);const A=Math.max(1,Math.ceil(s.length/10));return d.jsxs(d.Fragment,{children:[d.jsxs(q.nav,{className:"navbar z-50 mb-2 bg-white shadow-md dark:bg-dark-grey h-[80px]",variants:sA,initial:"initial",animate:"animate",transition:{duration:.5},children:[d.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-[5vw] flex items-center justify-between h-full",children:[d.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsx(ne,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0 logo-text",children:"IslamicStories"})}),d.jsxs("div",{className:"hidden md:flex flex-1 justify-center space-x-6 items-center flex-nowrap",children:[d.jsx(q.div,{variants:al,whileHover:"hover",children:d.jsx(ne,{to:"/",className:"text-gray-600 navHover",children:"Home"})}),d.jsxs("div",{className:"relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[d.jsx(q.div,{variants:al,whileHover:"hover",children:d.jsxs(ne,{to:"/categories",className:"text-gray-600 navHover flex items-center focus:outline-none",onClick:()=>m(!1),children:["Categories",d.jsx("i",{className:"fi fi-rr-angle-small-down ml-2 navHover pt-1"})]})}),d.jsx(gd,{children:v&&d.jsx(q.div,{className:"absolute left-0 mt-2 bg-white rounded shadow-lg z-50 overflow-x-auto",style:{minWidth:`${A*14}rem`},variants:aA,initial:"initial",animate:"animate",exit:"exit",children:d.jsx("div",{className:`grid grid-flow-row grid-cols-${A} gap-0`,children:s.map((D,U)=>d.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.05},children:d.jsx(ne,{to:`/categories/${encodeURIComponent(D)}`,className:"block px-4 w-56 break-words whitespace-pre-line text-gray-700 categoryDropdownHover categoryDropdownItem capitalize",onClick:()=>m(!1),children:D})},D))})})})]}),d.jsx(q.div,{variants:al,whileHover:"hover",children:d.jsx(ne,{to:"/contact",className:"text-gray-600 navHover",children:"Contact"})}),d.jsx(q.div,{variants:al,whileHover:"hover",children:d.jsx(ne,{to:"/about",className:"text-gray-600 navHover",children:"About"})})]}),d.jsxs("div",{className:"flex items-center gap-5 shrink-0",children:[d.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center hidden md:flex",onClick:P,"aria-label":"Toggle theme",children:i==="dark"?d.jsx("i",{className:"fi fi-rr-sun text-xl "}):d.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),u?d.jsxs(d.Fragment,{children:[(n==null?void 0:n.admin)&&d.jsxs(ne,{className:"border-2 border-grey rounded-full px-5 py-0 hidden md:block",to:"/admin",children:[d.jsx("i",{className:"fi fi-rr-lock text-sm pt-2 -ml-2"})," Admin Panel"]}),d.jsx(ne,{to:"/dashboard/notification",className:"hidden md:block",children:d.jsxs("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover",onClick:L,children:[d.jsx("i",{className:"fi fi-rr-bell text-2xl block mt-1"}),c?d.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),d.jsxs("div",{className:"relative hidden md:block",children:[d.jsx("button",{className:"w-12 h-12 ",onClick:_,onBlur:T,children:d.jsx("img",{src:l||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t&&d.jsx(Xy,{})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(ne,{className:"btn-light py-2 hidden md:block",to:"/login",children:"Login"}),d.jsx(ne,{className:"btn-dark py-2 hidden md:block",to:"/signup",children:"SignUp"})]})]}),d.jsxs("div",{ref:g,className:"flex items-center gap-2 md:gap-6 ",children:[d.jsx("button",{className:"md:hidden bg-gray-100 w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>w(D=>!D),children:d.jsx("i",{className:"fi fi-rr-search text-xl"})}),d.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10 dark-hover flex items-center justify-center md:hidden",onClick:P,"aria-label":"Toggle theme",children:i==="dark"?d.jsx("i",{className:"fi fi-rr-sun text-xl "}):d.jsx("i",{className:"fi fi-rr-moon-stars text-xl"})}),u&&d.jsxs(d.Fragment,{children:[d.jsx(ne,{to:"/dashboard/notification",className:"md:hidden",children:d.jsxs("button",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center relative",onClick:L,children:[d.jsx("i",{className:"fi fi-rr-bell text-xl"}),c?d.jsx("span",{className:"bg-red w-3 h-3 rounded-full absolute z-10 top-2 right-2"}):""]})}),d.jsxs("div",{className:"relative md:hidden",onClick:_,onBlur:T,children:[d.jsx("button",{className:"w-6 h-6",children:d.jsx("img",{src:l||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),t?d.jsx(Xy,{}):""]})]}),d.jsx("button",{className:"md:hidden ",onClick:()=>h(!f),children:d.jsx("i",{className:"fi fi-br-menu-burger text-xl "})})]})]}),d.jsx("div",{ref:y,className:"absolute bg-white mt-0.5 left-0 w-full border-b border-grey py-4 px-[5vw] md:block md:border-0 md:relative md:inset-0 md:p-0 md:w-auto md:show "+(b?"block":"hidden")+" md:hidden lg:hidden ",children:d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"flex w-full md:w-[400px] lg:w-[700px] sm:w-[400px] gap-2",children:[d.jsx("input",{type:"text",placeholder:"Search",className:"w-full px-4 py-2 border border-grey-100 rounded-md text-black focus:outline-none",onKeyDown:I,ref:p}),d.jsx("button",{className:"bg-black text-white w-10 h-10 flex items-center justify-center rounded-md border border-grey-100",onClick:()=>{var U;const D=(U=p.current)==null?void 0:U.value.trim();D!=null&&D.length&&j(`/search/${D}`)},tabIndex:0,"aria-label":"Search",type:"button",children:d.jsx("i",{className:"fi fi-rr-search text-xl"})})]})})}),f&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-[9998] md:hidden",onClick:()=>h(!1)}),d.jsx("div",{className:"fixed md:hidden top-16 left-0 right-0 bg-white py-4 px-4 shadow-lg z-[9999] border-4 border-red-500",onClick:D=>D.stopPropagation(),children:d.jsxs("div",{className:"flex flex-col space-y-4",children:[d.jsx(ne,{to:"/",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Home"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ne,{to:"/categories",className:"text-gray-600 navHover flex-1",onClick:()=>{h(!1),m(!1)},children:"Categories"}),d.jsx("button",{className:"text-gray-600 navHover flex items-center text-left ml-2",onClick:()=>m(!v),"aria-label":"Show categories dropdown",children:d.jsx("i",{className:"fi fi-rr-angle-small-down navHover pt-1"})})]}),v&&d.jsx("div",{className:"ml-4 mt-1 bg-white rounded shadow-lg z-50 max-h-60 overflow-y-auto",children:d.jsx("div",{className:"flex flex-col",children:s.map(D=>d.jsx(ne,{to:`/categories/${encodeURIComponent(D)}`,className:"block px-4 py-2 text-gray-700 categoryDropdownHover categoryDropdownItem capitalize border-b border-gray-100 last:border-b-0",onClick:()=>h(!1),children:D},D))})}),d.jsx(ne,{to:"/contact",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Contact"}),d.jsx(ne,{to:"/about",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"About"}),u?d.jsx(d.Fragment,{children:(n==null?void 0:n.admin)&&d.jsxs(ne,{to:"/admin",className:"text-gray-600 navHover",onClick:()=>h(!1),children:[d.jsx("i",{className:"fi fi-rr-lock text-sm pt-2 -ml-2"})," Admin Panel"]})}):d.jsxs(d.Fragment,{children:[d.jsx(ne,{to:"/login",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"Login"}),d.jsx(ne,{to:"/signup",className:"text-gray-600 navHover",onClick:()=>h(!1),children:"SignUp"})]})]})})]})]}),S&&d.jsx("div",{className:"search flex lg:block md:block py-2 bg-white gap-4 ",children:d.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-[5vw] flex items-center gap-2 ",children:d.jsxs("div",{className:"flex w-full md:w-[400px] lg:w-[700px] sm:w-[400px] gap-2",children:[d.jsx("input",{type:"text",placeholder:"Search",className:"w-full px-4 py-2 border border-grey-100 rounded-md text-black focus:outline-none",onKeyDown:I,ref:p}),d.jsx("button",{className:"bg-black text-white w-10 h-10 flex items-center justify-center rounded-md border border-grey-100",onClick:()=>{var U;const D=(U=p.current)==null?void 0:U.value.trim();D!=null&&D.length&&j(`/search/${D}`)},tabIndex:0,"aria-label":"Search",type:"button",children:d.jsx("i",{className:"fi fi-rr-search text-xl"})})]})})}),d.jsx(kw,{}),!(N.pathname==="/login"||N.pathname==="/signup")&&d.jsx(cA,{instagramImages:o,recentComments:x,categories:s})]})},Pn=({name:t,type:e,placeholder:n,value:r,id:o,icon:s,disable:i=!1,onChange:a,readOnly:l=!1,...c})=>{const[u,f]=E.useState(!1),h={name:t,type:e==="password"?u?"text":"password":e,placeholder:n,id:o,disabled:i,readOnly:l,className:"input-box",onChange:a,...e==="password"?{autoComplete:"current-password"}:{},...c};return r!==void 0&&a&&(h.value=r),d.jsxs("div",{className:"relative w-[100%] mb-4",children:[d.jsx("input",{...h}),d.jsx("i",{className:"fi "+s+" input-icon"}),e==="password"?d.jsx("i",{className:"fi fi-rr-eye"+(u?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>f(y=>!y)}):""]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},Ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;l||(y=64,i||(h=64)),r.push(n[u],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const f=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||f==null)throw new fA;const h=s<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(t){const e=Sk(t);return Ck.encodeByteArray(e,!0)},Ek=function(t){return hA(t).replace(/\./g,"")},Tk=function(t){try{return Ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=()=>pA().__FIREBASE_DEFAULTS__,gA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tk(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return mA()||gA()||yA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vA=t=>{var e,n;return(n=(e=Am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_k=()=>{var t;return(t=Am())===null||t===void 0?void 0:t.config},jk=t=>{var e;return(e=Am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function wA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CA(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_A,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?jA(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new io(o,a,r)}}function jA(t,e){return t.replace(NA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const NA=/\{\$([^}]+)}/g;function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(ev(s)&&ev(i)){if(!jc(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ev(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function IA(t,e){const n=new AA(t,e);return n.subscribe.bind(n)}class AA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Fu),o.error===void 0&&(o.error=Fu),o.complete===void 0&&(o.complete=Fu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(t){return t===yo?void 0:t}function RA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const DA={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},FA=Ee.INFO,UA={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},$A=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=UA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nk{constructor(e){this.name=e,this._logLevel=FA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const zA=(t,e)=>e.some(n=>t instanceof n);let tv,nv;function VA(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pk=new WeakMap,Eh=new WeakMap,Ik=new WeakMap,Uu=new WeakMap,Lm=new WeakMap;function WA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(qr(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&Pk.set(n,t)}).catch(()=>{}),Lm.set(e,t),e}function GA(t){if(Eh.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Eh.set(t,e)}let Th={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ik.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qA(t){Th=t(Th)}function KA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($u(this),e,...n);return Ik.set(r,e.sort?e.sort():[e]),qr(r)}:HA().includes(t)?function(...e){return t.apply($u(this),e),qr(Pk.get(this))}:function(...e){return qr(t.apply($u(this),e))}}function YA(t){return typeof t=="function"?KA(t):(t instanceof IDBTransaction&&GA(t),zA(t,VA())?new Proxy(t,Th):t)}function qr(t){if(t instanceof IDBRequest)return WA(t);if(Uu.has(t))return Uu.get(t);const e=YA(t);return e!==t&&(Uu.set(t,e),Lm.set(e,t)),e}const $u=t=>Lm.get(t);function XA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=qr(i);return r&&i.addEventListener("upgradeneeded",l=>{r(qr(i.result),l.oldVersion,l.newVersion,qr(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],zu=new Map;function rv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zu.get(e))return zu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=QA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||JA.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return zu.set(e,s),s}qA(t=>({...t,get:(e,n,r)=>rv(e,n)||t.get(e,n,r),has:(e,n)=>!!rv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _h="@firebase/app",ov="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Nk("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",oL="@firebase/app-check-compat",sL="@firebase/app-check",iL="@firebase/auth",aL="@firebase/auth-compat",lL="@firebase/database",cL="@firebase/data-connect",dL="@firebase/database-compat",uL="@firebase/functions",fL="@firebase/functions-compat",hL="@firebase/installations",pL="@firebase/installations-compat",mL="@firebase/messaging",gL="@firebase/messaging-compat",yL="@firebase/performance",vL="@firebase/performance-compat",bL="@firebase/remote-config",xL="@firebase/remote-config-compat",wL="@firebase/storage",kL="@firebase/storage-compat",SL="@firebase/firestore",CL="@firebase/vertexai-preview",EL="@firebase/firestore-compat",TL="firebase",_L="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",jL={[_h]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[sL]:"fire-app-check",[oL]:"fire-app-check-compat",[iL]:"fire-auth",[aL]:"fire-auth-compat",[lL]:"fire-rtdb",[cL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[uL]:"fire-fn",[fL]:"fire-fn-compat",[hL]:"fire-iid",[pL]:"fire-iid-compat",[mL]:"fire-fcm",[gL]:"fire-fcm-compat",[yL]:"fire-perf",[vL]:"fire-perf-compat",[bL]:"fire-rc",[xL]:"fire-rc-compat",[wL]:"fire-gcs",[kL]:"fire-gcs-compat",[SL]:"fire-fst",[EL]:"fire-fst-compat",[CL]:"fire-vertex","fire-js":"fire-js",[TL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,NL=new Map,Nh=new Map;function sv(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(Nh.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Nh.set(e,t);for(const n of Nc.values())sv(n,t);for(const n of NL.values())sv(n,t);return!0}function Ak(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Pa("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=_L;function Lk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=_k()),!n)throw Kr.create("no-options");const s=Nc.get(o);if(s){if(jc(n,s.options)&&jc(r,s.config))return s;throw Kr.create("duplicate-app",{appName:o})}const i=new MA(o);for(const l of Nh.values())i.addComponent(l);const a=new IL(n,r,i);return Nc.set(o,a),a}function AL(t=jh){const e=Nc.get(t);if(!e&&t===jh&&_k())return Lk();if(!e)throw Kr.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let o=(r=jL[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}pa(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="firebase-heartbeat-database",BL=1,ma="firebase-heartbeat-store";let Vu=null;function Bk(){return Vu||(Vu=XA(LL,BL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Vu}async function OL(t){try{const n=(await Bk()).transaction(ma),r=await n.objectStore(ma).get(Ok(t));return await n.done,r}catch(e){if(e instanceof io)fr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function iv(t,e){try{const r=(await Bk()).transaction(ma,"readwrite");await r.objectStore(ma).put(e,Ok(t)),await r.done}catch(n){if(n instanceof io)fr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function Ok(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=1024,ML=30*24*60*60*1e3;class DL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=av();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=ML}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=av(),{heartbeatsToSend:r,unsentEntries:o}=FL(this._heartbeatsCache.heartbeats),s=Ek(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fr.warn(n),""}}}function av(){return new Date().toISOString().substring(0,10)}function FL(t,e=RL){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),lv(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lv(t){return Ek(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){pa(new Us("platform-logger",e=>new ZA(e),"PRIVATE")),pa(new Us("heartbeat",e=>new DL(e),"PRIVATE")),Ts(_h,ov,t),Ts(_h,ov,"esm2017"),Ts("fire-js","")}$L("");var zL="firebase",VL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(zL,VL,"app");function Bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HL=Rk,Mk=new Pa("auth","Firebase",Rk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Nk("@firebase/auth");function WL(t,...e){Pc.logLevel<=Ee.WARN&&Pc.warn(`Auth (${Aa}): ${t}`,...e)}function Bl(t,...e){Pc.logLevel<=Ee.ERROR&&Pc.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw Rm(t,...e)}function vn(t,...e){return Rm(t,...e)}function Om(t,e,n){const r=Object.assign(Object.assign({},HL()),{[e]:n});return new Pa("auth","Firebase",r).create(e,{appName:t.name})}function jo(t){return Om(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(t,"argument-error"),Om(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mk.create(t,...e)}function oe(t,e,...n){if(!t)throw Rm(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function hr(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qL(){return cv()==="http:"||cv()==="https:"}function cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qL()||kA()||"connection"in navigator)?navigator.onLine:!0}function YL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=xA()||SA()}get(){return KL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new La(3e4,6e4);function Dm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qs(t,e,n,r,o={}){return Fk(t,o,async()=>{let s={},i={};r&&(e==="GET"?i=r:s={body:JSON.stringify(r)});const a=Ia(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return wA()||(c.referrerPolicy="no-referrer"),Dk.fetch()(Uk(t,t.config.apiHost,n,a),c)})}async function Fk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XL),e);try{const o=new ZL(t),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ll(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const a=s.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ll(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw ll(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw ll(t,"user-disabled",i);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Om(t,u,c);Dn(t,u)}}catch(o){if(o instanceof io)throw o;Dn(t,"network-request-failed",{message:String(o)})}}async function QL(t,e,n,r,o={}){const s=await Qs(t,e,n,r,o);return"mfaPendingCredential"in s&&Dn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Uk(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?Mm(t.config,o):`${t.config.apiScheme}://${o}`}class ZL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),JL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=vn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function $k(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t5(t,e=!1){const n=Js(t),r=await n.getIdToken(e),o=Fm(r);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Di(Hu(o.auth_time)),issuedAtTime:Di(Hu(o.iat)),expirationTime:Di(Hu(o.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hu(t){return Number(t)*1e3}function Fm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bl("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tk(n);return o?JSON.parse(o):(Bl("Failed to decode base64 JWT payload"),null)}catch(o){return Bl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function dv(t){const e=Fm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof io&&n5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){var e;const n=t.auth,r=await t.getIdToken(),o=await ga(t,$k(n,{idToken:r}));oe(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];t._notifyReloadListener(s);const i=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zk(s.providerUserInfo):[],a=s5(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ih(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function o5(t){const e=Js(t);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s5(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function zk(t){return t.map(e=>{var{providerId:n}=e,r=Bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){const n=await Fk(t,{},async()=>{const r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,i=Uk(t,o,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dk.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a5(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Dm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await i5(e,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,i=new _s;return r&&(oe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),i.accessToken=o),s&&(oe(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _s,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,s=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ih(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ga(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t5(this,e)}reload(){return o5(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await ga(this,e5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,s,i,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(i=n.photoURL)!==null&&i!==void 0?i:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:p,emailVerified:x,isAnonymous:k,providerData:N,stsTokenManager:j}=n;oe(p&&j,e,"internal-error");const C=_s.fromJSON(this.name,j);oe(typeof p=="string",e,"internal-error"),br(f,e.name),br(h,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof k=="boolean",e,"internal-error"),br(y,e.name),br(g,e.name),br(b,e.name),br(w,e.name),br(v,e.name),br(m,e.name);const S=new Jn({uid:p,auth:e,email:h,emailVerified:x,displayName:f,isAnonymous:k,photoURL:g,phoneNumber:y,tenantId:b,stsTokenManager:C,createdAt:v,lastLoginAt:m});return N&&Array.isArray(N)&&(S.providerData=N.map(_=>Object.assign({},_))),w&&(S._redirectEventId=w),S}static async _fromIdTokenResponse(e,n,r=!1){const o=new _s;o.updateFromServerResponse(n);const s=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ic(s),s}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?zk(o.providerUserInfo):[],i=!(o.email&&o.passwordHash)&&!(s!=null&&s.length),a=new _s;a.updateFromIdToken(r);const l=new Jn({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ih(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;function Qn(t){hr(t instanceof Function,"Expected a class definition");let e=uv.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vk.type="NONE";const fv=Vk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=Ol(this.userKey,o.apiKey,s),this.fullPersistenceKey=Ol("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(Qn(fv),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=o[0]||Qn(fv);const i=Ol(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(i);if(u){const f=Jn._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new js(s,e,r):(s=l[0],a&&await s._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(i)}catch{}})),new js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yk(e))return"Blackberry";if(Xk(e))return"Webos";if(Wk(e))return"Safari";if((e.includes("chrome/")||Gk(e))&&!e.includes("edge/"))return"Chrome";if(Kk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hk(t=Tt()){return/firefox\//i.test(t)}function Wk(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gk(t=Tt()){return/crios\//i.test(t)}function qk(t=Tt()){return/iemobile/i.test(t)}function Kk(t=Tt()){return/android/i.test(t)}function Yk(t=Tt()){return/blackberry/i.test(t)}function Xk(t=Tt()){return/webos/i.test(t)}function Um(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l5(t=Tt()){var e;return Um(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c5(){return CA()&&document.documentMode===10}function Jk(t=Tt()){return Um(t)||Kk(t)||Xk(t)||Yk(t)||/windows phone/i.test(t)||qk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t,e=[]){let n;switch(t){case"Browser":n=hv(Tt());break;case"Worker":n=`${hv(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((i,a)=>{try{const l=e(s);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Dm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=6;class h5{constructor(e){var n,r,o,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:f5,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,s,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new d5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $k(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(o=l.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(i){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(jo(this));const n=e?Js(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u5(this),n=new h5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _d(t){return Js(t)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m5(t){$m=t}function g5(t){return $m.loadJS(t)}function y5(){return $m.gapiScript}function v5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e){const n=Ak(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(jc(s,e??{}))return o;Dn(o,"already-initialized")}return n.initialize({options:e})}function x5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w5(t,e,n){const r=_d(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=Zk(e),{host:i,port:a}=k5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||S5()}function Zk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k5(t){const e=Zk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:mv(r.substr(s.length+1))}}else{const[s,i]=r.split(":");return{host:s,port:mv(i)}}}function mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e){return QL(t,"POST","/v1/accounts:signInWithIdp",Dm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="http://localhost";class Mo extends eS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,s=Bm(n,["providerId","signInMethod"]);if(!r||!o)return null;const i=new Mo(r,o);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ns(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ns(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ns(e,n)}buildRequest(){const e={requestUri:C5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ia(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ba{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return In.credential(n,r)}catch{return null}}}In.GOOGLE_SIGN_IN_METHOD="google.com";In.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ba{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ba{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const s=await Jn._fromIdTokenResponse(e,r,o),i=gv(r);return new $s({user:s,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=gv(r);return new $s({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function gv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends io{constructor(e,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ac(e,n,r,o)}}function tS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(t,s,e,r):s})}async function E5(t,e,n=!1){const r=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(jo(r));const o="reauthenticate";try{const s=await ga(t,tS(r,o,e,t),n);oe(s.idToken,r,"internal-error");const i=Fm(s.idToken);oe(i,r,"internal-error");const{sub:a}=i;return oe(t.uid===a,r,"user-mismatch"),$s._forOperation(t,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e,n=!1){if(Yn(t.app))return Promise.reject(jo(t));const r="signIn",o=await tS(t,r,e),s=await $s._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(s.user),s}function j5(t,e,n,r){return Js(t).onIdTokenChanged(e,n,r)}function N5(t,e,n){return Js(t).beforeAuthStateChanged(e,n)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=1e3,I5=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},s=this.storage.getItem(r);c5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,I5):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const A5=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oS.type="SESSION";const sS=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:s}=n.data,i=this.handlersMap[o];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(i).map(async c=>c(n.origin,s)),l=await L5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,i;return new Promise((a,l)=>{const c=Vm("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function O5(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function R5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D5(){return iS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",F5=1,Bc="firebaseLocalStorage",lS="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(t,e){return t.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function U5(){const t=indexedDB.deleteDatabase(aS);return new Oa(t).toPromise()}function Ah(){const t=indexedDB.open(aS,F5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bc,{keyPath:lS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await U5(),e(await Ah()))})})}async function yv(t,e,n){const r=Nd(t,!0).put({[lS]:e,value:n});return new Oa(r).toPromise()}async function $5(t,e){const n=Nd(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function vv(t,e){const n=Nd(t,!0).delete(e);return new Oa(n).toPromise()}const z5=800,V5=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ah(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(D5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R5(),!this.activeServiceWorker)return;this.sender=new B5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ah();return await yv(e,Lc,"1"),await vv(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=Nd(o,!1).getAll();return new Oa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const H5=cS;new La(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){return e?Qn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends eS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W5(t){return _5(t.auth,new Hm(t),t.bypassAuthState)}function G5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),T5(n,new Hm(t),t.bypassAuthState)}async function q5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),E5(n,new Hm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,o,s=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W5;case"linkViaPopup":case"linkViaRedirect":return q5;case"reauthViaPopup":case"reauthViaRedirect":return G5;default:Dn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new La(2e3,1e4);async function Y5(t,e,n){if(Yn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const r=_d(t);GL(t,e,zm);const o=dS(r,n);return new Eo(r,"signInViaPopup",e,o).executeNotNull()}class Eo extends uS{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K5.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="pendingRedirect",Rl=new Map;class J5 extends uS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rl.get(this.auth._key());if(!e){try{const r=await Q5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rl.set(this.auth._key(),e)}return this.bypassAuthState||Rl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q5(t,e){const n=tB(e),r=eB(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function Z5(t,e){Rl.set(t._key(),e)}function eB(t){return Qn(t._redirectPersistence)}function tB(t){return Ol(X5,t.config.apiKey,t.name)}async function nB(t,e,n=!1){if(Yn(t.app))return Promise.reject(jo(t));const r=_d(t),o=dS(r,e),i=await new J5(r,o,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=10*60*1e3;class oB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fS(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rB&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lB=/^https?/;async function cB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iB(t);for(const n of e)try{if(dB(n))return}catch{}Dn(t,"unauthorized-domain")}function dB(t){const e=Ph(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!lB.test(n))return!1;if(aB.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new La(3e4,6e4);function xv(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fB(t){return new Promise((e,n)=>{var r,o,s;function i(){xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xv(),n(vn(t,"network-request-failed"))},timeout:uB.get()})}if(!((o=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=Rn().gapi)===null||s===void 0)&&s.load)i();else{const a=v5("iframefcb");return Rn()[a]=()=>{gapi.load?i():n(vn(t,"network-request-failed"))},g5(`${y5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ml=null,e})}let Ml=null;function hB(t){return Ml=Ml||fB(t),Ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new La(5e3,15e3),mB="__/auth/iframe",gB="emulator/auth/iframe",yB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bB(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mm(e,gB):`https://${t.config.authDomain}/${mB}`,r={apiKey:e.apiKey,appName:t.name,v:Aa},o=vB.get(t.config.apiHost);o&&(r.eid=o);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ia(r).slice(1)}`}async function xB(t){const e=await hB(t),n=Rn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:bB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yB,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const i=vn(t,"network-request-failed"),a=Rn().setTimeout(()=>{s(i)},pB.get());function l(){Rn().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,SB=600,CB="_blank",EB="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TB(t,e,n,r=kB,o=SB){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wB),{width:r.toString(),height:o.toString(),top:s,left:i}),c=Tt().toLowerCase();n&&(a=Gk(c)?CB:n),Hk(c)&&(e=e||EB,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[y,g])=>`${h}${y}=${g},`,"");if(l5(c)&&a!=="_self")return _B(e||"",a),new wv(null);const f=window.open(e||"",a,u);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new wv(f)}function _B(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="__/auth/handler",NB="emulator/auth/handler",PB=encodeURIComponent("fac");async function kv(t,e,n,r,o,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Aa,eventId:o};if(e instanceof zm){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",PA(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))i[u]=f}if(e instanceof Ba){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(i.scopes=u.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${PB}=${encodeURIComponent(l)}`:"";return`${IB(t)}?${Ia(a).slice(1)}${c}`}function IB({config:t}){return t.emulator?Mm(t,NB):`https://${t.authDomain}/${jB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="webStorageSupport";class AB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=nB,this._overrideRedirectResult=Z5}async _openPopup(e,n,r,o){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await kv(e,n,r,Ph(),o);return TB(e,i,Vm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const s=await kv(e,n,r,Ph(),o);return O5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xB(e),r=new oB(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wu,{type:Wu},o=>{var s;const i=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[Wu];i!==void 0&&n(!!i),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jk()||Wk()||Um()}}const LB=AB;var Sv="@firebase/auth",Cv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RB(t){pa(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;oe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qk(t)},c=new p5(r,o,s,l);return x5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pa(new Us("auth-internal",e=>{const n=_d(e.getProvider("auth").getImmediate());return(r=>new BB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(Sv,Cv,OB(t)),Ts(Sv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=5*60,DB=jk("authIdTokenMaxAge")||MB;let Ev=null;const FB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DB)return;const o=n==null?void 0:n.token;Ev!==o&&(Ev=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UB(t=AL()){const e=Ak(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b5(t,{popupRedirectResolver:LB,persistence:[H5,A5,sS]}),r=jk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const i=FB(s.toString());N5(n,i,()=>i(n.currentUser)),j5(n,a=>i(a))}}const o=vA("auth");return o&&w5(n,`http://${o}`),n}function $B(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const s=vn("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",$B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RB("Browser");const zB={apiKey:"AIzaSyBpjxw01SgiPCe1t2QzZgtaYJG0euhmUXo",authDomain:"islamic-stories-website.firebaseapp.com",projectId:"islamic-stories-website",storageBucket:"islamic-stories-website.firebasestorage.app",messagingSenderId:"491374615407",appId:"1:491374615407:web:73474c703a2dff3394269a"};Lk(zB);const VB=new In,HB=UB(),WB=()=>Y5(HB,VB).then(t=>({idToken:In.credentialFromResult(t).idToken,user:t.user}));var hS={exports:{}},GB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qB=GB,KB=qB;function pS(){}function mS(){}mS.resetWarningCache=pS;var YB=function(){function t(r,o,s,i,a,l){if(l!==KB){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mS,resetWarningCache:pS};return n.PropTypes=n,n};hS.exports=YB();var XB=hS.exports;const Pt=Fn(XB);var JB=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function QB(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bh(t,e)}function Bh(t,e){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Bh(t,e)}var Pd=function(t){ZB(e,t);function e(){var r;return r=t.call(this)||this,r.handleExpired=r.handleExpired.bind(cl(r)),r.handleErrored=r.handleErrored.bind(cl(r)),r.handleChange=r.handleChange.bind(cl(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(cl(r)),r}var n=e.prototype;return n.getCaptchaFunction=function(o){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[o]:this.props.grecaptcha[o]:null},n.getValue=function(){var o=this.getCaptchaFunction("getResponse");return o&&this._widgetId!==void 0?o(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var o=this.getCaptchaFunction("execute");if(o&&this._widgetId!==void 0)return o(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var o=this;return new Promise(function(s,i){o.executionResolve=s,o.executionReject=i,o.execute()})},n.reset=function(){var o=this.getCaptchaFunction("reset");o&&this._widgetId!==void 0&&o(this._widgetId)},n.forceReset=function(){var o=this.getCaptchaFunction("reset");o&&o()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(o){this.props.onChange&&this.props.onChange(o),this.executionResolve&&(this.executionResolve(o),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var o=this.getCaptchaFunction("render");if(o&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=o(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(o){this.captcha=o},n.render=function(){var o=this.props;o.sitekey,o.onChange,o.theme,o.type,o.tabindex,o.onExpired,o.onErrored,o.size,o.stoken,o.grecaptcha,o.badge,o.hl,o.isolated;var s=QB(o,JB);return E.createElement("div",Lh({},s,{ref:this.handleRecaptchaRef}))},e}(E.Component);Pd.displayName="ReCAPTCHA";Pd.propTypes={sitekey:Pt.string.isRequired,onChange:Pt.func,grecaptcha:Pt.object,theme:Pt.oneOf(["dark","light"]),type:Pt.oneOf(["image","audio"]),tabindex:Pt.number,onExpired:Pt.func,onErrored:Pt.func,size:Pt.oneOf(["compact","normal","invisible"]),stoken:Pt.string,hl:Pt.string,badge:Pt.oneOf(["bottomright","bottomleft","inline"]),isolated:Pt.bool};Pd.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var gS={exports:{}},Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=typeof Symbol=="function"&&Symbol.for,Wm=it?Symbol.for("react.element"):60103,Gm=it?Symbol.for("react.portal"):60106,Id=it?Symbol.for("react.fragment"):60107,Ad=it?Symbol.for("react.strict_mode"):60108,Ld=it?Symbol.for("react.profiler"):60114,Bd=it?Symbol.for("react.provider"):60109,Od=it?Symbol.for("react.context"):60110,qm=it?Symbol.for("react.async_mode"):60111,Rd=it?Symbol.for("react.concurrent_mode"):60111,Md=it?Symbol.for("react.forward_ref"):60112,Dd=it?Symbol.for("react.suspense"):60113,eO=it?Symbol.for("react.suspense_list"):60120,Fd=it?Symbol.for("react.memo"):60115,Ud=it?Symbol.for("react.lazy"):60116,tO=it?Symbol.for("react.block"):60121,nO=it?Symbol.for("react.fundamental"):60117,rO=it?Symbol.for("react.responder"):60118,oO=it?Symbol.for("react.scope"):60119;function Jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wm:switch(t=t.type,t){case qm:case Rd:case Id:case Ld:case Ad:case Dd:return t;default:switch(t=t&&t.$$typeof,t){case Od:case Md:case Ud:case Fd:case Bd:return t;default:return e}}case Gm:return e}}}function yS(t){return Jt(t)===Rd}Ce.AsyncMode=qm;Ce.ConcurrentMode=Rd;Ce.ContextConsumer=Od;Ce.ContextProvider=Bd;Ce.Element=Wm;Ce.ForwardRef=Md;Ce.Fragment=Id;Ce.Lazy=Ud;Ce.Memo=Fd;Ce.Portal=Gm;Ce.Profiler=Ld;Ce.StrictMode=Ad;Ce.Suspense=Dd;Ce.isAsyncMode=function(t){return yS(t)||Jt(t)===qm};Ce.isConcurrentMode=yS;Ce.isContextConsumer=function(t){return Jt(t)===Od};Ce.isContextProvider=function(t){return Jt(t)===Bd};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wm};Ce.isForwardRef=function(t){return Jt(t)===Md};Ce.isFragment=function(t){return Jt(t)===Id};Ce.isLazy=function(t){return Jt(t)===Ud};Ce.isMemo=function(t){return Jt(t)===Fd};Ce.isPortal=function(t){return Jt(t)===Gm};Ce.isProfiler=function(t){return Jt(t)===Ld};Ce.isStrictMode=function(t){return Jt(t)===Ad};Ce.isSuspense=function(t){return Jt(t)===Dd};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Id||t===Rd||t===Ld||t===Ad||t===Dd||t===eO||typeof t=="object"&&t!==null&&(t.$$typeof===Ud||t.$$typeof===Fd||t.$$typeof===Bd||t.$$typeof===Od||t.$$typeof===Md||t.$$typeof===nO||t.$$typeof===rO||t.$$typeof===oO||t.$$typeof===tO)};Ce.typeOf=Jt;gS.exports=Ce;var sO=gS.exports,Km=sO,iO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ym={};Ym[Km.ForwardRef]=lO;Ym[Km.Memo]=vS;function Tv(t){return Km.isMemo(t)?vS:Ym[t.$$typeof]||iO}var cO=Object.defineProperty,dO=Object.getOwnPropertyNames,_v=Object.getOwnPropertySymbols,uO=Object.getOwnPropertyDescriptor,fO=Object.getPrototypeOf,jv=Object.prototype;function bS(t,e,n){if(typeof e!="string"){if(jv){var r=fO(e);r&&r!==jv&&bS(t,r,n)}var o=dO(e);_v&&(o=o.concat(_v(e)));for(var s=Tv(t),i=Tv(e),a=0;a<o.length;++a){var l=o[a];if(!aO[l]&&!(n&&n[l])&&!(i&&i[l])&&!(s&&s[l])){var c=uO(e,l);try{cO(t,l,c)}catch{}}}}return t}var hO=bS;const pO=Fn(hO);function Oh(){return Oh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}function mO(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function gO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var cn={},yO=0;function vO(t,e){return e=e||{},function(r){var o=r.displayName||r.name||"Component",s=function(a){gO(l,a);function l(u,f){var h;return h=a.call(this,u,f)||this,h.state={},h.__scriptURL="",h}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+yO++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(f){var h=this;this.setState(f,function(){return h.props.asyncScriptOnLoad&&h.props.asyncScriptOnLoad(h.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=cn[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var h in f.observers)f.observers[h](f);delete window[e.callbackName]},c.componentDidMount=function(){var f=this,h=this.setupScriptURL(),y=this.asyncScriptLoaderGetScriptLoaderID(),g=e,b=g.globalName,w=g.callbackName,v=g.scriptId;if(b&&typeof window[b]<"u"&&(cn[h]={loaded:!0,observers:{}}),cn[h]){var m=cn[h];if(m&&(m.loaded||m.errored)){this.asyncScriptLoaderHandleLoad(m);return}m.observers[y]=function(j){return f.asyncScriptLoaderHandleLoad(j)};return}var p={};p[y]=function(j){return f.asyncScriptLoaderHandleLoad(j)},cn[h]={loaded:!1,observers:p};var x=document.createElement("script");x.src=h,x.async=!0;for(var k in e.attributes)x.setAttribute(k,e.attributes[k]);v&&(x.id=v);var N=function(C){if(cn[h]){var S=cn[h],_=S.observers;for(var T in _)C(_[T])&&delete _[T]}};w&&typeof window<"u"&&(window[w]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),x.onload=function(){var j=cn[h];j&&(j.loaded=!0,N(function(C){return w?!1:(C(j),!0)}))},x.onerror=function(){var j=cn[h];j&&(j.errored=!0,N(function(C){return C(j),!0}))},document.body.appendChild(x)},c.componentWillUnmount=function(){var f=this.__scriptURL;if(e.removeOnUnmount===!0)for(var h=document.getElementsByTagName("script"),y=0;y<h.length;y+=1)h[y].src.indexOf(f)>-1&&h[y].parentNode&&h[y].parentNode.removeChild(h[y]);var g=cn[f];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete cn[f])},c.render=function(){var f=e.globalName,h=this.props;h.asyncScriptOnLoad;var y=h.forwardedRef,g=mO(h,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(g[f]=typeof window[f]<"u"?window[f]:void 0),g.ref=y,E.createElement(r,g)},l}(E.Component),i=E.forwardRef(function(a,l){return E.createElement(s,Oh({},a,{forwardedRef:l}))});return i.displayName="AsyncScriptLoader("+o+")",i.propTypes={asyncScriptOnLoad:Pt.func},pO(i,r)}}var Rh="onloadcallback",bO="grecaptcha";function Mh(){return typeof window<"u"&&window.recaptchaOptions||{}}function xO(){var t=Mh(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+Rh+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+Rh+"&render=explicit"}const wO=vO(xO,{callbackName:Rh,globalName:bO,attributes:Mh().nonce?{nonce:Mh().nonce}:{}})(Pd),Gu=({type:t})=>{let{userAuth:e,setUserAuth:n}=E.useContext(ve);const r=Xt(),o=gr(),[s,i]=E.useState(!1),[a,l]=E.useState(""),[c,u]=E.useState(""),[f,h]=E.useState(""),g=new URLSearchParams(o.search).get("next");E.useEffect(()=>{e&&e.username&&(g==="/admin"?e.admin?r("/admin",{replace:!0}):(H.error("You do not have admin access."),r("/",{replace:!0})):g?r(g,{replace:!0}):r("/",{replace:!0}))},[e,g]),E.useEffect(()=>{Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/csrf-token",{withCredentials:!0})},[]);const b=async(x,k)=>{var N,j,C,S,_,T,I;try{console.log("Sending request to:","https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+x);const P=ha.getCSRFToken(),L=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+x,k,{withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",...P?{"X-CSRF-Token":P}:{}}}),{data:A}=L;x==="/signup"?(u("Signup successful! Please check your email to verify your account."),i(!0),l(k.email)):(x==="/login"||x==="/google-auth")&&(A.csrfToken&&ha.setCSRFToken(A.csrfToken),x==="/login"?H.success("Login successful!"):H.success("Google authentication successful!"),n(A.user),localStorage.setItem("userAuth",JSON.stringify(A.user)))}catch(P){let L="Login failed. Please try again.";if((j=(N=P==null?void 0:P.response)==null?void 0:N.data)!=null&&j.error?L=P.response.data.error:P!=null&&P.message?L=P.message:typeof P=="string"&&(L=P),L.includes("CSRF token validation failed")&&(L="Security validation failed. Please refresh the page and try again."),(L.includes("verify your email")||L.includes("Failed to send verification email"))&&(i(!0),l(k.email)),L==="Email not found"?H.error("No account found with this email. Please sign up first."):((C=P==null?void 0:P.response)==null?void 0:C.status)===403&&L.includes("signed up without Google")?H.error("This email was registered with a password. Please log in using your email and password instead, or use a different Google account."):H.error(L),console.error("Full error object:",P),P!=null&&P.response&&console.error("Error response data:",P.response.data),((S=P==null?void 0:P.response)==null?void 0:S.status)===409&&((I=(T=(_=P==null?void 0:P.response)==null?void 0:_.data)==null?void 0:T.error)!=null&&I.toLowerCase().includes("verified"))){H.error("This email is already registered but not yet verified. A new verification email has been sent. Please check your inbox (and spam folder)."),i(!0),l(k.email),u("A new verification email has been sent to your address.");return}}},w=x=>{x.preventDefault();let k=t==="login"?"/login":"/signup",N=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,j=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,128}$/,C=document.getElementById("formElement");if(!C){console.error("Form element is not found");return}let S=new FormData(C),_={};for(let[B,M]of S.entries())_[B]=M;let{firstname:T,lastname:I,email:P,password:L,confirmPassword:A}=_;if(t!=="login"){if(!T||T.length<1)return H.error("First name must be at least 1 letter long");if(!I||I.length<1)return H.error("Last name must be at least 1 letter long");if((T+" "+I).trim().length<3)return H.error("Fullname must be at least 3 letters long");if(!A||L!==A)return H.error("Passwords do not match");if(!f)return H.error("Please complete the CAPTCHA to continue.")}if(!P.length)return H.error("Enter Email");if(!N.test(P))return H.error("Email is invalid");if(!j.test(L))return H.error("Password should be 8 to 128 characters long and must include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*)");t!=="login"&&(_.recaptchaToken=f),b(k,_)},v=x=>{x.preventDefault(),WB().then(({idToken:k})=>{b("/google-auth",{id_token:k})}).catch(k=>(H.error("trouble login through google"),console.log(k)))},m=async x=>{var k,N;if(x.preventDefault(),!a){H.error("Enter your email to resend verification.");return}try{const j=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/resend-verification",{email:a},{withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});H.success(j.data.message||"Verification email resent. Please check your inbox.")}catch(j){const C=((N=(k=j==null?void 0:j.response)==null?void 0:k.data)==null?void 0:N.error)||"Failed to resend verification email.";H.error(C)}},p=x=>{h(x)};return d.jsx(Ge,{keyValue:t,children:d.jsxs("section",{className:"h-cover flex items-center justify-center px-2 sm:px-0",children:[d.jsx($n,{}),d.jsxs("form",{id:"formElement",className:"w-full max-w-[400px] bg-white rounded-lg shadow-md p-4 sm:p-8 flex flex-col",onSubmit:w,children:[d.jsx("h1",{className:"text-2xl sm:text-4xl font-gelasio capitalize text-center mb-10 sm:mb-24 w-full",children:t==="login"?"Welcome back":"Join us today"}),c&&d.jsx("div",{className:"mb-4 text-green-700 text-center text-sm sm:text-base w-full",children:c}),d.jsxs("div",{className:"w-full flex flex-col items-center",children:[t!=="login"?d.jsxs(d.Fragment,{children:[d.jsx(Pn,{name:"firstname",type:"text",placeholder:"First Name",icon:"fi-rr-user"}),d.jsx(Pn,{name:"lastname",type:"text",placeholder:"Last Name",icon:"fi-rr-user"})]}):"",d.jsx(Pn,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope",autoComplete:"username",onChange:x=>l(x.target.value)}),d.jsx(Pn,{name:"password",type:"password",placeholder:"Password",icon:"fi-rr-key"}),t!=="login"&&d.jsxs(d.Fragment,{children:[d.jsx(wO,{sitekey:"6LfsO30rAAAAAAREwy-1Z01ER7XjvMbnrY5D2dM6",onChange:p,className:"mb-4"}),d.jsx(Pn,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",icon:"fi-rr-key"})]})]}),d.jsx("button",{className:"btn-dark w-full mt-8 sm:mt-14 text-base sm:text-sm py-3 sm:py-3",type:"submit",children:t==="signup"?"Sign Up":"Login"}),s&&d.jsx("button",{className:"btn-dark w-full mt-4",onClick:m,type:"button",children:"Resend verification email"}),d.jsxs("div",{className:"relative w-full flex items-center gap-2 my-6 sm:my-10 opacity-10 uppercase text-black font-bold text-xs sm:text-base",children:[d.jsx("hr",{className:"w-1/2 border-black"}),d.jsx("p",{children:"or"}),d.jsx("hr",{className:"w-1/2 border-black "})]}),d.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-full text-base sm:text-sm py-3 sm:py-3",onClick:v,children:[d.jsx("img",{src:xk,className:"w-5"}),"Continue with google"]}),t==="login"?d.jsxs("p",{className:"mt-6 text-dark-grey text-base sm:text-xl text-center w-full",children:["Don't have an account?",d.jsx(ne,{to:g?`/signup?next=${encodeURIComponent(g)}`:"/signup",className:"underline text-black text-base sm:text-xl ml-1",children:"Join us today"})]}):d.jsxs("p",{className:"mt-6 text-dark-grey text-base sm:text-xl text-center w-full",children:["Already a member?",d.jsx(ne,{to:g?`/login?next=${encodeURIComponent(g)}`:"/login",className:"underline text-black text-base sm:text-xl ml-1",children:"Sign in here."})]})]})]})})},xS=t=>sessionStorage.getItem(t);var kO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qu(){}Object.assign(qu,{default:qu,register:qu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,i=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=s&&!i;(s||i)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(s||i||a||l)&&!t&&this.scrollIntoView(c)});let SO=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var wS=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(wS||{});const se={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},CO={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ra(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const s=["info","log","warn","error"].includes(n),i=[];switch(Ra.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!s||t)return;break}r&&i.push(r);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(s?(i.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{s?r?console[n](`${e} %o`,...i):console[n](e,...i):console[n](e)}catch{}}Ra.logLevel="VERBOSE";function EO(t){Ra.logLevel=t}const he=Ra.bind(window,!1),hn=Ra.bind(window,!0);function Do(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Le(t){return Do(t)==="function"||Do(t)==="asyncfunction"}function ut(t){return Do(t)==="object"}function Zr(t){return Do(t)==="string"}function TO(t){return Do(t)==="boolean"}function Nv(t){return Do(t)==="number"}function Pv(t){return Do(t)==="undefined"}function xn(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function kS(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function SS(t,e=()=>{},n=()=>{}){async function r(o,s,i){try{await o.function(o.data),await s(Pv(o.data)?{}:o.data)}catch{i(Pv(o.data)?{}:o.data)}}return t.reduce(async(o,s)=>(await o,r(s,e,n)),Promise.resolve())}function CS(t){return Array.prototype.slice.call(t)}function Fo(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function _O(t){return t.name.split(".").pop()}function jO(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function NO(t,e,n){let r;return(...o)=>{const s=this,i=()=>{r=null,n||t.apply(s,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(i,e),a&&t.apply(s,o)}}function Dh(t,e,n=void 0){let r,o,s,i=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),i=null,s=t.apply(r,o),i||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=c,s=t.apply(r,o),i||(r=o=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,u)),s}}function PO(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Oc(t){return t[0].toUpperCase()+t.slice(1)}function Fh(t,...e){if(!e.length)return t;const n=e.shift();if(ut(t)&&ut(n))for(const r in n)ut(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Fh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Fh(t,...e)}function ES(t){const e=PO();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function IO(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function AO(){return SO(10)}function LO(t){window.open(t,"_blank")}function BO(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Uh(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&hn(r,"warn")}function Zs(t,e,n){const r=n.value?"value":"get",o=n[r],s=`#${e}Cache`;if(n[r]=function(...i){return this[s]===void 0&&(this[s]=o.apply(this,...i)),this[s]},r==="get"&&n.set){const i=n.set;n.set=function(a){delete t[s],i.apply(this,a)}}return n}const TS=650;function No(){return window.matchMedia(`(max-width: ${TS}px)`).matches}const Iv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function OO(t,e){const n=Array.isArray(t)||ut(t),r=Array.isArray(e)||ut(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}class ${static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(o[s]=r[s]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return CS(e.querySelectorAll($.allInputsSelector)).reduce((n,r)=>$.isNativeInput(r)||$.containsOnlyInlineElements(r)?[...n,r]:[...n,...$.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let s=e[r];if($.isSingleTag(s)&&!$.isNativeInput(s)&&!$.isLineBreakTag(s))if(s[o])s=s[o];else if(s.parentNode[o])s=s.parentNode[o];else return s.parentNode;return this.getDeepestNode(s,n)}return e}static isElement(e){return Nv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Nv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if($.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=$.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("​",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=$.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return $.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Zr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!$.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return $.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...$.getDeepestBlockElements(r)],[])}static getHolder(e){return Zr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,s=n.top+o,i=n.left+r;return{top:s,left:i,bottom:s+n.height,right:i+n.width}}}const RO={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},MO={Text:"",Link:"",Bold:"",Italic:""},DO={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},FO={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},_S={ui:RO,toolNames:MO,tools:DO,blockTunes:FO},es=class{static ui(t,e){return es._t(t,e)}static t(t,e){return es._t(t,e)}static setDictionary(t){es.currentDictionary=t}static _t(t,e){const n=es.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],es.currentDictionary)}};let Lt=es;Lt.currentDictionary=_S;let jS=class extends Error{};class zd{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const s=n(o),i=this.subscribers[e].indexOf(r);return i!==-1&&this.subscribers[e].splice(i,1),s};this.subscribers[e].push(r)}emit(e,n){xn(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const s=o(r);return s!==void 0?s:r},n)}off(e,n){for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers=null}}function Fi(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class Xm{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const s=BO("l"),i={id:s,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(i),e.addEventListener(n,r,o),s}off(e,n,r,o){const s=this.findAll(e,n,r);s.forEach((i,a)=>{const l=this.allListeners.indexOf(s[a]);l>-1&&(this.allListeners.splice(l,1),i.element.removeEventListener(i.eventType,i.handler,i.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const s=e?this.findByEventTarget(e):[];return e&&n&&r?o=s.filter(i=>i.eventType===n&&i.handler===r):e&&n?o=s.filter(i=>i.eventType===n):o=s,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class me{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Xm,this.readOnlyMutableListeners={on:(r,o,s,i=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,s,i))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===me)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class Q{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?$.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Q.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Q.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Q.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Q.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return he("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return he("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const s=o.parentNode;s.removeChild(o),s.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return $.isNativeInput(e)?$.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=Q.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=Q.range;if(e===null)return;const n=$.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return $.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=$.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Q.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let s=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(i=>{let a=r;for(;a>0&&i.parentNode&&!(i.tagName===e&&(s=i,n&&i.classList&&!i.classList.contains(n)&&(s=null),s));)i=i.parentNode,a--}),s)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function UO(t,e){const{type:n,target:r,addedNodes:o,removedNodes:s}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const i=Array.from(o).some(l=>e.contains(l)),a=Array.from(s).some(l=>e.contains(l));return i||a}const $h="redactor dom changed",NS="block changed",PS="fake cursor is about to be toggled",IS="fake cursor have been set";var Ir=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Ir||{});let Zn=class Tn extends zd{constructor({id:e=AO(),data:n,tool:r,api:o,readOnly:s,tunesData:i},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let f;c||u?f=!0:f=!(l.length>0&&l.every(h=>{const{addedNodes:y,removedNodes:g,target:b}=h;return[...Array.from(y),...Array.from(g),b].some(w=>$.isElement(w)?w.dataset.mutationFree==="true":!1)})),f&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Fi(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,s),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=$.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!xn(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Le(this.toolInstance.merge)}get isEmpty(){const e=$.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(Tn.CSS.focused,e)}get focused(){return this.holder.classList.contains(Tn.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(Tn.CSS.selected,e);const o=e===!0&&Q.isRangeInsideContainer(this.holder),s=e===!1&&Q.isFakeCursorInsideContainer(this.holder);(o||s)&&((n=this.editorEventBus)==null||n.emit(PS,{state:e}),o?Q.addFakeCursor():Q.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(IS,{state:e}))}get selected(){return this.holder.classList.contains(Tn.CSS.selected)}set stretched(e){this.holder.classList.toggle(Tn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Tn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Tn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Le(this.toolInstance[e])){e==="appendCallback"&&he("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){he(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([s,i])=>{if(Le(i.save))try{n[s]=i.save()}catch(a){he(`Tune ${i.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(s=>(o=window.performance.now(),{id:this.id,tool:this.name,data:s,tunes:n,time:o-r})).catch(s=>{he(`Saving process for ${this.name} tool failed due to the ${s}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(s=>s.render());return[r,o].flat().forEach(s=>{$.isElement(s)?e.appendChild(s):Array.isArray(s)?n.push(...s):n.push(s)}),[n,e]}updateCurrentInput(){this.currentInput=$.isNativeInput(document.activeElement)||!Q.anchorNode?document.activeElement:Q.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Le(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,s])=>n[o]&&OO(n[o],s)))}compose(){const e=$.make("div",Tn.CSS.wrapper),n=$.make("div",Tn.CSS.content),r=this.toolInstance.render();this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(s=>{if(Le(s.wrap))try{o=s.wrap(o)}catch(i){he(`Tune ${s.constructor.name} wrap method throws an Error %o`,"warn",i)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>UO(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on($h,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off($h,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class $O extends me{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,s,i,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:s,replace:i});return new Fi(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Zn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(!o){he("blocks.update(): Block with passed id was not found","warn");return}const s=r.getBlockIndex(o);r.insert({id:o.id,tool:o.name,data:n,index:s,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){hn("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){hn("There is no block at index `"+e+"`","warn");return}return new Fi(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(hn("There is no block with id `"+e+"`","warn"),null):new Fi(n)}swap(e,n){he("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){hn(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Uh(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){he("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}let zO=class extends me{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},VO=class extends me{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}};class Jm extends me{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{hn("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>Lt.t(Jm.getNamespace(e),n)})}}class HO extends me{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}let WO=class extends me{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}};class GO extends me{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var zh={},qO={get exports(){return zh},set exports(t){zh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var s=o(6),i="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=s.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=s.confirm(l);break;case"prompt":c=s.prompt(l);break;default:c=s.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(i)}}}}()},function(n,r,o){var s=o(2);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",f=l[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),y=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(y).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var f=i[c];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(C){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,f=0,h=[],y=o(5);function g(C,S){for(var _=0;_<C.length;_++){var T=C[_],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var L=[];for(P=0;P<T.parts.length;P++)L.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:L}}}}function b(C,S){for(var _=[],T={},I=0;I<C.length;I++){var P=C[I],L=S.base?P[0]+S.base:P[0],A={css:P[1],media:P[2],sourceMap:P[3]};T[L]?T[L].parts.push(A):_.push(T[L]={id:L,parts:[A]})}return _}function w(C,S){var _=c(C.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(C.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(C.insertAt==="bottom")_.appendChild(S);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(C.insertInto+" "+C.insertAt.before);_.insertBefore(S,I)}}function v(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var S=h.indexOf(C);S>=0&&h.splice(S,1)}function m(C){var S=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),p(S,C.attrs),w(C,S),S}function p(C,S){Object.keys(S).forEach(function(_){C.setAttribute(_,S[_])})}function x(C,S){var _,T,I,P;if(S.transform&&C.css){if(!(P=S.transform(C.css)))return function(){};C.css=P}if(S.singleton){var L=f++;_=u||(u=m(S)),T=j.bind(null,_,L,!1),I=j.bind(null,_,L,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(A){var B=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",p(B,A.attrs),w(A,B),B}(S),T=(function(A,B,M){var O=M.css,R=M.sourceMap,D=B.convertToAbsoluteUrls===void 0&&R;(B.convertToAbsoluteUrls||D)&&(O=y(O)),R&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var U=new Blob([O],{type:"text/css"}),G=A.href;A.href=URL.createObjectURL(U),G&&URL.revokeObjectURL(G)}).bind(null,_,S),I=function(){v(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(A,B){var M=B.css,O=B.media;if(O&&A.setAttribute("media",O),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}).bind(null,_),I=function(){v(_)});return T(C),function(A){if(A){if(A.css===C.css&&A.media===C.media&&A.sourceMap===C.sourceMap)return;T(C=A)}else I()}}n.exports=function(C,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=b(C,S);return g(_,S),function(T){for(var I=[],P=0;P<_.length;P++){var L=_[P];(A=a[L.id]).refs--,I.push(A)}for(T&&g(b(T,S),S),P=0;P<I.length;P++){var A;if((A=I[P]).refs===0){for(var B=0;B<A.parts.length;B++)A.parts[B]();delete a[A.id]}}}};var k,N=(k=[],function(C,S){return k[C]=S,k.filter(Boolean).join(`
`)});function j(C,S,_,T){var I=_?"":T.css;if(C.styleSheet)C.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),L=C.childNodes;L[S]&&C.removeChild(L[S]),L.length?C.insertBefore(P,L[S]):C.appendChild(P)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var s,i,a,l,c,u,f,h,y;n.exports=(s="cdx-notifies",i="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",f="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:y=function(g){var b=document.createElement("DIV"),w=document.createElement("DIV"),v=g.message,m=g.style;return b.classList.add(i),m&&b.classList.add(i+"--"+m),b.innerHTML=v,w.classList.add(a),w.addEventListener("click",b.remove.bind(b)),b.appendChild(w),b},confirm:function(g){var b=y(g),w=document.createElement("div"),v=document.createElement("button"),m=document.createElement("button"),p=b.querySelector("."+a),x=g.cancelHandler,k=g.okHandler;return w.classList.add(h),v.innerHTML=g.okText||"Confirm",m.innerHTML=g.cancelText||"Cancel",v.classList.add(f),m.classList.add(f),v.classList.add(l),m.classList.add(c),x&&typeof x=="function"&&(m.addEventListener("click",x),p.addEventListener("click",x)),k&&typeof k=="function"&&v.addEventListener("click",k),v.addEventListener("click",b.remove.bind(b)),m.addEventListener("click",b.remove.bind(b)),w.appendChild(v),w.appendChild(m),b.appendChild(w),b},prompt:function(g){var b=y(g),w=document.createElement("div"),v=document.createElement("button"),m=document.createElement("input"),p=b.querySelector("."+a),x=g.cancelHandler,k=g.okHandler;return w.classList.add(h),v.innerHTML=g.okText||"Ok",v.classList.add(f),v.classList.add(l),m.classList.add(u),g.placeholder&&m.setAttribute("placeholder",g.placeholder),g.default&&(m.value=g.default),g.inputType&&(m.type=g.inputType),x&&typeof x=="function"&&p.addEventListener("click",x),k&&typeof k=="function"&&v.addEventListener("click",function(){k(m.value)}),v.addEventListener("click",b.remove.bind(b)),w.appendChild(m),w.appendChild(v),b.appendChild(w),b},getWrapper:function(){var g=document.createElement("DIV");return g.classList.add(s),g}})}])})})(qO);const KO=$d(zh);let YO=class{show(e){KO.show(e)}},XO=class extends me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new YO}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},JO=class extends me{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}};var Vh={},QO={get exports(){return Vh},set exports(t){Vh=t}};(function(t,e){(function(n,r){t.exports=r()})(kO,function(){function n(f){var h=f.tags,y=Object.keys(h),g=y.map(function(b){return typeof h[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!g)throw new Error("The configuration was invalid");this.config=f}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(f){return r.indexOf(f.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(f){return s.indexOf(f.nodeName)!==-1}n.prototype.clean=function(f){const h=document.implementation.createHTMLDocument(),y=h.createElement("div");return y.innerHTML=f,this._sanitize(h,y),y.innerHTML},n.prototype._sanitize=function(f,h){var y=a(f,h),g=y.firstChild();if(g)do{if(g.nodeType===Node.TEXT_NODE)if(g.data.trim()===""&&(g.previousElementSibling&&o(g.previousElementSibling)||g.nextElementSibling&&o(g.nextElementSibling))){h.removeChild(g),this._sanitize(f,h);break}else continue;if(g.nodeType===Node.COMMENT_NODE){h.removeChild(g),this._sanitize(f,h);break}var b=i(g),w;b&&(w=Array.prototype.some.call(g.childNodes,o));var v=!!h.parentNode,m=o(h)&&o(g)&&v,p=g.nodeName.toLowerCase(),x=l(this.config,p,g),k=b&&w;if(k||c(g,x)||!this.config.keepNestedBlockElements&&m){if(!(g.nodeName==="SCRIPT"||g.nodeName==="STYLE"))for(;g.childNodes.length>0;)h.insertBefore(g.childNodes[0],g);h.removeChild(g),this._sanitize(f,h);break}for(var N=0;N<g.attributes.length;N+=1){var j=g.attributes[N];u(j,x,g)&&(g.removeAttribute(j.name),N=N-1)}this._sanitize(f,g)}while(g=y.nextSibling())};function a(f,h){return f.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(f,h,y){return typeof f.tags[h]=="function"?f.tags[h](y):f.tags[h]}function c(f,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(f,h,y){var g=f.name.toLowerCase();return h===!0?!1:typeof h[g]=="function"?!h[g](f.value,y):typeof h[g]>"u"||h[g]===!1?!0:typeof h[g]=="string"?h[g]!==f.value:!1}return n})})(QO);const ZO=Vh;function AS(t,e){return t.map(n=>{const r=Le(e)?e(n.tool):e;return xn(r)||(n.data=Qm(n.data,r)),n})}function er(t,e={}){const n={tags:e};return new ZO(n).clean(t)}function Qm(t,e){return Array.isArray(t)?eR(t,e):ut(t)?tR(t,e):Zr(t)?nR(t,e):t}function eR(t,e){return t.map(n=>Qm(n,e))}function tR(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],s=rR(e[r])?e[r]:e;n[r]=Qm(o,s)}return n}function nR(t,e){return ut(e)?er(t,e):e===!1?er(t,{}):t}function rR(t){return ut(t)||TO(t)||Le(t)}class oR extends me{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return er(e,n)}}class sR extends me{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(hn(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class iR extends me{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new Q().findParentTag(e,n)}expandToTag(e){new Q().expandToTag(e)}}class aR extends me{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class lR extends me{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){hn("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){hn("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Hh={},cR={get exports(){return Hh},set exports(t){Hh=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return s});class s{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,f)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,f)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,f=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,f)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,f=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,f)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const f in c)c.hasOwnProperty(f)&&(u[f]=c[f]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(cR);const dR=$d(Hh);class Zm{constructor(){this.lib=new dR}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class uR extends me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Zm}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class fR extends me{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function LS(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(ut(o)){const s=e?`${e}.${r}`:r;Object.values(o).every(i=>Zr(i))?n[r]=s:n[r]=LS(o,s);return}n[r]=o}),n}const pn=LS(_S);function hR(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const pR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',BS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',mR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',gR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',yR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',vR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Av='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',bR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',xR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',wR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',kR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let Lv=class Qe{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Qe.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Qe.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Qe.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Qe.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Qe.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Qe.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=$.make("div",Qe.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=$.make("div",Qe.CSS.icon,{innerHTML:e.icon||yR}),n.appendChild(this.nodes.icon),n.appendChild($.make("div",Qe.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild($.make("div",Qe.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(Qe.CSS.active),e.isDisabled&&n.classList.add(Qe.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Qe.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Qe.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Qe.CSS.noHover),this.nodes.root.classList.add(Qe.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Qe.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Qe.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const ki=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(ki.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ki.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===ki.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===ki.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,$.canSetCaret(this.items[e])&&Fo(()=>Q.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let ts=ki;ts.directions={RIGHT:"right",LEFT:"left"};let zs=class Wh{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Wh.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case se.TAB:this.handleTabPress(n);break;case se.LEFT:case se.UP:this.flipLeft();break;case se.RIGHT:case se.DOWN:this.flipRight();break;case se.ENTER:this.handleEnterPress(n);break}},this.iterator=new ts(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Wh.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[se.TAB,se.LEFT,se.RIGHT,se.ENTER,se.UP,se.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ts.directions.LEFT:ts.directions.RIGHT){case ts.directions.RIGHT:this.flipRight();break;case ts.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Le(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};class Ui{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new Xm,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=$.make("div",Ui.CSS.wrapper);const n=$.make("div",Ui.CSS.icon,{innerHTML:wR});this.input=$.make("input",Ui.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const Si=class{lock(){Iv?this.lockHard():document.body.classList.add(Si.CSS.scrollLocked)}unlock(){Iv?this.unlockHard():document.body.classList.remove(Si.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Si.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Si.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let OS=Si;OS.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var SR=Object.defineProperty,CR=Object.getOwnPropertyDescriptor,ER=(t,e,n,r)=>{for(var o=r>1?void 0:r?CR(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&SR(e,n,o),o},ya=(t=>(t.Close="close",t))(ya||{});const lt=class extends zd{constructor(e){super(),this.scopeElement=document.body,this.listeners=new Xm,this.scrollLocker=new OS,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(n=>n.isFocused).onFocus()},this.items=e.items.map(n=>new Lv(n)),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(lt.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(lt.CSS.overlayHidden),this.nodes.popover.classList.add(lt.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),No()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(lt.CSS.popoverOpened),this.nodes.popover.classList.remove(lt.CSS.popoverOpenTop),this.nodes.overlay.classList.add(lt.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),No()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),No()&&this.scrollLocker.unlock()}make(){this.nodes.popover=$.make("div",[lt.CSS.popover]),this.nodes.nothingFoundMessage=$.make("div",[lt.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=$.make("div",[lt.CSS.items]),this.items.forEach(e=>{this.nodes.items.appendChild(e.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",e=>{const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}),this.nodes.wrapper=$.make("div"),this.nodes.overlay=$.make("div",[lt.CSS.overlay,lt.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Ui({items:this.items,placeholder:this.messages.search,onSearch:(n,r)=>{this.items.forEach(s=>{const i=!r.includes(s);s.toggleHidden(i)}),this.toggleNothingFoundMessage(r.length===0),this.toggleCustomContent(n!=="");const o=n===""?this.flippableElements:r.map(s=>s.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const e=this.search.getElement();e.classList.add(lt.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(lt.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find(n=>e.composedPath().includes(n.getElement()))}handleItemClick(e){e.isDisabled||(this.items.filter(n=>n!==e).forEach(n=>n.reset()),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new zs({items:this.flippableElements,focusedItemClass:Lv.CSS.focused,allowedKeys:[se.TAB,se.UP,se.DOWN,se.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map(n=>n.getElement());return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(this.nodes.popover===null)return e;const n=this.nodes.popover.cloneNode(!0);return n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(lt.CSS.popoverOpened),document.body.appendChild(n),e=n.offsetHeight,n.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.height,o=e.top+r,s=e.top-r,i=Math.min(window.innerHeight,n.bottom);return s<n.top||o<=i}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(lt.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var n;(n=this.nodes.customContent)==null||n.classList.toggle(lt.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string"){const n=this.items.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};let eg=lt;ER([Zs],eg.prototype,"height",1);class TR extends me{constructor(){super(...arguments),this.opened=!1,this.selection=new Q,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=$.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new eg({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Lt.ui(pn.ui.popover,"Nothing found"),search:Lt.ui(pn.ui.popover,"Filter")}}),this.popover.on(ya.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,Q.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(ya.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${$.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=hR(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class en extends me{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=$.make("div",[en.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=$.make("div",en.CSS.conversionToolbarTools);const e=$.make("div",en.CSS.conversionToolbarLabel,{textContent:Lt.ui(pn.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),$.append(this.nodes.wrapper,e),$.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),Le(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(en.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(en.CSS.conversionToolHidden))),this.flipper.focusFirst(),Le(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(en.CSS.conversionToolbarShowed),Le(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const r=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,s=this.Editor.Tools.blockTools.get(e);let i="";const a=r.conversionConfig.export;if(Le(a))i=a(o);else if(Zr(a))i=o[a];else{he("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=er(i,s.sanitizeConfig);let c={};const u=s.conversionConfig.import;if(Le(u))c=u(l);else if(Zr(u))c[u]=l;else{he("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Fo(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{const o=r.conversionConfig;!o||!o.import||r.toolbox.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){xn(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const r=$.make("div",[en.CSS.conversionTool]),o=$.make("div",[en.CSS.conversionToolIcon]);r.dataset.tool=e,o.innerHTML=n.icon,$.append(r,o),$.append(r,$.text(Lt.t(pn.toolNames,n.title||Oc(e)))),$.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:n}),this.listeners.on(r,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,s){return o.icon===s.icon&&o.title===s.title}this.tools.forEach(o=>{let s=!1;if(n){const i=r(n,o.toolboxItem);s=o.button.dataset.tool===e.name&&i}o.button.hidden=s,o.button.classList.toggle(en.CSS.conversionToolHidden,s)})}enableFlipper(){this.flipper=new zs({focusedItemClass:en.CSS.conversionToolFocused})}}var Gh={},_R={get exports(){return Gh},set exports(t){Gh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="",o(o.s=0)}([function(n,r,o){function s(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(f){u.execute(f)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),i(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var f=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){f=this.commands[h]=!0;break}f||(this.keys[c[u]]=!0)}for(var y in l.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var u,f={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==f[u]&&(h=!1);var y,g=!0;for(y in this.keys)g=g&&c.keyCode===l.keyCodes[y];h&&g&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(_R);const jR=$d(Gh);class NR{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new jR({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(s=>s!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Vs=new NR;var PR=Object.defineProperty,IR=Object.getOwnPropertyDescriptor,RS=(t,e,n,r)=>{for(var o=r>1?void 0:r?IR(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&PR(e,n,o),o},Dl=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Dl||{});const MS=class extends zd{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new eg({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(ya.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(MS.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return(e=this.popover)==null?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(e=this.popover)==null||e.off(ya.Close,this.onPopoverClose)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r)=>({icon:n.icon,title:Lt.t(pn.toolNames,n.title||Oc(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut?ES(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{n.push(e(o,r))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Vs.add({name:n,on:this.api.ui.nodes.redactor,handler:r=>{r.preventDefault(),this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Vs.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const s=o.isEmpty?r:r+1;let i;if(n){const l=await this.api.blocks.composeBlockData(e);i=Object.assign(l,n)}const a=this.api.blocks.insert(e,i,void 0,s,void 0,o.isEmpty);a.call(Ir.APPEND_CALLBACK),this.api.caret.setToBlock(s),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};let tg=MS;RS([Zs],tg.prototype,"toolsToBeDisplayed",1);RS([Zs],tg.prototype,"toolboxItemsToBeDisplayed",1);const DS="block hovered";class AR extends me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Zm}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,s=window.getComputedStyle(o),i=parseInt(s.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+i,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){Fo(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=$.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=$.make("div",this.CSS[n])}),$.append(this.nodes.wrapper,this.nodes.content),$.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=$.make("div",this.CSS.plusButton,{innerHTML:xR}),$.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=$.make("div");e.appendChild(document.createTextNode(Lt.ui(pn.ui.toolbar.toolbox,"Add"))),e.appendChild($.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=$.make("span",this.CSS.settingsToggler,{innerHTML:bR}),$.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,Lt.ui(pn.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),$.append(this.nodes.actions,this.makeToolbox()),$.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new tg({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Lt.ui(pn.ui.popover,"Filter"),nothingFound:Lt.ui(pn.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Dl.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Dl.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Dl.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),No()||this.eventsDispatcher.on(DS,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Vd=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Vd||{}),Fl=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Fl||{}),FS=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(FS||{}),ns=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(ns||{}),ng=(t=>(t.IsInline="isInline",t.Title="title",t))(ng||{}),US=(t=>(t.IsTune="isTune",t))(US||{});class rg{constructor({name:e,constructable:n,config:r,api:o,isDefault:s,isInternal:i=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=s,this.isInternal=i,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Le(this.constructable.reset))return this.constructable.reset()}prepare(){if(Le(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class LR extends me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=No()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Zm}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=Q.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,s=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,s>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Vs.remove(this.Editor.UI.nodes.redactor,r),Le(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=$.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=$.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=$.make("div",this.CSS.buttonsWrapper),this.nodes.actions=$.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),$.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),$.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=Q.get(),r=Q.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=$.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const s=this.Editor.BlockManager.getBlock(n.anchorNode);return s?s.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=$.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=$.make("div",this.CSS.conversionTogglerContent);const e=$.make("div",this.CSS.conversionTogglerArrow,{innerHTML:BS});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),No()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,Lt.ui(pn.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,s=o&&o.export;this.nodes.conversionToggler.hidden=!s,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!s);const i=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=i.icon||i.title||Oc(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();$.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=Q.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){he("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),Le(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const s=$.make("div"),i=Lt.t(pn.toolNames,e.title||Oc(e.name));s.appendChild($.text(i)),o&&s.appendChild($.make("div",this.CSS.inlineToolbarShortcut,{textContent:ES(o)})),No()===!1&&this.tooltip.onHover(r,s,{placement:"top",hidingDelay:100}),n.checkState(Q.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][FS.Shortcut]:r.shortcut}enableShortcuts(e,n){Vs.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=Q.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(Q.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new zs({focusedItemClass:this.CSS.focusedButton,allowedKeys:[se.ENTER,se.TAB]})}}class BR extends me{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case se.BACKSPACE:this.backspace(e);break;case se.ENTER:this.enter(e);break;case se.DOWN:case se.RIGHT:this.arrowRightAndDown(e);break;case se.UP:case se.LEFT:this.arrowLeftAndUp(e);break;case se.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&kS(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,s=n.currentBlock;if(!s)return;const i=s.isEmpty,a=s.tool.isDefault&&i,l=!i&&o.opened,c=!i&&!Q.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const s=r.removeSelectedBlocks(),i=r.insertDefaultBlockAtIndex(s,!0);o.setToBlock(i,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,s=n.currentBlock,i=s.tool;if(s.selected||s.isEmpty&&s.currentInput===s.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),o.setToBlock(n.currentBlock,l?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),r.clearSelection(e);return}if(i.isLineBreaksEnabled&&!o.isAtStart)return;const a=n.currentBlockIndex===0;o.isAtStart&&Q.isCollapsed&&s.currentInput===s.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:r}=this.Editor,o=e.previousBlock,s=e.currentBlock;if(s.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),r.close();return}n.navigatePrevious()&&r.close();return}n.createShadow(o.pluginsContent),e.mergeBlocks(o,s).then(()=>{n.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),r.close()})}arrowRightAndDown(e){const n=zs.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===se.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===se.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===se.DOWN||e.keyCode===se.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Fo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(zs.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===se.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===se.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===se.UP||e.keyCode===se.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Fo(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===se.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===se.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===se.ENTER&&this.Editor.InlineToolbar.opened,s=e.keyCode===se.ENTER&&this.Editor.ConversionToolbar.opened,i=e.keyCode===se.TAB;return!(e.shiftKey||i||n||r||o||s)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ku{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return CS(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];$.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,s=Math.max(0,o),i=this.blocks[s];e>0?this.insertToDOM(r,"afterend",i):this.insertToDOM(r,"beforebegin",i),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Ir.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Ir.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const s=this.blocks[e-1];this.insertToDOM(n,"afterend",s)}else{const s=this.blocks[e+1];s?this.insertToDOM(n,"beforebegin",s):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Ir.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Ir.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Ir.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Bv="block-removed",Ov="block-added",OR="block-moved",RR="block-changed";class MR extends me{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Ku(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Ku.set,get:Ku.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const s=this.Editor.ReadOnly.isEnabled,i=this.Editor.Tools.blockTools.get(e),a=new Zn({id:r,data:n,tool:i,api:this.Editor.API,readOnly:s,tunesData:o},this.eventsDispatcher);return s||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:s=!0,replace:i=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(i?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return i&&this.blockDidMutated(Bv,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,i),this.blockDidMutated(Ov,c,{index:l}),s?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{o.call(Ir.ON_PASTE,n)}catch(s){he(`${e}: onPaste callback call is failed`,"error",s)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Ov,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=this._blocks.indexOf(n);if(n.isEmpty)return;const o=await n.data;xn(o)||await e.mergeWith(o),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(Bv,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=$.make("div");n.appendChild(e);const r={text:$.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){$.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${Zn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Zn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Zn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){he("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){he("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(OR,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(RR,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Fi(n),...r}});return this.eventsDispatcher.emit(NS,{event:o}),n}}class DR extends me{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Q,Vs.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Q.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const i=e&&e instanceof KeyboardEvent,a=i&&kS(e.keyCode);if(this.anyBlockSelected&&i&&a&&!Q.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Fo(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||s.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=$.make("div");this.selectedBlocks.forEach(s=>{const i=er(s.holder.innerHTML,this.sanitizerConfig),a=$.make("p");a.innerHTML=i,n.appendChild(a)});const r=Array.from(n.childNodes).map(s=>s.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(s=>s.save())).then(s=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(s))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),Q.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Vs.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),$.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Q.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Rc extends me{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=Q.get(),n=$.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if($.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let s=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[s]?(r=r.childNodes[s],s=0):(r=r.childNodes[s-1],s=r.textContent.length)),($.isLineBreakTag(n)||$.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(i=>{const a=$.isLineBreakTag(i),l=i.children.length===1&&$.isLineBreakTag(i.children[0]),c=a||l;return $.isEmpty(i)&&!c})&&s===o?!0:n===null||r===n&&s<=o}get isAtEnd(){const e=Q.get();let n=e.focusNode;const r=$.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if($.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),$.isLineBreakTag(r)||$.isEmpty(r)){const i=this.getHigherLevelSiblings(n,"right");if(i.every((a,l)=>l===i.length-1&&$.isLineBreakTag(a)||$.isEmpty(a)&&!$.isLineBreakTag(a))&&o===n.textContent.length)return!0}const s=r.textContent.replace(/\s+$/,"");return n===r&&o>=s.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let s;switch(n){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const i=$.getDeepestNode(s,n===this.positions.END),a=$.getContentLength(i);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Fo(()=>{this.set(i,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=s}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,s=$.getDeepestNode(e);switch(n){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,$.getContentLength(s));break;default:r&&this.set(s,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=Q.setCursor(e,n),{innerHeight:s}=window;r<0&&window.scrollBy(0,r),o>s&&window.scrollBy(0,o-s)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=Q.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if($.isNativeInput(r)){const o=r,s=document.createDocumentFragment(),i=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return s.textContent=a,o.value=i,s}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,s=this.isAtEnd;let i=r;if(!i&&!o){if(n.tool.isDefault||!s)return!1;i=e.insertAtEnd()}return s?(o?this.setToInput(o,this.positions.START):this.setToBlock(i,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Rc.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Rc.CSS.shadowCaret}`);n&&(new Q().expandToTag(n),setTimeout(()=>{const r=document.createRange();r.selectNode(n),r.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=Q.get(),s=Q.range;r.innerHTML=e,Array.from(r.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const i=n.lastChild;s.deleteContents(),s.insertNode(n);const a=document.createRange();a.setStart(i,i.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const s=n==="left"?"previousSibling":"nextSibling";for(;r[s];)r=r[s],o.push(r);return o}}class FR extends me{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=n.getBlockByChildNode(e.target);if(!(!o||!s)&&s!==o){if(o===this.firstSelectedBlock){Q.get().removeAllRanges(),o.selected=!0,s.selected=!0,r.clearCache();return}if(s===this.firstSelectedBlock){o.selected=!1,s.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,s),this.lastSelectedBlock=s}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==CO.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Q.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=n.blocks[o];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,s=n.blocks.indexOf(this.firstSelectedBlock),i=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&s>-1&&i>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case se.DOWN:case se.RIGHT:o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END);break;case se.UP:case se.LEFT:o.setToBlock(n.blocks[Math.min(s,i)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(s,i)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;Q.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,s=r.blocks.indexOf(e),i=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(s,i);l<=Math.max(s,i);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class UR extends me{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(i=>{i.dropTarget=!1}),Q.isAtEditor&&!Q.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const s=n.setCurrentBlockByChildNode(e.target);if(s)this.Editor.Caret.setToBlock(s,r.positions.END);else{const i=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(i,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){Q.isAtEditor&&!Q.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class $R extends me{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(NS,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(PS,()=>{this.disable()}),this.eventsDispatcher.on(IS,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Le(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit($h,{mutations:e})}}const $S=class extends me{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Le(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){he(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor;!n.currentBlock||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||n.currentBlock&&this.exceptionList.includes(n.currentBlock.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),n.clearFocused(),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!xn(this.toolsFiles)){await this.processFiles(e.files);return}const s=e.getData(this.MIME_TYPE),i=e.getData("text/plain");let a=e.getData("text/html");if(s)try{this.insertEditorJSData(JSON.parse(s));return}catch{}n&&i.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:i)+"</p>");const l=Object.keys(this.toolsTags).reduce((f,h)=>(f[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},f),{}),c=Object.assign({},l,r.getAllInlineToolsSanitizeConfig(),{br:{}}),u=er(a,c);!u.trim()||u.trim()===i||!$.isHTMLString(u)?await this.processText(i):await this.processText(u,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,s=n?this.processHTML(e):this.processPlain(e);if(!s.length)return;if(s.length===1){s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop());return}const i=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;s.map(async(a,l)=>this.insertBlock(a,l===0&&i)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Zr(e)?[e]:ut(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const s=this.collectTagNames(o);r.push(...s),s.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){he(`Paste handler for «${e.name}» Tool on «${i}» tag is skipped because it is already used by «${this.toolsTags[i].tool.name}» Tool.`,"warn");return}const a=ut(o)?o[i]:null;this.toolsTags[i.toUpperCase()]={tool:e,sanitizationConfig:a}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(he(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(he(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),o&&(o=o.filter(s=>jO(s)?!0:(he(`MIME type value «${s}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||xn(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||he(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return $.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(s=>this.processFile(s))),r=r.filter(s=>!!s);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((s,i)=>{n.paste(s.type,s.event,i===0&&o)})}async processFile(e){const n=_O(e),r=Object.entries(this.toolsFiles).find(([s,{mimeTypes:i,extensions:a}])=>{const[l,c]=e.type.split("/"),u=a.find(h=>h.toLowerCase()===n.toLowerCase()),f=i.find(h=>{const[y,g]=h.split("/");return y===l&&(g===c||g==="*")});return!!u||!!f});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=$.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let s,i=n.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:s=$.make("div"),s.appendChild(o);break;case Node.ELEMENT_NODE:s=o,a=!0,this.toolsTags[s.tagName]&&(i=this.toolsTags[s.tagName].tool);break}const{tags:l}=i.pasteConfig||{tags:[]},c=l.reduce((h,y)=>(this.collectTagNames(y).forEach(g=>{const b=ut(y)?y[g]:null;h[g.toLowerCase()]=b||{}}),h),{}),u=Object.assign({},c,i.baseSanitizeConfig);if(s.tagName.toLowerCase()==="table"){const h=er(s.outerHTML,u);s=$.make("div",void 0,{innerHTML:h}).firstChild}else s.innerHTML=er(s.innerHTML,u);const f=this.composePasteEvent("tag",{data:s});return{content:s,isBlock:a,tool:i.name,event:f}}).filter(o=>{const s=$.isEmpty(o.content),i=$.isSingleTag(o.content);return!s||i})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const s=$.make("div");s.textContent=o;const i=this.composePasteEvent("tag",{data:s});return{content:s,tool:r,isBlock:!1,event:i}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!$.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<$S.PATTERN_PROCESSING_MAX_LENGTH){const s=await this.processPattern(o.textContent);if(s){const i=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,a=n.paste(s.tool,s.event,i);r.setToBlock(a,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const s=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,er(o.innerHTML,s))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:s}=r;let i;if(n&&s&&s.isEmpty){i=r.paste(e.tool,e.event,!0),o.setToBlock(i,o.positions.END);return}i=r.paste(e.tool,e.event),o.setToBlock(i,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;AS(e,s=>o.blockTools.get(s).sanitizeConfig).forEach(({tool:s,data:i},a)=>{let l=!1;a===0&&(l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const c=n.insert({tool:s,data:i,replace:l});r.setToBlock(c,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),s=e,{tool:i}=this.toolsTags[s.tagName]||{},a=this.tagsByTool[i==null?void 0:i.name]||[],l=o.includes(s.tagName),c=$.blockElements.includes(s.tagName.toLowerCase()),u=Array.from(s.children).some(({tagName:h})=>o.includes(h)&&!a.includes(h)),f=Array.from(s.children).some(({tagName:h})=>$.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!u)return r.appendChild(s),[...n,r];if(l&&!u||c&&!f&&!u)return[...n,r,s]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(s,i)=>{if($.isEmpty(i)&&!$.isSingleTag(i))return s;const a=s[s.length-1];let l=new DocumentFragment;switch(a&&$.isFragment(a)&&(l=s.pop()),i.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(i,s,l),r)return r;break;case Node.TEXT_NODE:return l.appendChild(i),[...s,l];default:return[...s,l]}return[...s,...Array.from(i.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};let zS=$S;zS.PATTERN_PROCESSING_MAX_LENGTH=450;class zR extends me{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,s])=>{s.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new jS(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class $i extends me{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${Zn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=r.closest("."+this.Editor.UI.CSS.editorWrapper),i=o.some(a=>!!r.closest(a));!s||i||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Dh(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Dh(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest($.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=$.make("div",$i.CSS.overlay,{}),o=$.make("div",$i.CSS.overlayContainer,{}),s=$.make("div",$i.CSS.rect,{});return o.appendChild(s),r.appendChild(o),n.appendChild(r),this.overlayRectangle=s,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),s=this.startX>n&&this.mouseX>n,i=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(s||i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),Q.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let s;o!==void 0&&(s=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Zn.CSS.content),a=Number.parseInt(window.getComputedStyle(i).width,10)/2,l=e-a,c=e+a;return{index:s,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,s=-1,i=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=i;r>1&&(l=a?o:s);const c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===s,f=!(c||u||l===i);if(!f&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let g=this.stackOfSelected[r-1]+1||e;for(g;g<=e;g++)this.addBlockInSelection(g);return}if(!f&&e<this.stackOfSelected[r-1]){for(let g=this.stackOfSelected[r-1]-1;g>=e;g--)this.addBlockInSelection(g);return}if(!f)return;let h=r-1,y;for(e>this.stackOfSelected[r-1]?y=()=>e>this.stackOfSelected[h]:y=()=>e<this.stackOfSelected[h];y();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class VR extends me{async render(e){const n=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const r=await SS(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),r}async insertBlock(e){var n;const{Tools:r,BlockManager:o}=this.Editor,{type:s,data:i,tunes:a,id:l}=e;if(r.available.has(s))try{o.insert({id:l,tool:s,data:i,tunes:a})}catch(c){throw he(`Block «${s}» skipped because of plugins error`,"warn",{data:i,error:c}),Error(c)}else{const c={savedData:{id:l,type:s,data:i},title:s};if(r.unavailable.has(s)){const f=(n=r.unavailable.get(s).toolbox[0])==null?void 0:n.title;c.title=f||c.title}const u=o.insert({id:l,tool:r.stubTool,data:c});u.stretched=!0,he(`Tool «${s}» is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class HR extends me{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const s=await Promise.all(o),i=await AS(s,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(i)}catch(s){hn("Saving failed due to the Error %o","error",s)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){let n=0;const r=[];return he("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:s,data:i,tunes:a,time:l,isValid:c})=>{if(n+=l,he(`${s.charAt(0).toUpperCase()+s.slice(1)}`,"group"),c)he(i),he(void 0,"groupEnd");else{he(`Block «${s}» skipped because saved data is invalid`),he(void 0,"groupEnd");return}if(s===this.Editor.Tools.stubTool){r.push(i);return}const u={id:o,type:s,data:i,...!xn(a)&&{tunes:a}};r.push(u)}),he("Total","log",n),he(void 0,"groupEnd"),{time:+new Date,blocks:r,version:"2.27.2"}}}var qh={},WR={get exports(){return qh},set exports(t){qh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=4)}([function(n,r,o){var s=o(1),i=o(2);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(x){if(p[x]===void 0){var k=document.querySelector(x);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}p[x]=k}return p[x]}}(),l=[];function c(p){for(var x=-1,k=0;k<l.length;k++)if(l[k].identifier===p){x=k;break}return x}function u(p,x){for(var k={},N=[],j=0;j<p.length;j++){var C=p[j],S=x.base?C[0]+x.base:C[0],_=k[S]||0,T="".concat(S," ").concat(_);k[S]=_+1;var I=c(T),P={css:C[1],media:C[2],sourceMap:C[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function f(p){var x=document.createElement("style"),k=p.attributes||{};if(k.nonce===void 0){var N=o.nc;N&&(k.nonce=N)}if(Object.keys(k).forEach(function(C){x.setAttribute(C,k[C])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,y=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,k,N){var j=k?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=y(x,j);else{var C=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(C,S[x]):p.appendChild(C)}}function b(p,x,k){var N=k.css,j=k.media,C=k.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),C&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,v=0;function m(p,x){var k,N,j;if(x.singleton){var C=v++;k=w||(w=f(x)),N=g.bind(null,k,C,!1),j=g.bind(null,k,C,!0)}else k=f(x),N=b.bind(null,k,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(k)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=i());var k=u(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<k.length;j++){var C=c(k[j]);l[C].references--}for(var S=u(N,x),_=0;_<k.length;_++){var T=c(k[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}k=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var y=(b=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(v," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[f].concat(g).concat([y]).join(`
`)}var b,w,v;return[f].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var y=0;y<a.length;y++){var g=[].concat(a[y]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function s(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,f=c.config,h=c.api,y=c.readOnly;(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=y,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=f.placeholder?f.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=f.preserveBlank!==void 0&&f.preserveBlank,this.data=u}return i(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),i(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(WR);const GR=$d(qh);class og{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=pR,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}og.isInline=!0;og.title="Bold";class sg{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=vR,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}sg.isInline=!0;sg.title="Italic";class ig{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new Q}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Av,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=kR,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Av,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new Q;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),he("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}ig.isInline=!0;ig.title="Link";let VS=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=$.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r=$.make("div",this.CSS.info),o=$.make("div",this.CSS.title,{textContent:this.title}),s=$.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(s),e.appendChild(r),e}};VS.isReadOnlySupported=!0;class qR extends rg{constructor(){super(...arguments),this.type=Vd.Inline}get title(){return this.constructable[ng.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class KR extends rg{constructor(){super(...arguments),this.type=Vd.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let jn=class rs extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new rs(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new rs(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new rs(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new rs(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new rs(e)}};var YR=Object.defineProperty,XR=Object.getOwnPropertyDescriptor,HS=(t,e,n,r)=>{for(var o=r>1?void 0:r?XR(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&YR(e,n,o),o};class ag extends rg{constructor(){super(...arguments),this.type=Vd.Block,this.inlineTools=new jn,this.tunes=new jn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[ns.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[ns.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[ns.Toolbox],n=this.config[Fl.Toolbox];if(!xn(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const s=e[o];return s?{...s,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[ns.ConversionConfig]}get enabledInlineTools(){return this.config[Fl.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Fl.EnabledBlockTunes]}get pasteConfig(){return this.constructable[ns.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(xn(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];ut(s)?r[o]=Object.assign({},n,s):r[o]=s}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}HS([Zs],ag.prototype,"sanitizeConfig",1);HS([Zs],ag.prototype,"baseSanitizeConfig",1);class JR{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],s=this.getConstructor(n);return new s({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[ng.IsInline]:return qR;case e[US.IsTune]:return KR;default:return ag}}}class WS{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:BS,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let s=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(s=window.scrollY+r.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}WS.isTune=!0;let GS=class{constructor({api:e}){this.api=e}render(){return{icon:gR,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};GS.isTune=!0;class qS{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:mR,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,s=r.holder,i=o.getBoundingClientRect(),a=s.getBoundingClientRect();let l;a.top>0?l=Math.abs(i.top)-Math.abs(a.top):l=Math.abs(i.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}qS.isTune=!0;var QR=Object.defineProperty,ZR=Object.getOwnPropertyDescriptor,eM=(t,e,n,r)=>{for(var o=r>1?void 0:r?ZR(e,n):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&QR(e,n,o),o};class KS extends me{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new jn,this.toolsUnavailable=new jn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Fh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new JR(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await SS(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Le(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:og,isInternal:!0},italic:{class:sg,isInternal:!0},link:{class:ig,isInternal:!0},paragraph:{class:GR,inlineToolbar:!0,isInternal:!0},stub:{class:VS,isInternal:!0},moveUp:{class:qS,isInternal:!0},delete:{class:GS,isInternal:!0},moveDown:{class:WS,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){he(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:Le(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new jn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new jn(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new jn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new jn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new jn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new jn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Le(n)&&!Le(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)ut(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}eM([Zs],KS.prototype,"getAllInlineToolsSanitizeConfig",1);const tM=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class nM extends me{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=NO(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Zn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=$.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof zs).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<TS}make(){this.nodes.holder=$.getHolder(this.config.holder),this.nodes.wrapper=$.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=$.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if($.get(e))return;const n=$.make("style",null,{id:e,textContent:tM.toString()});$.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Dh(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(DS,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case se.ENTER:this.enterPressed(e);break;case se.BACKSPACE:this.backspacePressed(e);break;case se.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!Q.isSelectionExists){const s=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(s,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!Q.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const s=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(s),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||Q.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),s=r||o;if(this.Editor.BlockSettings.opened&&!s){this.Editor.BlockSettings.close();const i=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!Q.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,s=e.metaKey||e.ctrlKey;if($.isAnchor(o)&&s){r();const c=o.getAttribute("href"),u=IO(c);LO(u);return}const i=this.Editor.BlockManager.getBlockByIndex(-1),a=$.offset(i.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:f}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),f.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=Q.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&Q.get().removeAllRanges(),!r){Q.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${Zn.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const s=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,s)}}const rM={BlocksAPI:$O,CaretAPI:zO,EventsAPI:VO,I18nAPI:Jm,API:HO,InlineToolbarAPI:WO,ListenersAPI:GO,NotifierAPI:XO,ReadOnlyAPI:JO,SanitizerAPI:oR,SaverAPI:sR,SelectionAPI:iR,StylesAPI:aR,ToolbarAPI:lR,TooltipAPI:uR,UiAPI:fR,BlockSettings:TR,ConversionToolbar:en,Toolbar:AR,InlineToolbar:LR,BlockEvents:BR,BlockManager:MR,BlockSelection:DR,Caret:Rc,CrossBlockSelection:FR,DragNDrop:UR,ModificationsObserver:$R,Paste:zS,ReadOnly:zR,RectangleSelection:$i,Renderer:VR,Saver:HR,Tools:KS,UI:nM};class oM{constructor(e){this.moduleInstances={},this.eventsDispatcher=new zd;let n,r;this.isReady=new Promise((o,s)=>{n=o,r=s}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),hn("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:s}=this.moduleInstances;s.setToBlock(o.blocks[0],s.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(o=>{he(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;ut(e)?this.config={...e}:this.config={holder:e},Uh(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=wS.VERBOSE),EO(this.config.logLevel),Uh(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(xn(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Lt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(Zr(n)&&!$.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&ut(n)&&!$.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof jS)throw new Error(r.message);he(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(rM).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){he("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class vo{static get version(){return"2.27.2"}constructor(e){let n=()=>{};ut(e)&&Le(e.onReady)&&(n=e.onReady);const r=new oM(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{Le(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,s])=>{Object.entries(s).forEach(([i,a])=>{this[a]=e.moduleInstances.API.methods[o][i]})})}}var YS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=14)}([function(n,r,o){var s=o(5),i=o(6),a=o(7),l=o(9);n.exports=function(c,u){return s(c)||i(c,u)||a(c,u)||l()}},function(n,r){function o(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=o=function(i){return typeof i}:n.exports=o=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},o(s)}n.exports=o},function(n,r){n.exports=function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}},function(n,r){function o(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}n.exports=function(s,i,a){return i&&o(s.prototype,i),a&&o(s,a),s}},function(n,r){function o(s,i,a){var l,c,u,f,h;function y(){var b=Date.now()-f;b<i&&b>=0?l=setTimeout(y,i-b):(l=null,a||(h=s.apply(u,c),u=c=null))}i==null&&(i=100);var g=function(){u=this,c=arguments,f=Date.now();var b=a&&!l;return l||(l=setTimeout(y,i)),b&&(h=s.apply(u,c),u=c=null),h};return g.clear=function(){l&&(clearTimeout(l),l=null)},g.flush=function(){l&&(h=s.apply(u,c),u=c=null,clearTimeout(l),l=null)},g}o.debounce=o,n.exports=o},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,s){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var i=[],a=!0,l=!1,c=void 0;try{for(var u,f=o[Symbol.iterator]();!(a=(u=f.next()).done)&&(i.push(u.value),!s||i.length!==s);a=!0);}catch(h){l=!0,c=h}finally{try{a||f.return==null||f.return()}finally{if(l)throw c}}return i}}},function(n,r,o){var s=o(8);n.exports=function(i,a){if(i){if(typeof i=="string")return s(i,a);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?s(i,a):void 0}}},function(n,r){n.exports=function(o,s){(s==null||s>o.length)&&(s=o.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=o[i];return a}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){var s=o(11),i=o(12);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(x){if(p[x]===void 0){var k=document.querySelector(x);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}p[x]=k}return p[x]}}(),l=[];function c(p){for(var x=-1,k=0;k<l.length;k++)if(l[k].identifier===p){x=k;break}return x}function u(p,x){for(var k={},N=[],j=0;j<p.length;j++){var C=p[j],S=x.base?C[0]+x.base:C[0],_=k[S]||0,T="".concat(S," ").concat(_);k[S]=_+1;var I=c(T),P={css:C[1],media:C[2],sourceMap:C[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function f(p){var x=document.createElement("style"),k=p.attributes||{};if(k.nonce===void 0){var N=o.nc;N&&(k.nonce=N)}if(Object.keys(k).forEach(function(C){x.setAttribute(C,k[C])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,y=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,k,N){var j=k?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=y(x,j);else{var C=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(C,S[x]):p.appendChild(C)}}function b(p,x,k){var N=k.css,j=k.media,C=k.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),C&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,v=0;function m(p,x){var k,N,j;if(x.singleton){var C=v++;k=w||(w=f(x)),N=g.bind(null,k,C,!1),j=g.bind(null,k,C,!0)}else k=f(x),N=b.bind(null,k,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(k)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=i());var k=u(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<k.length;j++){var C=c(k[j]);l[C].references--}for(var S=u(N,x),_=0;_<k.length;_++){var T=c(k[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}k=S}}}},function(n,r,o){(r=o(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var y=(b=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(v," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[f].concat(g).concat([y]).join(`
`)}var b,w,v;return[f].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var y=0;y<a.length;y++){var g=[].concat(a[y]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return b});var s=o(1),i=o.n(s),a=o(0),l=o.n(a),c=o(2),u=o.n(c),f=o(3),h=o.n(f),y={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(w){var v=l()(w,2),m=v[0],p=v[1];if(!p&&m)return m;var x={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return p=p.slice(1).split("&").map(function(k){var N=k.split("="),j=l()(N,2),C=j[0],S=j[1];return m||C!=="v"?x[C]?S==="LL"||S.startsWith("RDMM")||S.startsWith("FL")?null:"".concat(x[C],"=").concat(S):null:(m=S,null)}).filter(function(k){return!!k}),m+"?"+p.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(w){return w.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(w){return w.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(w){return w.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(w){return w.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(w){return w[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(w){return w.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},g=(o(10),o(4)),b=function(){function w(v){var m=v.data,p=v.api,x=v.readOnly;u()(this,w),this.api=p,this._data={},this.element=null,this.readOnly=x,this.data=m}return h()(w,[{key:"render",value:function(){var v=this;if(!this.data.service){var m=document.createElement("div");return this.element=m,m}var p=w.services[this.data.service].html,x=document.createElement("div"),k=document.createElement("div"),N=document.createElement("template"),j=this.createPreloader();x.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),k.classList.add(this.CSS.input,this.CSS.caption),x.appendChild(j),k.contentEditable=!this.readOnly,k.dataset.placeholder=this.api.i18n.t("Enter a caption"),k.innerHTML=this.data.caption||"",N.innerHTML=p,N.content.firstChild.setAttribute("src",this.data.embed),N.content.firstChild.classList.add(this.CSS.content);var C=this.embedIsReady(x);return x.appendChild(N.content.firstChild),x.appendChild(k),C.then(function(){x.classList.remove(v.CSS.containerLoading)}),this.element=x,x}},{key:"createPreloader",value:function(){var v=document.createElement("preloader"),m=document.createElement("div");return m.textContent=this.data.source,v.classList.add(this.CSS.preloader),m.classList.add(this.CSS.url),v.appendChild(m),v}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(v){var m=v.detail,p=m.key,x=m.data,k=w.services[p],N=k.regex,j=k.embedUrl,C=k.width,S=k.height,_=k.id,T=_===void 0?function(L){return L.shift()}:_,I=N.exec(x).slice(1),P=j.replace(/<%= remote_id %>/g,T(I));this.data={service:p,source:x,embed:P,width:C,height:S}}},{key:"embedIsReady",value:function(v){var m=null;return new Promise(function(p,x){(m=new MutationObserver(Object(g.debounce)(p,450))).observe(v,{childList:!0,subtree:!0})}).then(function(){m.disconnect()})}},{key:"data",set:function(v){if(!(v instanceof Object))throw Error("Embed Tool data should be object");var m=v.service,p=v.source,x=v.embed,k=v.width,N=v.height,j=v.caption,C=j===void 0?"":j;this._data={service:m||this.data.service,source:p||this.data.source,embed:x||this.data.embed,width:k||this.data.width,height:N||this.data.height,caption:C||this.data.caption||""};var S=this.element;S&&S.parentNode.replaceChild(this.render(),S)},get:function(){if(this.element){var v=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=v?v.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(v){var m=v.config,p=(m===void 0?{}:m).services,x=p===void 0?{}:p,k=Object.entries(y),N=Object.entries(x).filter(function(C){var S=l()(C,2),_=(S[0],S[1]);return typeof _=="boolean"&&_===!0}).map(function(C){return l()(C,1)[0]}),j=Object.entries(x).filter(function(C){var S=l()(C,2),_=(S[0],S[1]);return i()(_)==="object"}).filter(function(C){var S=l()(C,2),_=(S[0],S[1]);return w.checkServiceConfig(_)}).map(function(C){var S=l()(C,2),_=S[0],T=S[1];return[_,{regex:T.regex,embedUrl:T.embedUrl,html:T.html,height:T.height,width:T.width,id:T.id}]});N.length&&(k=k.filter(function(C){var S=l()(C,1)[0];return N.includes(S)})),k=k.concat(j),w.services=k.reduce(function(C,S){var _=l()(S,2),T=_[0],I=_[1];return T in C?(C[T]=Object.assign({},C[T],I),C):(C[T]=I,C)},{}),w.patterns=k.reduce(function(C,S){var _=l()(S,2),T=_[0],I=_[1];return C[T]=I.regex,C},{})}},{key:"checkServiceConfig",value:function(v){var m=v.regex,p=v.embedUrl,x=v.html,k=v.height,N=v.width,j=v.id,C=m&&m instanceof RegExp&&p&&typeof p=="string"&&x&&typeof x=="string";return C=(C=(C=C&&(j===void 0||j instanceof Function))&&(k===void 0||Number.isFinite(k)))&&(N===void 0||Number.isFinite(N))}},{key:"pasteConfig",get:function(){return{patterns:w.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),w}()}]).default})})(YS);var sM=YS.exports;const iM=Fn(sM);var XS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=4)}([function(n,r,o){var s=o(1),i=o(2);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1};s(i,a),n.exports=i.locals||{}},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(x){if(p[x]===void 0){var k=document.querySelector(x);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}p[x]=k}return p[x]}}(),l=[];function c(p){for(var x=-1,k=0;k<l.length;k++)if(l[k].identifier===p){x=k;break}return x}function u(p,x){for(var k={},N=[],j=0;j<p.length;j++){var C=p[j],S=x.base?C[0]+x.base:C[0],_=k[S]||0,T="".concat(S," ").concat(_);k[S]=_+1;var I=c(T),P={css:C[1],media:C[2],sourceMap:C[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function f(p){var x=document.createElement("style"),k=p.attributes||{};if(k.nonce===void 0){var N=o.nc;N&&(k.nonce=N)}if(Object.keys(k).forEach(function(C){x.setAttribute(C,k[C])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,y=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,k,N){var j=k?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=y(x,j);else{var C=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(C,S[x]):p.appendChild(C)}}function b(p,x,k){var N=k.css,j=k.media,C=k.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),C&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,v=0;function m(p,x){var k,N,j;if(x.singleton){var C=v++;k=w||(w=f(x)),N=g.bind(null,k,C,!1),j=g.bind(null,k,C,!0)}else k=f(x),N=b.bind(null,k,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(k)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=i());var k=u(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<k.length;j++){var C=c(k[j]);l[C].references--}for(var S=u(N,x),_=0;_<k.length;_++){var T=c(k[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}k=S}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var y=(b=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(v," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[f].concat(g).concat([y]).join(`
`)}var b,w,v;return[f].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var y=0;y<a.length;y++){var g=[].concat(a[y]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){o.r(r),o.d(r,"default",function(){return y}),o(0);const s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function i(g){return function(b){if(Array.isArray(b))return a(b)}(g)||function(b){if(typeof Symbol<"u"&&Symbol.iterator in Object(b))return Array.from(b)}(g)||function(b,w){if(b){if(typeof b=="string")return a(b,w);var v=Object.prototype.toString.call(b).slice(8,-1);if(v==="Object"&&b.constructor&&(v=b.constructor.name),v==="Map"||v==="Set")return Array.from(b);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return a(b,w)}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(g,b){(b==null||b>g.length)&&(b=g.length);for(var w=0,v=new Array(b);w<b;w++)v[w]=g[w];return v}function l(g,b){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);b&&(v=v.filter(function(m){return Object.getOwnPropertyDescriptor(g,m).enumerable})),w.push.apply(w,v)}return w}function c(g){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?l(Object(w),!0).forEach(function(v){u(g,v,w[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):l(Object(w)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(w,v))})}return g}function u(g,b,w){return b in g?Object.defineProperty(g,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[b]=w,g}function f(g,b){for(var w=0;w<b.length;w++){var v=b[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}function h(g,b,w){return b&&f(g.prototype,b),w&&f(g,w),g}var y=function(){function g(b){var w=b.data,v=b.config,m=b.api,p=b.readOnly;(function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")})(this,g),this._elements={wrapper:null},this.api=m,this.readOnly=p,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:s,default:v.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:v.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(x){return x.default===!0}).name,items:[]},this.data=w}return h(g,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:s,title:"List"}}}]),h(g,[{key:"render",value:function(){var b=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(w){b._elements.wrapper.appendChild(b._make("li",b.CSS.item,{innerHTML:w}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(w){switch(w.keyCode){case 13:b.getOutofList(w);break;case 8:b.backspace(w)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var b=this;return this.settings.map(function(w){return c(c({},w),{},{isActive:b._data.style===w.name,closeOnActivate:!0,onActivate:function(){return b.toggleTune(w.name)}})})}},{key:"onPaste",value:function(b){var w=b.detail.data;this.data=this.pasteHandler(w)}},{key:"makeMainTag",value:function(b){var w=b==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,v=b==="ordered"?"ol":"ul";return this._make(v,[this.CSS.baseBlock,this.CSS.wrapper,w],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(b){for(var w=this.makeMainTag(b);this._elements.wrapper.hasChildNodes();)w.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(w),this._elements.wrapper=w,this._data.style=b}},{key:"_make",value:function(b){var w,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(b);Array.isArray(v)?(w=p.classList).add.apply(w,i(v)):v&&p.classList.add(v);for(var x in m)p[x]=m[x];return p}},{key:"getOutofList",value:function(b){var w=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(w.length<2)){var v=w[w.length-1],m=this.currentItem;m!==v||v.textContent.trim().length||(m.parentElement.removeChild(m),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),b.preventDefault(),b.stopPropagation())}}},{key:"backspace",value:function(b){var w=this._elements.wrapper.querySelectorAll("."+this.CSS.item),v=w[0];v&&w.length<2&&!v.innerHTML.replace("<br>"," ").trim()&&b.preventDefault()}},{key:"selectItem",value:function(b){b.preventDefault();var w=window.getSelection(),v=w.anchorNode.parentNode.closest("."+this.CSS.item),m=new Range;m.selectNodeContents(v),w.removeAllRanges(),w.addRange(m)}},{key:"pasteHandler",value:function(b){var w,v=b.tagName;switch(v){case"OL":w="ordered";break;case"UL":case"LI":w="unordered"}var m={style:w,items:[]};if(v==="LI")m.items=[b.innerHTML];else{var p=Array.from(b.querySelectorAll("LI"));m.items=p.map(function(x){return x.innerHTML}).filter(function(x){return!!x.trim()})}return m}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(b){b||(b={}),this._data.style=b.style||this.settings.find(function(v){return v.default===!0}).name,this._data.items=b.items||[];var w=this._elements.wrapper;w&&w.parentNode.replaceChild(this.render(),w)},get:function(){this._data.items=[];for(var b=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),w=0;w<b.length;w++)b[w].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(b[w].innerHTML);return this._data}},{key:"currentItem",get:function(){var b=window.getSelection().anchorNode;return b.nodeType!==Node.ELEMENT_NODE&&(b=b.parentNode),b.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(b){return b.items.join(". ")},import:function(b){return{items:[b],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),g}()}]).default})})(XS);var aM=XS.exports;const lM=Fn(aM);var JS={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=9)}([function(n,r){function o(s,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}n.exports=function(s,i,a){return i&&o(s.prototype,i),a&&o(s,a),s}},function(n,r,o){n.exports=function(s){var i={};function a(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return s[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=s,a.c=i,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var f in l)a.d(u,f,(function(h){return l[h]}).bind(null,f));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(s,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a},function(s,i,a){(function(l){var c=a(2),u=setTimeout;function f(){}function h(p){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(p,this)}function y(p,x){for(;p._state===3;)p=p._value;p._state!==0?(p._handled=!0,h._immediateFn(function(){var k=p._state===1?x.onFulfilled:x.onRejected;if(k!==null){var N;try{N=k(p._value)}catch(j){return void b(x.promise,j)}g(x.promise,N)}else(p._state===1?g:b)(x.promise,p._value)})):p._deferreds.push(x)}function g(p,x){try{if(x===p)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var k=x.then;if(x instanceof h)return p._state=3,p._value=x,void w(p);if(typeof k=="function")return void m((N=k,j=x,function(){N.apply(j,arguments)}),p)}p._state=1,p._value=x,w(p)}catch(C){b(p,C)}var N,j}function b(p,x){p._state=2,p._value=x,w(p)}function w(p){p._state===2&&p._deferreds.length===0&&h._immediateFn(function(){p._handled||h._unhandledRejectionFn(p._value)});for(var x=0,k=p._deferreds.length;x<k;x++)y(p,p._deferreds[x]);p._deferreds=null}function v(p,x,k){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof x=="function"?x:null,this.promise=k}function m(p,x){var k=!1;try{p(function(N){k||(k=!0,g(x,N))},function(N){k||(k=!0,b(x,N))})}catch(N){if(k)return;k=!0,b(x,N)}}h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,x){var k=new this.constructor(f);return y(this,new v(p,x,k)),k},h.prototype.finally=c.a,h.all=function(p){return new h(function(x,k){if(!p||p.length===void 0)throw new TypeError("Promise.all accepts an array");var N=Array.prototype.slice.call(p);if(N.length===0)return x([]);var j=N.length;function C(_,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function")return void I.call(T,function(P){C(_,P)},k)}N[_]=T,--j==0&&x(N)}catch(P){k(P)}}for(var S=0;S<N.length;S++)C(S,N[S])})},h.resolve=function(p){return p&&typeof p=="object"&&p.constructor===h?p:new h(function(x){x(p)})},h.reject=function(p){return new h(function(x,k){k(p)})},h.race=function(p){return new h(function(x,k){for(var N=0,j=p.length;N<j;N++)p[N].then(x,k)})},h._immediateFn=typeof l=="function"&&function(p){l(p)}||function(p){u(p,0)},h._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},i.a=h}).call(this,a(5).setImmediate)},function(s,i,a){i.a=function(l){var c=this.constructor;return this.then(function(u){return c.resolve(l()).then(function(){return u})},function(u){return c.resolve(l()).then(function(){return c.reject(u)})})}},function(s,i,a){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}a(4);var c,u,f,h,y,g,b,w=a(8),v=(u=function(m){return new Promise(function(p,x){m=h(m),(m=y(m)).beforeSend&&m.beforeSend();var k=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");k.open(m.method,m.url),k.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(j){var C=m.headers[j];k.setRequestHeader(j,C)});var N=m.ratio;k.upload.addEventListener("progress",function(j){var C=Math.round(j.loaded/j.total*100),S=Math.ceil(C*N/100);m.progress(Math.min(S,100))},!1),k.addEventListener("progress",function(j){var C=Math.round(j.loaded/j.total*100),S=Math.ceil(C*(100-N)/100)+N;m.progress(Math.min(S,100))},!1),k.onreadystatechange=function(){if(k.readyState===4){var j=k.response;try{j=JSON.parse(j)}catch{}var C=w.parseHeaders(k.getAllResponseHeaders()),S={body:j,code:k.status,headers:C};b(k.status)?p(S):x(S)}},k.send(m.data)})},f=function(m){return m.method="POST",u(m)},h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&l(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(c).includes(m.type)))throw new Error("`type` must be taken from module's «contentType» library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(p){},m.beforeSend=m.beforeSend||function(p){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},y=function(m){switch(m.method){case"GET":var p=g(m.data,c.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+p:m.url+"?"+p;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var x=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(m);(w.isFormData(m.data)||w.isFormElement(m.data))&&(x=c.FORM),m.data=g(m.data,x),x!==v.contentType.FORM&&(m.headers["content-type"]=x)}return m},g=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return w.urlEncode(m);case c.JSON:return w.jsonEncode(m);case c.FORM:return w.formEncode(m);default:return m}},b=function(m){return m>=200&&m<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(m){return m.method="GET",u(m)},post:f,transport:function(m){return m=h(m),w.selectFiles(m).then(function(p){for(var x=new FormData,k=0;k<p.length;k++)x.append(m.fieldName,p[k],p[k].name);w.isObject(m.data)&&Object.keys(m.data).forEach(function(j){var C=m.data[j];x.append(j,C)});var N=m.beforeSend;return m.beforeSend=function(){return N(p)},m.data=x,f(m)})},selectFiles:function(m){return delete(m=h(m)).beforeSend,w.selectFiles(m)}});s.exports=v},function(s,i,a){a.r(i);var l=a(1);window.Promise=window.Promise||l.a},function(s,i,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,u=Function.prototype.apply;function f(h,y){this._id=h,this._clearFn=y}i.setTimeout=function(){return new f(u.call(setTimeout,c,arguments),clearTimeout)},i.setInterval=function(){return new f(u.call(setInterval,c,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h&&h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(c,this._id)},i.enroll=function(h,y){clearTimeout(h._idleTimeoutId),h._idleTimeout=y},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var y=h._idleTimeout;y>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},y))},a(6),i.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(s,i,a){(function(l,c){(function(u,f){if(!u.setImmediate){var h,y,g,b,w,v=1,m={},p=!1,x=u.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(u);k=k&&k.setTimeout?k:u,{}.toString.call(u.process)==="[object process]"?h=function(C){c.nextTick(function(){j(C)})}:function(){if(u.postMessage&&!u.importScripts){var C=!0,S=u.onmessage;return u.onmessage=function(){C=!1},u.postMessage("","*"),u.onmessage=S,C}}()?(b="setImmediate$"+Math.random()+"$",w=function(C){C.source===u&&typeof C.data=="string"&&C.data.indexOf(b)===0&&j(+C.data.slice(b.length))},u.addEventListener?u.addEventListener("message",w,!1):u.attachEvent("onmessage",w),h=function(C){u.postMessage(b+C,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(C){j(C.data)},h=function(C){g.port2.postMessage(C)}):x&&"onreadystatechange"in x.createElement("script")?(y=x.documentElement,h=function(C){var S=x.createElement("script");S.onreadystatechange=function(){j(C),S.onreadystatechange=null,y.removeChild(S),S=null},y.appendChild(S)}):h=function(C){setTimeout(j,0,C)},k.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),_=0;_<S.length;_++)S[_]=arguments[_+1];var T={callback:C,args:S};return m[v]=T,h(v),v++},k.clearImmediate=N}function N(C){delete m[C]}function j(C){if(p)setTimeout(j,0,C);else{var S=m[C];if(S){p=!0;try{(function(_){var T=_.callback,I=_.args;switch(I.length){case 0:T();break;case 1:T(I[0]);break;case 2:T(I[0],I[1]);break;case 3:T(I[0],I[1],I[2]);break;default:T.apply(void 0,I)}})(S)}finally{N(C),p=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(s,i){var a,l,c=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(k){if(a===setTimeout)return setTimeout(k,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(k,0);try{return a(k,0)}catch{try{return a.call(null,k,0)}catch{return a.call(this,k,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{l=typeof clearTimeout=="function"?clearTimeout:f}catch{l=f}})();var y,g=[],b=!1,w=-1;function v(){b&&y&&(b=!1,y.length?g=y.concat(g):w=-1,g.length&&m())}function m(){if(!b){var k=h(v);b=!0;for(var N=g.length;N;){for(y=g,g=[];++w<N;)y&&y[w].run();w=-1,N=g.length}y=null,b=!1,function(j){if(l===clearTimeout)return clearTimeout(j);if((l===f||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(j);try{l(j)}catch{try{return l.call(null,j)}catch{return l.call(this,j)}}}(k)}}function p(k,N){this.fun=k,this.array=N}function x(){}c.nextTick=function(k){var N=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)N[j-1]=arguments[j];g.push(new p(k,N)),g.length!==1||b||h(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(k){return[]},c.binding=function(k){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(k){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(s,i,a){function l(u,f){for(var h=0;h<f.length;h++){var y=f[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}var c=a(9);s.exports=function(){function u(){(function(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}var f,h;return f=u,(h=[{key:"urlEncode",value:function(y){return c(y)}},{key:"jsonEncode",value:function(y){return JSON.stringify(y)}},{key:"formEncode",value:function(y){if(this.isFormData(y))return y;if(this.isFormElement(y))return new FormData(y);if(this.isObject(y)){var g=new FormData;return Object.keys(y).forEach(function(b){var w=y[b];g.append(b,w)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(y){return Object.prototype.toString.call(y)==="[object Object]"}},{key:"isFormData",value:function(y){return y instanceof FormData}},{key:"isFormElement",value:function(y){return y instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,b){var w=document.createElement("INPUT");w.type="file",y.multiple&&w.setAttribute("multiple","multiple"),y.accept&&w.setAttribute("accept",y.accept),w.style.display="none",document.body.appendChild(w),w.addEventListener("change",function(v){var m=v.target.files;g(m),document.body.removeChild(w)},!1),w.click()})}},{key:"parseHeaders",value:function(y){var g=y.trim().split(/[\r\n]+/),b={};return g.forEach(function(w){var v=w.split(": "),m=v.shift(),p=v.join(": ");m&&(b[m]=p)}),b}}])&&l(f,h),u}()},function(s,i){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,u,f,h){return u=u||null,f=f||"&",h=h||null,c?function(y){for(var g=new Array,b=0;b<y.length;b++)y[b]&&g.push(y[b]);return g}(Object.keys(c).map(function(y){var g,b,w=y;if(h&&(w=h+"["+w+"]"),typeof c[y]=="object"&&c[y]!==null)g=l(c[y],null,f,w);else{u&&(b=w,w=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(w):w);var v=c[y];v=(v=(v=(v=v===!0?"1":v)===!1?"0":v)===0?"0":v)||"",g=a(w)+"="+a(v)}return g})).join(f).replace(/[!'()*]/g,""):""};s.exports=l}])},function(n,r){n.exports=function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}},function(n,r,o){n.exports=o(10)},function(n,r){n.exports=function(o,s){(s==null||s>o.length)&&(s=o.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=o[i];return a}},function(n,r,o){var s=o(4);n.exports=function(i,a){if(i){if(typeof i=="string")return s(i,a);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?s(i,a):void 0}}},function(n,r){function o(s,i,a,l,c,u,f){try{var h=s[u](f),y=h.value}catch(g){return void a(g)}h.done?i(y):Promise.resolve(y).then(l,c)}n.exports=function(s){return function(){var i=this,a=arguments;return new Promise(function(l,c){var u=s.apply(i,a);function f(y){o(u,l,c,f,h,"next",y)}function h(y){o(u,l,c,f,h,"throw",y)}f(void 0)})}}},function(n,r,o){var s=o(15),i=o(16),a=o(5),l=o(17);n.exports=function(c){return s(c)||i(c)||a(c)||l()}},function(n,r,o){var s=o(18),i=o(19),a=o(5),l=o(20);n.exports=function(c,u){return s(c)||i(c,u)||a(c,u)||l()}},function(n,r,o){n.exports=o(21)},function(n,r,o){var s=function(i){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function y(A,B,M,O){var R=B&&B.prototype instanceof w?B:w,D=Object.create(R.prototype),U=new I(O||[]);return D._invoke=function(G,ie,J){var we="suspendedStart";return function(ge,ye){if(we==="executing")throw new Error("Generator is already running");if(we==="completed"){if(ge==="throw")throw ye;return L()}for(J.method=ge,J.arg=ye;;){var $e=J.delegate;if($e){var He=S($e,J);if(He){if(He===b)continue;return He}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(we==="suspendedStart")throw we="completed",J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);we="executing";var Pe=g(G,ie,J);if(Pe.type==="normal"){if(we=J.done?"completed":"suspendedYield",Pe.arg===b)continue;return{value:Pe.arg,done:J.done}}Pe.type==="throw"&&(we="completed",J.method="throw",J.arg=Pe.arg)}}}(A,M,U),D}function g(A,B,M){try{return{type:"normal",arg:A.call(B,M)}}catch(O){return{type:"throw",arg:O}}}i.wrap=y;var b={};function w(){}function v(){}function m(){}var p={};p[u]=function(){return this};var x=Object.getPrototypeOf,k=x&&x(x(P([])));k&&k!==a&&l.call(k,u)&&(p=k);var N=m.prototype=w.prototype=Object.create(p);function j(A){["next","throw","return"].forEach(function(B){A[B]=function(M){return this._invoke(B,M)}})}function C(A,B){var M;this._invoke=function(O,R){function D(){return new B(function(U,G){(function ie(J,we,ge,ye){var $e=g(A[J],A,we);if($e.type!=="throw"){var He=$e.arg,Pe=He.value;return Pe&&typeof Pe=="object"&&l.call(Pe,"__await")?B.resolve(Pe.__await).then(function(Oe){ie("next",Oe,ge,ye)},function(Oe){ie("throw",Oe,ge,ye)}):B.resolve(Pe).then(function(Oe){He.value=Oe,ge(He)},function(Oe){return ie("throw",Oe,ge,ye)})}ye($e.arg)})(O,R,U,G)})}return M=M?M.then(D,D):D()}}function S(A,B){var M=A.iterator[B.method];if(M===void 0){if(B.delegate=null,B.method==="throw"){if(A.iterator.return&&(B.method="return",B.arg=void 0,S(A,B),B.method==="throw"))return b;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var O=g(M,A.iterator,B.arg);if(O.type==="throw")return B.method="throw",B.arg=O.arg,B.delegate=null,b;var R=O.arg;return R?R.done?(B[A.resultName]=R.value,B.next=A.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,b):R:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,b)}function _(A){var B={tryLoc:A[0]};1 in A&&(B.catchLoc=A[1]),2 in A&&(B.finallyLoc=A[2],B.afterLoc=A[3]),this.tryEntries.push(B)}function T(A){var B=A.completion||{};B.type="normal",delete B.arg,A.completion=B}function I(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(_,this),this.reset(!0)}function P(A){if(A){var B=A[u];if(B)return B.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var M=-1,O=function R(){for(;++M<A.length;)if(l.call(A,M))return R.value=A[M],R.done=!1,R;return R.value=void 0,R.done=!0,R};return O.next=O}}return{next:L}}function L(){return{value:void 0,done:!0}}return v.prototype=N.constructor=m,m.constructor=v,m[h]=v.displayName="GeneratorFunction",i.isGeneratorFunction=function(A){var B=typeof A=="function"&&A.constructor;return!!B&&(B===v||(B.displayName||B.name)==="GeneratorFunction")},i.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,m):(A.__proto__=m,h in A||(A[h]="GeneratorFunction")),A.prototype=Object.create(N),A},i.awrap=function(A){return{__await:A}},j(C.prototype),C.prototype[f]=function(){return this},i.AsyncIterator=C,i.async=function(A,B,M,O,R){R===void 0&&(R=Promise);var D=new C(y(A,B,M,O),R);return i.isGeneratorFunction(B)?D:D.next().then(function(U){return U.done?U.value:D.next()})},j(N),N[h]="Generator",N[u]=function(){return this},N.toString=function(){return"[object Generator]"},i.keys=function(A){var B=[];for(var M in A)B.push(M);return B.reverse(),function O(){for(;B.length;){var R=B.pop();if(R in A)return O.value=R,O.done=!1,O}return O.done=!0,O}},i.values=P,I.prototype={constructor:I,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!A)for(var B in this)B.charAt(0)==="t"&&l.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var B=this;function M(ie,J){return D.type="throw",D.arg=A,B.next=ie,J&&(B.method="next",B.arg=void 0),!!J}for(var O=this.tryEntries.length-1;O>=0;--O){var R=this.tryEntries[O],D=R.completion;if(R.tryLoc==="root")return M("end");if(R.tryLoc<=this.prev){var U=l.call(R,"catchLoc"),G=l.call(R,"finallyLoc");if(U&&G){if(this.prev<R.catchLoc)return M(R.catchLoc,!0);if(this.prev<R.finallyLoc)return M(R.finallyLoc)}else if(U){if(this.prev<R.catchLoc)return M(R.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return M(R.finallyLoc)}}}},abrupt:function(A,B){for(var M=this.tryEntries.length-1;M>=0;--M){var O=this.tryEntries[M];if(O.tryLoc<=this.prev&&l.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var R=O;break}}R&&(A==="break"||A==="continue")&&R.tryLoc<=B&&B<=R.finallyLoc&&(R=null);var D=R?R.completion:{};return D.type=A,D.arg=B,R?(this.method="next",this.next=R.finallyLoc,b):this.complete(D)},complete:function(A,B){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&B&&(this.next=B),b},finish:function(A){for(var B=this.tryEntries.length-1;B>=0;--B){var M=this.tryEntries[B];if(M.finallyLoc===A)return this.complete(M.completion,M.afterLoc),T(M),b}},catch:function(A){for(var B=this.tryEntries.length-1;B>=0;--B){var M=this.tryEntries[B];if(M.tryLoc===A){var O=M.completion;if(O.type==="throw"){var R=O.arg;T(M)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(A,B,M){return this.delegate={iterator:P(A),resultName:B,nextLoc:M},this.method==="next"&&(this.arg=void 0),b}},i}(n.exports);try{regeneratorRuntime=s}catch{Function("r","regeneratorRuntime = r")(s)}},function(n,r,o){var s=o(12),i=o(13);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[n.i,i,""]]);var a={insert:"head",singleton:!1},l=(s(i,a),i.locals?i.locals:{});n.exports=l},function(n,r,o){var s,i=function(){return s===void 0&&(s=!!(window&&document&&document.all&&!window.atob)),s},a=function(){var p={};return function(x){if(p[x]===void 0){var k=document.querySelector(x);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}p[x]=k}return p[x]}}(),l=[];function c(p){for(var x=-1,k=0;k<l.length;k++)if(l[k].identifier===p){x=k;break}return x}function u(p,x){for(var k={},N=[],j=0;j<p.length;j++){var C=p[j],S=x.base?C[0]+x.base:C[0],_=k[S]||0,T="".concat(S," ").concat(_);k[S]=_+1;var I=c(T),P={css:C[1],media:C[2],sourceMap:C[3]};I!==-1?(l[I].references++,l[I].updater(P)):l.push({identifier:T,updater:m(P,x),references:1}),N.push(T)}return N}function f(p){var x=document.createElement("style"),k=p.attributes||{};if(k.nonce===void 0){var N=o.nc;N&&(k.nonce=N)}if(Object.keys(k).forEach(function(C){x.setAttribute(C,k[C])}),typeof p.insert=="function")p.insert(x);else{var j=a(p.insert||"head");if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(x)}return x}var h,y=(h=[],function(p,x){return h[p]=x,h.filter(Boolean).join(`
`)});function g(p,x,k,N){var j=k?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(p.styleSheet)p.styleSheet.cssText=y(x,j);else{var C=document.createTextNode(j),S=p.childNodes;S[x]&&p.removeChild(S[x]),S.length?p.insertBefore(C,S[x]):p.appendChild(C)}}function b(p,x,k){var N=k.css,j=k.media,C=k.sourceMap;if(j?p.setAttribute("media",j):p.removeAttribute("media"),C&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),p.styleSheet)p.styleSheet.cssText=N;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(N))}}var w=null,v=0;function m(p,x){var k,N,j;if(x.singleton){var C=v++;k=w||(w=f(x)),N=g.bind(null,k,C,!1),j=g.bind(null,k,C,!0)}else k=f(x),N=b.bind(null,k,x),j=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(k)};return N(p),function(S){if(S){if(S.css===p.css&&S.media===p.media&&S.sourceMap===p.sourceMap)return;N(p=S)}else j()}}n.exports=function(p,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=i());var k=u(p=p||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var j=0;j<k.length;j++){var C=c(k[j]);l[C].references--}for(var S=u(N,x),_=0;_<k.length;_++){var T=c(k[_]);l[T].references===0&&(l[T].updater(),l.splice(T,1))}k=S}}}},function(n,r,o){(r=o(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(s){var i=[];return i.toString=function(){return this.map(function(a){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var y=(b=h,w=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),"/*# ".concat(v," */")),g=h.sources.map(function(m){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(m," */")});return[f].concat(g).concat([y]).join(`
`)}var b,w,v;return[f].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},i.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var y=0;y<a.length;y++){var g=[].concat(a[y]);c&&u[g[0]]||(l&&(g[2]?g[2]="".concat(l," and ").concat(g[2]):g[2]=l),i.push(g))}},i}},function(n,r,o){var s=o(4);n.exports=function(i){if(Array.isArray(i))return s(i)}},function(n,r){n.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(o){if(Array.isArray(o))return o}},function(n,r){n.exports=function(o,s){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var i=[],a=!0,l=!1,c=void 0;try{for(var u,f=o[Symbol.iterator]();!(a=(u=f.next()).done)&&(i.push(u.value),!s||i.length!==s);a=!0);}catch(h){l=!0,c=h}finally{try{a||f.return==null||f.return()}finally{if(l)throw c}}return i}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,o){o.r(r),o.d(r,"default",function(){return C});var s=o(3),i=o.n(s),a=o(6),l=o.n(a),c=o(2),u=o.n(c),f=o(0),h=o.n(f);o(11);const y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var g=o(7),b=o.n(g);function w(S){var _,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=document.createElement(S);Array.isArray(T)?(_=P.classList).add.apply(_,b()(T)):T&&P.classList.add(T);for(var L in I)P[L]=I[L];return P}var v=function(){function S(_){var T=_.api,I=_.config,P=_.onSelectFile,L=_.readOnly;u()(this,S),this.api=T,this.config=I,this.onSelectFile=P,this.readOnly=L,this.nodes={wrapper:w("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:w("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:w("div",this.CSS.imagePreloader),caption:w("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(S,[{key:"render",value:function(_){return _.file&&Object.keys(_.file).length!==0?this.toggleStatus(S.status.UPLOADING):this.toggleStatus(S.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var _=this,T=w("div",[this.CSS.button]);return T.innerHTML=this.config.buttonContent||"".concat(y," ").concat(this.api.i18n.t("Select an Image")),T.addEventListener("click",function(){_.onSelectFile()}),T}},{key:"showPreloader",value:function(_){this.nodes.imagePreloader.style.backgroundImage="url(".concat(_,")"),this.toggleStatus(S.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(S.status.EMPTY)}},{key:"fillImage",value:function(_){var T=this,I=/\.mp4$/.test(_)?"VIDEO":"IMG",P={src:_},L="load";I==="VIDEO"&&(P.autoplay=!0,P.loop=!0,P.muted=!0,P.playsinline=!0,L="loadeddata"),this.nodes.imageEl=w(I,this.CSS.imageEl,P),this.nodes.imageEl.addEventListener(L,function(){T.toggleStatus(S.status.FILLED),T.nodes.imagePreloader&&(T.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(_){this.nodes.caption&&(this.nodes.caption.innerHTML=_)}},{key:"toggleStatus",value:function(_){for(var T in S.status)Object.prototype.hasOwnProperty.call(S.status,T)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(S.status[T]),_===S.status[T])}},{key:"applyTune",value:function(_,T){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(_),T)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),S}(),m=o(8),p=o.n(m),x=o(1),k=o.n(x);function N(S){return S&&typeof S.then=="function"}var j=function(){function S(_){var T=_.config,I=_.onUpload,P=_.onError;u()(this,S),this.config=T,this.onUpload=I,this.onError=P}return h()(S,[{key:"uploadSelectedFile",value:function(_){var T=this,I=_.onPreview,P=function(L){var A=new FileReader;A.readAsDataURL(L),A.onload=function(B){I(B.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?k.a.selectFiles({accept:this.config.types}).then(function(L){P(L[0]);var A=T.config.uploader.uploadByFile(L[0]);return N(A)||console.warn("Custom uploader method uploadByFile should return a Promise"),A}):k.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(L){P(L[0])},fieldName:this.config.field}).then(function(L){return L.body})).then(function(L){T.onUpload(L)}).catch(function(L){T.onError(L)})}},{key:"uploadByUrl",value:function(_){var T,I=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?N(T=this.config.uploader.uploadByUrl(_))||console.warn("Custom uploader method uploadByUrl should return a Promise"):T=k.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:_},this.config.additionalRequestData),type:k.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(P){return P.body}),T.then(function(P){I.onUpload(P)}).catch(function(P){I.onError(P)})}},{key:"uploadByFile",value:function(_,T){var I,P=this,L=T.onPreview,A=new FileReader;if(A.readAsDataURL(_),A.onload=function(M){L(M.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")N(I=this.config.uploader.uploadByFile(_))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var B=new FormData;B.append(this.config.field,_),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(M){var O=p()(M,2),R=O[0],D=O[1];B.append(R,D)}),I=k.a.post({url:this.config.endpoints.byFile,data:B,type:k.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(M){return M.body})}I.then(function(M){P.onUpload(M)}).catch(function(M){P.onError(M)})}}]),S}(),C=function(){function S(T){var I=this,P=T.data,L=T.config,A=T.api,B=T.readOnly;u()(this,S),this.api=A,this.readOnly=B,this.config={endpoints:L.endpoints||"",additionalRequestData:L.additionalRequestData||{},additionalRequestHeaders:L.additionalRequestHeaders||{},field:L.field||"image",types:L.types||"image/*",captionPlaceholder:this.api.i18n.t(L.captionPlaceholder||"Caption"),buttonContent:L.buttonContent||"",uploader:L.uploader||void 0,actions:L.actions||[]},this.uploader=new j({config:this.config,onUpload:function(M){return I.onUpload(M)},onError:function(M){return I.uploadingFailed(M)}}),this.ui=new v({api:A,config:this.config,onSelectFile:function(){I.uploader.uploadSelectedFile({onPreview:function(M){I.ui.showPreloader(M)}})},readOnly:B}),this._data={},this.data=P}var _;return h()(S,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:y,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(S,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(T){return T.file&&T.file.url}},{key:"save",value:function(){var T=this.ui.nodes.caption;return this._data.caption=T.innerHTML,this.data}},{key:"renderSettings",value:function(){var T=this;return S.tunes.concat(this.config.actions).map(function(I){return{icon:I.icon,label:T.api.i18n.t(I.title),name:I.name,toggle:I.toggle,isActive:T.data[I.name],onActivate:function(){typeof I.action!="function"?T.tuneToggled(I.name):I.action(I.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(_=l()(i.a.mark(function T(I){var P,L,A,B,M;return i.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:O.t0=I.type,O.next=O.t0==="tag"?3:O.t0==="pattern"?15:O.t0==="file"?18:21;break;case 3:if(P=I.detail.data,!/^blob:/.test(P.src)){O.next=13;break}return O.next=7,fetch(P.src);case 7:return L=O.sent,O.next=10,L.blob();case 10:return A=O.sent,this.uploadFile(A),O.abrupt("break",21);case 13:return this.uploadUrl(P.src),O.abrupt("break",21);case 15:return B=I.detail.data,this.uploadUrl(B),O.abrupt("break",21);case 18:return M=I.detail.file,this.uploadFile(M),O.abrupt("break",21);case 21:case"end":return O.stop()}},T,this)})),function(T){return _.apply(this,arguments)})},{key:"onUpload",value:function(T){T.success&&T.file?this.image=T.file:this.uploadingFailed("incorrect response: "+JSON.stringify(T))}},{key:"uploadingFailed",value:function(T){console.log("Image Tool: uploading failed because of",T),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(T){this.setTune(T,!this._data[T])}},{key:"setTune",value:function(T,I){var P=this;this._data[T]=I,this.ui.applyTune(T,I),T==="stretched"&&Promise.resolve().then(function(){var L=P.api.blocks.getCurrentBlockIndex();P.api.blocks.stretchBlock(L,I)}).catch(function(L){console.error(L)})}},{key:"uploadFile",value:function(T){var I=this;this.uploader.uploadByFile(T,{onPreview:function(P){I.ui.showPreloader(P)}})}},{key:"uploadUrl",value:function(T){this.ui.showPreloader(T),this.uploader.uploadByUrl(T)}},{key:"data",set:function(T){var I=this;this.image=T.file,this._data.caption=T.caption||"",this.ui.fillCaption(this._data.caption),S.tunes.forEach(function(P){var L=P.name,A=T[L]!==void 0&&(T[L]===!0||T[L]==="true");I.setTune(L,A)})},get:function(){return this._data}},{key:"image",set:function(T){this._data.file=T||{},T&&T.url&&this.ui.fillImage(T.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),S}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(JS);var cM=JS.exports;const dM=Fn(cM);var QS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",f=l[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),y=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(y).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var f=i[c];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(T){return document.querySelector(T)},u=function(T){var I={};return function(P){if(typeof P=="function")return P();if(I[P]===void 0){var L=c.call(this,P);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}I[P]=L}return I[P]}}(),f=null,h=0,y=[],g=o(4);function b(T,I){for(var P=0;P<T.length;P++){var L=T[P],A=a[L.id];if(A){A.refs++;for(var B=0;B<A.parts.length;B++)A.parts[B](L.parts[B]);for(;B<L.parts.length;B++)A.parts.push(k(L.parts[B],I))}else{var M=[];for(B=0;B<L.parts.length;B++)M.push(k(L.parts[B],I));a[L.id]={id:L.id,refs:1,parts:M}}}}function w(T,I){for(var P=[],L={},A=0;A<T.length;A++){var B=T[A],M=I.base?B[0]+I.base:B[0],O={css:B[1],media:B[2],sourceMap:B[3]};L[M]?L[M].parts.push(O):P.push(L[M]={id:M,parts:[O]})}return P}function v(T,I){var P=u(T.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=y[y.length-1];if(T.insertAt==="top")L?L.nextSibling?P.insertBefore(I,L.nextSibling):P.appendChild(I):P.insertBefore(I,P.firstChild),y.push(I);else if(T.insertAt==="bottom")P.appendChild(I);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=u(T.insertInto+" "+T.insertAt.before);P.insertBefore(I,A)}}function m(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var I=y.indexOf(T);I>=0&&y.splice(I,1)}function p(T){var I=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),x(I,T.attrs),v(T,I),I}function x(T,I){Object.keys(I).forEach(function(P){T.setAttribute(P,I[P])})}function k(T,I){var P,L,A,B;if(I.transform&&T.css){if(!(B=I.transform(T.css)))return function(){};T.css=B}if(I.singleton){var M=h++;P=f||(f=p(I)),L=C.bind(null,P,M,!1),A=C.bind(null,P,M,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(O){var R=document.createElement("link");return O.attrs.type===void 0&&(O.attrs.type="text/css"),O.attrs.rel="stylesheet",x(R,O.attrs),v(O,R),R}(I),L=_.bind(null,P,I),A=function(){m(P),P.href&&URL.revokeObjectURL(P.href)}):(P=p(I),L=S.bind(null,P),A=function(){m(P)});return L(T),function(O){if(O){if(O.css===T.css&&O.media===T.media&&O.sourceMap===T.sourceMap)return;L(T=O)}else A()}}n.exports=function(T,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=l()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var P=w(T,I);return b(P,I),function(L){for(var A=[],B=0;B<P.length;B++){var M=P[B];(O=a[M.id]).refs--,A.push(O)}for(L&&b(w(L,I),I),B=0;B<A.length;B++){var O;if((O=A[B]).refs===0){for(var R=0;R<O.parts.length;R++)O.parts[R]();delete a[O.id]}}}};var N,j=(N=[],function(T,I){return N[T]=I,N.filter(Boolean).join(`
`)});function C(T,I,P,L){var A=P?"":L.css;if(T.styleSheet)T.styleSheet.cssText=j(I,A);else{var B=document.createTextNode(A),M=T.childNodes;M[I]&&T.removeChild(M[I]),M.length?T.insertBefore(B,M[I]):T.appendChild(B)}}function S(T,I){var P=I.css,L=I.media;if(L&&T.setAttribute("media",L),T.styleSheet)T.styleSheet.cssText=P;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(P))}}function _(T,I,P){var L=P.css,A=P.sourceMap,B=I.convertToAbsoluteUrls===void 0&&A;(I.convertToAbsoluteUrls||B)&&(L=g(L)),A&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var M=new Blob([L],{type:"text/css"}),O=T.href;T.href=URL.createObjectURL(M),O&&URL.revokeObjectURL(O)}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function s(l){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function i(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var y=h.data,g=h.config,b=h.api,w=h.readOnly;(function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=b,this.readOnly=w,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=g,this._data=this.normalizeData(y),this._element=this.getTag()}var c,u,f;return c=l,f=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var y={};return s(h)!=="object"&&(h={}),y.text=h.text||"",y.level=parseInt(h.level)||this.defaultLevel.number,y}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(y){return{icon:y.svg,label:h.api.i18n.t("Heading ".concat(y.number)),onActivate:function(){return h.setLevel(y.number)},closeOnActivate:!0,isActive:h.currentLevel.number===y.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var y={text:this.data.text+h.text,level:this.data.level};this.data=y}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var y=h.detail.data,g=this.defaultLevel.number;switch(y.tagName){case"H1":g=1;break;case"H2":g=2;break;case"H3":g=3;break;case"H4":g=4;break;case"H5":g=5;break;case"H6":g=6}this._settings.levels&&(g=this._settings.levels.reduce(function(b,w){return Math.abs(w-g)<Math.abs(b-g)?w:b})),this.data={level:g,text:y.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var y=this.getTag();y.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(y,this._element),this._element=y}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,y=this.levels.find(function(g){return g.number===h._data.level});return y||(y=this.defaultLevel),y}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var y=this.levels.find(function(g){return g.number===h._settings.defaultLevel});if(y)return y;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,y=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?y.filter(function(g){return h._settings.levels.includes(g.number)}):y}}])&&i(c.prototype,u),f&&i(c,f),l}()}]).default})})(QS);var uM=QS.exports;const fM=Fn(uM);var ZS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",f=l[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),y=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(y).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var f=i[c];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(C){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,f=0,h=[],y=o(4);function g(C,S){for(var _=0;_<C.length;_++){var T=C[_],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var L=[];for(P=0;P<T.parts.length;P++)L.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:L}}}}function b(C,S){for(var _=[],T={},I=0;I<C.length;I++){var P=C[I],L=S.base?P[0]+S.base:P[0],A={css:P[1],media:P[2],sourceMap:P[3]};T[L]?T[L].parts.push(A):_.push(T[L]={id:L,parts:[A]})}return _}function w(C,S){var _=c(C.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(C.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(C.insertAt==="bottom")_.appendChild(S);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(C.insertInto+" "+C.insertAt.before);_.insertBefore(S,I)}}function v(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var S=h.indexOf(C);S>=0&&h.splice(S,1)}function m(C){var S=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),p(S,C.attrs),w(C,S),S}function p(C,S){Object.keys(S).forEach(function(_){C.setAttribute(_,S[_])})}function x(C,S){var _,T,I,P;if(S.transform&&C.css){if(!(P=S.transform(C.css)))return function(){};C.css=P}if(S.singleton){var L=f++;_=u||(u=m(S)),T=j.bind(null,_,L,!1),I=j.bind(null,_,L,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(A){var B=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",p(B,A.attrs),w(A,B),B}(S),T=(function(A,B,M){var O=M.css,R=M.sourceMap,D=B.convertToAbsoluteUrls===void 0&&R;(B.convertToAbsoluteUrls||D)&&(O=y(O)),R&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var U=new Blob([O],{type:"text/css"}),G=A.href;A.href=URL.createObjectURL(U),G&&URL.revokeObjectURL(G)}).bind(null,_,S),I=function(){v(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(A,B){var M=B.css,O=B.media;if(O&&A.setAttribute("media",O),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}).bind(null,_),I=function(){v(_)});return T(C),function(A){if(A){if(A.css===C.css&&A.media===C.media&&A.sourceMap===C.sourceMap)return;T(C=A)}else I()}}n.exports=function(C,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=b(C,S);return g(_,S),function(T){for(var I=[],P=0;P<_.length;P++){var L=_[P];(A=a[L.id]).refs--,I.push(A)}for(T&&g(b(T,S),S),P=0;P<I.length;P++){var A;if((A=I[P]).refs===0){for(var B=0;B<A.parts.length;B++)A.parts[B]();delete a[A.id]}}}};var k,N=(k=[],function(C,S){return k[C]=S,k.filter(Boolean).join(`
`)});function j(C,S,_,T){var I=_?"":T.css;if(C.styleSheet)C.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),L=C.childNodes;L[S]&&C.removeChild(L[S]),L.length?C.insertBefore(P,L[S]):C.appendChild(P)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(c){return function(u){if(Array.isArray(u)){for(var f=0,h=new Array(u.length);f<u.length;f++)h[f]=u[f];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,u,f){return u&&i(c.prototype,u),f&&i(c,f),c}o.d(r,"default",function(){return l});var l=function(){function c(u){var f=u.data,h=u.config,y=u.api,g=u.readOnly;(function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c);var b=c.ALIGNMENTS,w=c.DEFAULT_ALIGNMENT;this.api=y,this.readOnly=g,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:f.text||"",caption:f.caption||"",alignment:Object.values(b).includes(f.alignment)&&f.alignment||h.defaultAlignment||w}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text," — ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),f=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return f.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(f),u.appendChild(h),u}},{key:"save",value:function(u){var f=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:f.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(f){return{icon:f.icon,label:u.api.i18n.t("Align ".concat((h=f.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(f.name)},isActive:u.data.alignment===f.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(u);Array.isArray(h)?(f=g.classList).add.apply(f,s(h)):h&&g.classList.add(h);for(var b in y)g[b]=y[b];return g}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(ZS);var hM=ZS.exports;const pM=Fn(hM);var eC={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",f=l[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),y=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(y).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var f=i[c];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(C){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,f=0,h=[],y=o(4);function g(C,S){for(var _=0;_<C.length;_++){var T=C[_],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var L=[];for(P=0;P<T.parts.length;P++)L.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:L}}}}function b(C,S){for(var _=[],T={},I=0;I<C.length;I++){var P=C[I],L=S.base?P[0]+S.base:P[0],A={css:P[1],media:P[2],sourceMap:P[3]};T[L]?T[L].parts.push(A):_.push(T[L]={id:L,parts:[A]})}return _}function w(C,S){var _=c(C.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(C.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(C.insertAt==="bottom")_.appendChild(S);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(C.insertInto+" "+C.insertAt.before);_.insertBefore(S,I)}}function v(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var S=h.indexOf(C);S>=0&&h.splice(S,1)}function m(C){var S=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),p(S,C.attrs),w(C,S),S}function p(C,S){Object.keys(S).forEach(function(_){C.setAttribute(_,S[_])})}function x(C,S){var _,T,I,P;if(S.transform&&C.css){if(!(P=S.transform(C.css)))return function(){};C.css=P}if(S.singleton){var L=f++;_=u||(u=m(S)),T=j.bind(null,_,L,!1),I=j.bind(null,_,L,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(A){var B=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",p(B,A.attrs),w(A,B),B}(S),T=(function(A,B,M){var O=M.css,R=M.sourceMap,D=B.convertToAbsoluteUrls===void 0&&R;(B.convertToAbsoluteUrls||D)&&(O=y(O)),R&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var U=new Blob([O],{type:"text/css"}),G=A.href;A.href=URL.createObjectURL(U),G&&URL.revokeObjectURL(G)}).bind(null,_,S),I=function(){v(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(A,B){var M=B.css,O=B.media;if(O&&A.setAttribute("media",O),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}).bind(null,_),I=function(){v(_)});return T(C),function(A){if(A){if(A.css===C.css&&A.media===C.media&&A.sourceMap===C.sourceMap)return;T(C=A)}else I()}}n.exports=function(C,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=b(C,S);return g(_,S),function(T){for(var I=[],P=0;P<_.length;P++){var L=_[P];(A=a[L.id]).refs--,I.push(A)}for(T&&g(b(T,S),S),P=0;P<I.length;P++){var A;if((A=I[P]).refs===0){for(var B=0;B<A.parts.length;B++)A.parts[B]();delete a[A.id]}}}};var k,N=(k=[],function(C,S){return k[C]=S,k.filter(Boolean).join(`
`)});function j(C,S,_,T){var I=_?"":T.css;if(C.styleSheet)C.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),L=C.childNodes;L[S]&&C.removeChild(L[S]),L.length?C.insertBefore(P,L[S]):C.appendChild(P)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return i(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),i(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),f=u.getRangeAt(0),h=f.extractContents();c.parentNode.removeChild(c),f.insertNode(h),u.removeAllRanges(),u.addRange(f)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(eC);var mM=eC.exports;const gM=Fn(mM);var tC={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,a){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:a})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(a,l,(function(c){return s[c]}).bind(null,l));return a},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="/",o(o.s=5)}([function(n,r,o){var s=o(1);typeof s=="string"&&(s=[[n.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(3)(s,i),s.locals&&(n.exports=s.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(i){var a=function(l,c){var u=l[1]||"",f=l[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),y=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(y).concat([h]).join(`
`)}var g;return[u].join(`
`)}(i,o);return i[2]?"@media "+i[2]+"{"+a+"}":a}).join("")},s.i=function(i,a){typeof i=="string"&&(i=[[null,i,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<i.length;c++){var f=i[c];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),s.push(f))}},s}},function(n,r,o){var s,i,a={},l=(s=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=s.apply(this,arguments)),i}),c=function(C){var S={};return function(_){if(typeof _=="function")return _();if(S[_]===void 0){var T=(function(I){return document.querySelector(I)}).call(this,_);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}S[_]=T}return S[_]}}(),u=null,f=0,h=[],y=o(4);function g(C,S){for(var _=0;_<C.length;_++){var T=C[_],I=a[T.id];if(I){I.refs++;for(var P=0;P<I.parts.length;P++)I.parts[P](T.parts[P]);for(;P<T.parts.length;P++)I.parts.push(x(T.parts[P],S))}else{var L=[];for(P=0;P<T.parts.length;P++)L.push(x(T.parts[P],S));a[T.id]={id:T.id,refs:1,parts:L}}}}function b(C,S){for(var _=[],T={},I=0;I<C.length;I++){var P=C[I],L=S.base?P[0]+S.base:P[0],A={css:P[1],media:P[2],sourceMap:P[3]};T[L]?T[L].parts.push(A):_.push(T[L]={id:L,parts:[A]})}return _}function w(C,S){var _=c(C.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var T=h[h.length-1];if(C.insertAt==="top")T?T.nextSibling?_.insertBefore(S,T.nextSibling):_.appendChild(S):_.insertBefore(S,_.firstChild),h.push(S);else if(C.insertAt==="bottom")_.appendChild(S);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(C.insertInto+" "+C.insertAt.before);_.insertBefore(S,I)}}function v(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var S=h.indexOf(C);S>=0&&h.splice(S,1)}function m(C){var S=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),p(S,C.attrs),w(C,S),S}function p(C,S){Object.keys(S).forEach(function(_){C.setAttribute(_,S[_])})}function x(C,S){var _,T,I,P;if(S.transform&&C.css){if(!(P=S.transform(C.css)))return function(){};C.css=P}if(S.singleton){var L=f++;_=u||(u=m(S)),T=j.bind(null,_,L,!1),I=j.bind(null,_,L,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(A){var B=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",p(B,A.attrs),w(A,B),B}(S),T=(function(A,B,M){var O=M.css,R=M.sourceMap,D=B.convertToAbsoluteUrls===void 0&&R;(B.convertToAbsoluteUrls||D)&&(O=y(O)),R&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var U=new Blob([O],{type:"text/css"}),G=A.href;A.href=URL.createObjectURL(U),G&&URL.revokeObjectURL(G)}).bind(null,_,S),I=function(){v(_),_.href&&URL.revokeObjectURL(_.href)}):(_=m(S),T=(function(A,B){var M=B.css,O=B.media;if(O&&A.setAttribute("media",O),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}).bind(null,_),I=function(){v(_)});return T(C),function(A){if(A){if(A.css===C.css&&A.media===C.media&&A.sourceMap===C.sourceMap)return;T(C=A)}else I()}}n.exports=function(C,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=l()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var _=b(C,S);return g(_,S),function(T){for(var I=[],P=0;P<_.length;P++){var L=_[P];(A=a[L.id]).refs--,I.push(A)}for(T&&g(b(T,S),S),P=0;P<I.length;P++){var A;if((A=I[P]).refs===0){for(var B=0;B<A.parts.length;B++)A.parts[B]();delete a[A.id]}}}};var k,N=(k=[],function(C,S){return k[C]=S,k.filter(Boolean).join(`
`)});function j(C,S,_,T){var I=_?"":T.css;if(C.styleSheet)C.styleSheet.cssText=N(S,I);else{var P=document.createTextNode(I),L=C.childNodes;L[S]&&C.removeChild(L[S]),L.length?C.insertBefore(P,L[S]):C.appendChild(P)}}},function(n,r){n.exports=function(o){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var i=s.protocol+"//"+s.host,a=i+s.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,y){return y}).replace(/^'(.*)'$/,function(h,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?i+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o(0);function s(l,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}function i(l,c,u){return c&&s(l.prototype,c),u&&s(l,u),l}o.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return i(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),i(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),f=u.getRangeAt(0),h=f.extractContents();c.parentNode.removeChild(c),f.insertNode(h),u.removeAllRanges(),u.addRange(f)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(tC);var yM=tC.exports;const vM=Fn(yM),bM=async t=>{try{if(!["image/jpeg","image/jpg","image/png"].includes(t.type))throw new Error("Only JPG, JPEG, and PNG files are allowed");const n=2*1024*1024;if(t.size>n)throw new Error("Image size must be less than 2MB");const r=await new Promise((i,a)=>{const l=new FileReader;l.onload=()=>i(l.result),l.onerror=a,l.readAsDataURL(t)}),o=JSON.parse(xS("user")||"{}"),s=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:r},{timeout:9e4});if(s.data.success===!0)return{success:1,file:{url:s.data.url}};throw new Error("Upload failed")}catch(e){return console.error("Image upload error:",e),{success:0,message:e.message||"Image upload failed"}}},xM=t=>Promise.resolve({success:1,file:{url:t}}),wM={embed:iM,list:{class:lM,inlineToolBar:!0},image:{class:dM,config:{uploader:{uploadByUrl:xM,uploadByFile:bM}}},header:{class:fM,config:{placeholder:"Enter heading...",levels:[2,3],defaultLevel:2}},quote:{class:pM,inlineToolBar:!0},marker:gM,inlineCode:vM},kM=["image/jpeg","image/png","image/jpg","image/webp"],SM=5*1024*1024,CM=async(t,e)=>{var r;let n=null;if(!kM.includes(t.type))throw new Error("Only JPG, JPEG, PNG, and WebP files are allowed.");if(t.size>SM)throw new Error("Image size must be less than 5MB.");if(!t.name||t.name.trim()==="")throw new Error("Invalid file name.");try{const o=await EM(t),s=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:o,fileName:t.name,fileSize:t.size,fileType:t.type},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},timeout:9e4});if(s.data.success)n=s.data.url;else throw new Error(s.data.error||"Image upload failed.")}catch(o){let s="Image upload failed.";throw o.response?o.response.status===401?s="Authentication required. Please log in again.":o.response.status===403?s="You don't have permission to upload images.":o.response.status===413?s="Image file is too large.":o.response.status===415?s="Unsupported image format.":o.response.status===500?s="Server error. Please try again later.":(r=o.response.data)!=null&&r.error?s=o.response.data.error:s=`Upload failed (${o.response.status}). Please try again.`:o.code==="ECONNABORTED"?s="Upload timed out. Please check your connection and try again.":o.message&&(s=o.message),new Error(s)}return n},EM=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{try{const o=r.result;typeof o=="string"&&o.startsWith("data:")?e(o):n(new Error("Failed to convert file to base64."))}catch{n(new Error("File conversion failed."))}},r.onerror=()=>{n(new Error("Failed to read file."))},r.onabort=()=>{n(new Error("File reading was aborted."))};try{r.readAsDataURL(t)}catch{n(new Error("Failed to start file reading."))}});console.log("EditorJS import check:",{EditorJS:typeof vo,isFunction:typeof vo=="function",isConstructor:vo&&vo.prototype&&vo.prototype.constructor===vo});function Yu(){console.log("Auto-save scheduled")}const TM=()=>{const{blog:t,setBlog:e,setEditorState:n}=E.useContext(lg),{userAuth:r={}}=E.useContext(ve),[o,s]=E.useState(""),[i,a]=E.useState(""),[l,c]=E.useState(""),[u,f]=E.useState([]),[h,y]=E.useState(""),[g,b]=E.useState(!1),[w,v]=E.useState(null),[m,p]=E.useState("idle"),[x,k]=E.useState(null),[N,j]=E.useState(!1),[C,S]=E.useState(!1),[_,T]=E.useState(!1),[I,P]=E.useState(!1),L=E.useRef(null),A=E.useRef(null),B=Xt(),{blogId:M}=Go(),O=r.access_token||null,[R,D]=E.useState(!1),[U,G]=E.useState(!1),[ie,J]=E.useState(!1),[we,ge]=E.useState(!1);E.useRef(null);const ye=()=>(t==null?void 0:t.blog_id)||M||null,$e=F=>F?Array.isArray(F)?F.map(z=>({time:(z==null?void 0:z.time)||Date.now(),blocks:Array.isArray(z==null?void 0:z.blocks)?z.blocks:[],version:(z==null?void 0:z.version)||"2.27.2"})):typeof F=="object"&&F!==null?[{time:F.time||Date.now(),blocks:Array.isArray(F.blocks)?F.blocks:[],version:F.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}],He=()=>{sessionStorage.removeItem("blog_draft")},Pe=F=>{try{sessionStorage.setItem("blog_draft",JSON.stringify(F))}catch(z){console.warn("Failed to save to sessionStorage:",z)}};E.useEffect(()=>{O?D(!0):(H.error("Authentication required. Please log in."),setTimeout(()=>B("/login"),1e3))},[O,B]),E.useEffect(()=>{M&&j(!0)},[M]),E.useEffect(()=>{t&&!I&&(s(t.title||""),a(t.banner||""),c(t.des||""),f(t.tags||[]),T(!0))},[t,I]),E.useCallback(async()=>{var F,z,Z,re,xe;if(!(!R||!(t!=null&&t.blog_id)||g||C)){p("saving"),k(null),S(!0);try{let de=null;if((F=L.current)!=null&&F.isReady)try{de=await L.current.save()}catch(ue){console.warn("Auto-save: Editor save failed:",ue),p("error"),k("Editor not ready");return}else{p("error"),k("Editor not ready");return}if(!de||!de.blocks){console.warn("Auto-save: Invalid content structure"),p("error"),k("Invalid content structure");return}const Ie=o,ht=i,at=l,Ut=u;if(!(Ie.trim()||at.trim()||de.blocks&&de.blocks.length>0)){p("idle"),S(!1);return}const lo={title:Ie.trim()||"Untitled Draft",banner:ht.trim()||"",des:at.trim()||"",content:$e(de),tags:Ut.map(ue=>ue.trim().toLowerCase()).filter(ue=>ue.length>0),draft:!0,id:ye()},pt=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",lo,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:1e4});v(new Date),p("saved"),k(null),S(!1),console.log("Auto-save completed successfully"),setTimeout(()=>p("idle"),3e3)}catch(de){console.warn("Auto-save failed:",de),p("error");let Ie="Auto-save failed";((z=de.response)==null?void 0:z.status)===401?Ie="Authentication expired":((Z=de.response)==null?void 0:Z.status)===403?Ie="Permission denied":de.code==="ECONNABORTED"?Ie="Request timed out":(xe=(re=de.response)==null?void 0:re.data)!=null&&xe.error&&(Ie=de.response.data.error),k(Ie),setTimeout(()=>{p("idle"),k(null),S(!1)},5e3)}}},[R,t==null?void 0:t.blog_id,O,g,C]),E.useEffect(()=>{var z;if(!R||!A.current||!((z=t==null?void 0:t.content)!=null&&z[0]))return;L.current&&(L.current.isReady&&typeof L.current.isReady.then=="function"?L.current.isReady.then(()=>L.current.destroy()).catch(()=>{}):typeof L.current.destroy=="function"&&L.current.destroy(),L.current=null,J(!1),ge(!1));const F=t.content[0]||{time:Date.now(),blocks:[],version:"2.27.2"};try{const Z=new vo({holder:A.current,data:F,tools:wM,placeholder:"Start writing your story here...",autofocus:!0,readOnly:!1,logLevel:"ERROR",onChange:async()=>{try{if(Z.isReady){const re=await Z.save(),xe={...t,title:o,banner:i,content:[{...re,time:Date.now(),version:"2.27.2"}],tags:u,des:l};Pe(xe)}}catch(re){console.warn("Failed to save to sessionStorage:",re)}},onReady:()=>{J(!0),ge(!0),console.log("Editor is ready")}});L.current=Z,console.log("EditorJS instance created successfully")}catch(Z){console.error("EditorJS initialization failed:",Z),H.error("Failed to initialize editor. Please refresh the page or check your internet connection. If the problem persists, contact support.")}return()=>{L.current&&(L.current.isReady&&typeof L.current.isReady.then=="function"?L.current.isReady.then(()=>L.current.destroy()).catch(()=>{}):typeof L.current.destroy=="function"&&L.current.destroy(),L.current=null,J(!1),ge(!1))}},[R,t==null?void 0:t.content,A.current]),E.useEffect(()=>{var F;L.current&&((F=t==null?void 0:t.content)!=null&&F[0])&&ie&&!we&&console.log("Content updated - EditorJS content handled during initialization")},[t==null?void 0:t.content,ie,we]);const Oe=async()=>{try{console.log("Testing upload service...");const F=await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/test-upload");return console.log("Upload service test result:",F.data),F.data.success}catch(F){return console.error("Upload service test failed:",F),!1}},Je=async F=>{var de,Ie,ht,at,Ut,Qo,lo;const z=F.target.files[0];if(!z)return;if(!["image/jpeg","image/jpg","image/png"].includes(z.type)){H.error("Only JPG, JPEG, and PNG files are allowed");return}const re=2*1024*1024;if(z.size>re){H.error("Image size must be less than 2MB");return}G(!0);let xe=H.loading("Uploading banner image...");try{if(!await Oe())throw new Error("Upload service is not available");const ue=await new Promise((yr,ti)=>{const ni=new FileReader;ni.onload=()=>yr(ni.result),ni.onerror=ti,ni.readAsDataURL(z)});console.log("Starting upload, file size:",z.size,"bytes");const $t=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/upload-image",{image:ue},{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:9e4});if(H.dismiss(xe),$t.data.success===!0){const yr=$t.data.url;console.log("Banner uploaded successfully:",yr),a(yr),P(!0),e(ti=>({...ti,banner:yr})),H.success("Banner uploaded successfully! 🎉"),Yu()}else H.error("Failed to upload banner image")}catch(pt){H.dismiss(xe),console.error("Banner upload error:",pt);let ue="Failed to upload banner image. Please check your internet connection or try a different image.";((de=pt.response)==null?void 0:de.status)===401?ue="Authentication expired. Please log in again.":((Ie=pt.response)==null?void 0:Ie.status)===400?ue=((ht=pt.response.data)==null?void 0:ht.error)||"Invalid image format":((at=pt.response)==null?void 0:at.status)===408?ue="Upload timed out. Please try again.":((Ut=pt.response)==null?void 0:Ut.status)===500?ue="Server error. Please try again later.":(lo=(Qo=pt.response)==null?void 0:Qo.data)!=null&&lo.error?ue=pt.response.data.error:pt.code==="ECONNABORTED"?ue="Upload timed out. Please try again.":pt.message&&(ue=pt.message),H.error(ue)}finally{G(!1)}},Ft=F=>{console.log("Title changed:",F.target.value),s(F.target.value),P(!0)},tt=F=>{console.log("Description changed:",F.target.value),c(F.target.value),P(!0)},kn=F=>{y(F.target.value),P(!0)},Sn=F=>F.trim().toLowerCase(),wt=F=>{if(F.key==="Enter"&&h.trim()){if(F.preventDefault(),u.length>=5){H.error("Maximum 5 tags allowed");return}const z=Sn(h);u.map(Sn).includes(z)?H.error("Duplicate tag"):(f([...u,z]),y(""),Yu())}},ao=F=>{const z=Sn(F),Z=u.filter(re=>Sn(re)!==z);f(Z),Yu()},Jo=F=>{F.keyCode===13&&F.preventDefault()},K=F=>{F.target.src=_c},ce=async F=>{var de,Ie,ht,at,Ut,Qo,lo,pt;if(g)return;const z=o.trim().length>0,Z=l.trim().length>0,re=((de=L.current)==null?void 0:de.isReady)&&await L.current.save().then(ue=>ue.blocks&&ue.blocks.length>0).catch(()=>!1);if(!z&&!Z&&!re)return H.error("Please add some content (title, description, or blog content) before saving as draft");b(!0);let xe=H.loading(N?"Updating draft....":"Saving draft....");try{let ue=null;if((Ie=L.current)!=null&&Ie.isReady)try{ue=await L.current.save(),(!ue||!ue.blocks)&&(ue={time:Date.now(),blocks:[],version:"2.27.2"})}catch(co){console.warn("Editor save failed, continuing with empty content:",co),ue={time:Date.now(),blocks:[],version:"2.27.2"}}else ue={time:Date.now(),blocks:[],version:"2.27.2"};const $t={title:o.trim()||"Untitled Draft",banner:i.trim()||"",des:l.trim()||"",content:[ue],tags:u.map(co=>co.trim().toLowerCase()).filter(co=>co.length>0),draft:!0},yr=N&&ye(),ti=yr?`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-blog/${ye()}`:"https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",pg=await Y[yr?"put":"post"](ti,$t,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},timeout:15e3});H.dismiss(xe),H.success(N?"Draft updated successfully! 👍":"Draft saved successfully! 👍"),pg.data.blog_id&&e(co=>({...co,blog_id:pg.data.blog_id,content:$t.content})),v(new Date),p("saved"),k(null),setTimeout(()=>p("idle"),3e3),He(),setTimeout(()=>{B("/dashboard/blogs?tab=draft")},500)}catch(ue){H.dismiss(xe);let $t=N?"Failed to update draft":"Failed to save draft";((ht=ue.response)==null?void 0:ht.status)===401?($t="Authentication required. Please log in again.",setTimeout(()=>B("/login"),2e3)):((at=ue.response)==null?void 0:at.status)===403?$t="You don't have permission to save drafts.":((Ut=ue.response)==null?void 0:Ut.status)===400?$t=((Qo=ue.response.data)==null?void 0:Qo.error)||"Invalid draft data":(pt=(lo=ue.response)==null?void 0:lo.data)!=null&&pt.error?$t=ue.response.data.error:ue.code==="ECONNABORTED"?$t="Save timed out. Please try again.":ue.message&&($t=ue.message),H.error($t),console.error("Draft save error:",ue)}finally{b(!1)}},ae=async()=>{var F,z,Z;if(console.log("Publish button clicked in BlogEditor"),console.log("Current blog state:",t),console.log("Editor ref ready:",(F=L.current)==null?void 0:F.isReady),!i)return console.log("Validation failed: No banner"),H.error("Upload a blog banner to publish it");if(!o.trim())return console.log("Validation failed: No title"),H.error("Write blog title to publish it");if(!l.trim())return console.log("Validation failed: No description"),H.error("Write blog description to publish it");if(l.trim().length>200)return console.log("Validation failed: Description too long"),H.error("Description cannot exceed 200 characters");if(!u.length)return console.log("Validation failed: No tags"),H.error("Add at least one tag to publish it");try{if(!((z=L.current)!=null&&z.isReady))throw console.log("Editor not ready"),new Error("Editor not ready");const re=await L.current.save();if(console.log("Editor save data:",re),!((Z=re.blocks)!=null&&Z.length))return console.log("Validation failed: No content blocks"),H.error("Write something in your blog to publish it");const xe={title:o.trim(),banner:i.trim(),content:[{time:re.time||Date.now(),blocks:Array.isArray(re.blocks)?re.blocks:[],version:re.version||"2.27.2"}],tags:u.map(de=>de.trim().toLowerCase()),des:l.trim(),id:ye()};console.log("Setting blog data for publish form:",xe),e(de=>({...de,...xe,title:o.trim(),banner:i.trim(),des:l.trim(),tags:u.map(Ie=>Ie.trim().toLowerCase())})),n("publish"),Pe(xe),sessionStorage.setItem("refresh_drafts","1")}catch(re){console.error("Error in handlePublishEvent:",re),H.error("Failed to save blog content")}};return E.useEffect(()=>{const F=z=>{(z.ctrlKey||z.metaKey)&&z.key==="s"&&(z.preventDefault(),g||ce())};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[g]),!R||!t?d.jsx("div",{style:{textAlign:"center",marginTop:"3rem"},children:"Loading editor..."}):d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"navbar"}),d.jsx($n,{}),d.jsx(Ge,{children:d.jsxs("section",{className:"w-full py-8 px-4 sm:px-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mb-6 sm:mb-8 ml-0 sm:ml-28",children:[d.jsx("button",{className:"btn-dark py-2 w-full sm:w-auto text-sm sm:text-base",onClick:ce,disabled:g,title:"Save draft (Ctrl+S / Cmd+S)",children:g?"Saving...":"Save Draft"}),d.jsx("button",{className:"btn-light py-2 w-full sm:w-auto text-sm sm:text-base",onClick:ae,disabled:!o.trim()||!l.trim()||g||C,title:!o.trim()||!l.trim()?"Complete all required fields to publish":g||C?"Please wait for save to complete":"Publish blog",children:"Publish"}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m==="saving"&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-300 rounded-full animate-pulse"}),"Auto-saving..."]}),m==="saved"&&d.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Saved"]}),m==="error"&&d.jsxs("span",{className:"flex items-center gap-1 text-red-600",title:x,children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Save failed"]}),w&&m==="idle"&&d.jsxs("span",{className:"text-gray-500",children:["Last saved: ",w.toLocaleTimeString()]})]})]}),d.jsxs("div",{className:"mx-auto max-w-[900px] md:max-w-[700px] w-full",children:[d.jsxs("div",{className:"relative w-full aspect-video hover:opacity-80 bg-white border-l border-gray-200 rounded-lg max-w-full max-h-[300px] md:max-h-[400px] sm:max-h-[500px] overflow-hidden",children:[d.jsxs("label",{htmlFor:"uploadBanner",children:[d.jsx("img",{src:i||_c,alt:"Blog banner",className:"w-full h-auto max-h-[300px] md:max-h-[400px] sm:max-h-[500px] object-contain rounded-lg mx-auto bg-white transition-all duration-200",onError:K}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity rounded-lg",children:d.jsx("span",{className:"text-white text-base md:text-lg",children:"Upload Banner"})}),U&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-60 rounded-lg z-10",children:d.jsx("span",{className:"text-white text-base md:text-lg animate-pulse",children:"Uploading..."})})]}),d.jsx("input",{type:"file",id:"uploadBanner",accept:"image/*",hidden:!0,onChange:Je})]}),d.jsx("textarea",{placeholder:"Blog Title",className:"text-2xl md:text-3xl sm:text-4xl font-medium w-full h-16 md:h-18 sm:h-20 outline-none rounded-lg p-3 md:p-4 sm:p-4 bg-gray-50 resize-none mt-6 md:mt-8 sm:mt-10 leading-tight placeholder:opacity-40",value:o,onChange:Ft,onKeyDown:Jo,maxLength:100}),d.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[o.length,"/100 characters"]}),d.jsx("textarea",{value:l,placeholder:"Blog Description",className:"text-sm md:text-base sm:text-lg w-full h-16 md:h-18 sm:h-20 outline-none bg-gray-50 rounded-lg p-3 md:p-4 sm:p-4 resize-none mt-3 md:mt-4 sm:mt-4 leading-tight placeholder:opacity-40",onChange:tt,maxLength:200}),d.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[l.length,"/200 characters"]}),d.jsxs("div",{className:"mt-3 md:mt-4 sm:mt-4",children:[d.jsx("label",{className:"block text-xs md:text-base sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.map((F,z)=>d.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-xs md:text-base sm:text-base px-2 md:px-3 sm:px-3 py-1 rounded-full",children:[F,d.jsx("button",{onClick:()=>ao(F),className:"ml-2 text-red-500 hover:text-red-700","aria-label":`Remove tag ${F}`,children:"×"})]},F+z))}),d.jsx("input",{type:"text",placeholder:"Add a tag",value:h,onChange:kn,onKeyDown:wt,className:"w-full px-3 md:px-4 sm:px-4 py-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-xs md:text-base sm:text-base",maxLength:20}),d.jsxs("div",{className:"text-right text-xs md:text-sm sm:text-sm text-gray-500 mt-1",children:[u.length,"/5 tags • ",h.length,"/20 characters"]})]}),d.jsx("hr",{className:"w-full opacity-10 my-4 md:my-5 sm:my-5"}),d.jsx("div",{ref:A,className:"font-gelasio overflow-x-auto"})]})]})})]})},_M=()=>{var _,T;const t=Xt(),{blogId:e}=Go(),n=200,{blog:r={},setBlog:o,setEditorState:s}=E.useContext(lg),{userAuth:i}=E.useContext(ve),[a,l]=E.useState([]),[c,u]=E.useState(""),[f,h]=E.useState(!1),[y,g]=E.useState({}),b=!!(r!=null&&r.blog_id||e),w=I=>I?Array.isArray(I)?I.map(P=>({time:(P==null?void 0:P.time)||Date.now(),blocks:Array.isArray(P==null?void 0:P.blocks)?P.blocks:[],version:(P==null?void 0:P.version)||"2.27.2"})):typeof I=="object"&&I!==null?[{time:I.time||Date.now(),blocks:Array.isArray(I.blocks)?I.blocks:[],version:I.version||"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}]:[{time:Date.now(),blocks:[],version:"2.27.2"}];E.useEffect(()=>{r!=null&&r.tags&&l(r.tags)},[r==null?void 0:r.tags]);const v=()=>{var L,A,B;console.log("Validating blog data:",r);const I={};(L=r.title)!=null&&L.trim()?r.title.trim().length>100&&(I.title="Title cannot exceed 100 characters"):I.title="Blog title is required",(A=r.des)!=null&&A.trim()?r.des.length>n&&(I.description=`Description cannot exceed ${n} characters (current: ${r.des.length})`):I.description="Blog description is required",r.banner||(I.banner="Blog banner is required"),(B=r.tags)!=null&&B.length?r.tags.length>5&&(I.tags="Maximum 5 tags allowed"):I.tags="At least one tag is required";const P=S(r.content);return console.log("Content blocks:",P),(!P||!Array.isArray(P)||P.length===0)&&(I.content="Blog content is required"),console.log("Validation errors:",I),g(I),Object.keys(I).length===0},m=async I=>{var L,A,B,M,O,R,D;if(I.preventDefault(),console.log("Publish button clicked"),console.log("Current blog data:",r),console.log("Current userAuth:",i),!v()){console.log("Validation failed"),H.error("Please fix the validation errors before publishing");return}h(!0);const P=H.loading("Publishing...");try{const U={title:r.title.trim(),des:r.des.trim(),banner:((L=r.banner)==null?void 0:L.trim())||"",content:w(r.content),tags:r.tags.map(ie=>ie.trim().toLowerCase()),draft:!1};console.log("Prepared blog data for publishing:",U);let G;b?G=await Y.put(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-blog/${r.blog_id||e}`,U,{timeout:15e3}):G=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/create-blog",U,{timeout:15e3}),console.log("Publish response:",G.data),H.dismiss(P),H.success("Published successfully!"),sessionStorage.removeItem("blog_draft"),sessionStorage.setItem("refresh_drafts","1"),sessionStorage.setItem("refresh_published","1"),setTimeout(()=>t("/dashboard/blogs"),1500)}catch(U){console.error("Publish error details:",U),H.dismiss(P);let G="Failed to publish";((A=U.response)==null?void 0:A.status)===401?(G="Authentication required. Please log in again.",setTimeout(()=>t("/login"),2e3)):((B=U.response)==null?void 0:B.status)===403?G="You don't have permission to publish blogs.":((M=U.response)==null?void 0:M.status)===400?G=((O=U.response.data)==null?void 0:O.error)||"Invalid blog data":(D=(R=U.response)==null?void 0:R.data)!=null&&D.error?G=U.response.data.error:U.code==="ECONNABORTED"?G="Request timed out. Please try again.":U.message&&(G=U.message),H.error(G),console.error("Publish error:",U)}finally{h(!1)}},p=()=>{s("editor"),t("/editor")},x=I=>{const P=I.target.value;o({...r,title:P}),y.title&&g(L=>({...L,title:null}))},k=I=>{const P=I.target.value;o({...r,des:P}),y.description&&g(L=>({...L,description:null}))},N=I=>{u(I.target.value)},j=I=>{if(I.key==="Enter"&&c.trim()){if(I.preventDefault(),a.length>=5){H.error("Maximum 5 tags allowed");return}const P=c.trim().toLowerCase();if(a.map(L=>L.trim().toLowerCase()).includes(P))H.error("Duplicate tag");else{const L=[...a,P];l(L),o({...r,tags:L}),u(""),y.tags&&g(A=>({...A,tags:null}))}}},C=I=>{const P=a.filter(L=>L!==I);l(P),o({...r,tags:P})},S=I=>{var P;if(!I)return null;try{return((P=w(I)[0])==null?void 0:P.blocks)||null}catch(L){return console.error("Error parsing content blocks:",L),null}};return r!=null&&r.banner?d.jsx(Ge,{children:d.jsxs("section",{className:"w-full min-h-screen bg-gray-50 py-8 px-4 sm:px-6 publish-form",children:[d.jsx($n,{}),d.jsx("button",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center hover:bg-red-600 transition border-2 border-red-600",onClick:p,disabled:f,"aria-label":"Close publish form",children:d.jsx("span",{className:"text-lg sm:text-xl",children:"X"})}),d.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6 sm:gap-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 preview-section",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Preview"}),d.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-gray-100",children:d.jsx("img",{src:r.banner,alt:"Blog banner",className:"w-full h-full object-cover",onError:I=>I.target.src="/imgs/blog banner.png"})}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-4 text-gray-900 line-clamp-2",children:r.title||"Untitled Blog"}),d.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-2 line-clamp-3",children:r.des||"No description provided"}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.map(I=>d.jsx("span",{className:"bg-black text-yellow-300 text-sm sm:text-base font-medium px-3 py-1 rounded-full",children:I},I))}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[d.jsx("button",{onClick:m,className:`w-full py-3 rounded-lg text-white font-semibold text-sm sm:text-base ${f?"bg-gray-400 cursor-not-allowed":"bg-yellow-400 hover:bg-yellow-500"} transition`,disabled:f,children:f?"Publishing...":"🚀 Publish Blog"}),d.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Review your blog details below before publishing"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-4",children:"Blog Details"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Blog Title"}),d.jsx("input",{type:"text",placeholder:"Enter blog title",value:r.title||"",onChange:x,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${y.title?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:f,maxLength:100}),y.title&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.title}),d.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[((_=r.title)==null?void 0:_.length)||0,"/100 characters"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1 ",children:"Description"}),d.jsx("textarea",{placeholder:"Write a short description",value:r.des||"",onChange:k,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400  outline-none h-24 sm:h-32 resize-none text-sm sm:text-base ${y.description?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:f,maxLength:n}),y.description&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.description}),d.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[d.jsxs("span",{children:["Current length: ",((T=r.des)==null?void 0:T.length)||0," characters"]}),d.jsxs("span",{children:["Max: ",n," characters"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-1",children:"Tags (Press Enter to add, max 5)"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(I=>d.jsxs("div",{className:"flex items-center bg-gray-100 text-gray-800 text-sm sm:text-base px-3 py-1 rounded-full",children:[I,d.jsx("button",{onClick:()=>C(I),className:"ml-2 text-red-500 hover:text-red-700",disabled:f,"aria-label":`Remove tag ${I}`,children:"×"})]},I))}),d.jsx("input",{type:"text",placeholder:"Add a tag",value:c,onChange:N,onKeyDown:j,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-400 outline-none text-sm sm:text-base ${y.tags?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,disabled:f,maxLength:20}),y.tags&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.tags}),d.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[a.length,"/5 tags • ",c.length,"/20 characters"]})]}),y.content&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsx("p",{className:"text-red-600 text-sm",children:y.content})}),y.banner&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsx("p",{className:"text-red-600 text-sm",children:y.banner})})]})]})]})]})}):d.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[d.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"🖼️"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Banner Required"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"A banner image is required to publish a blog."}),d.jsx("button",{className:"btn-dark px-8",onClick:p,children:"Back to Editor"})]})})},_e=()=>d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-yellow-300 border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});class jM extends ee.Component{constructor(n){super(n);Yd(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});Yd(this,"handleGoBack",()=>{window.history.back()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),console.error("Editor Error:",n,r)}render(){return this.state.hasError?d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[d.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Editor Error"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Something went wrong with the editor. This might be due to a temporary issue or unsaved changes."}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx("button",{onClick:this.handleRetry,className:"btn-dark px-4 py-2",children:"Try Again"}),d.jsx("button",{onClick:this.handleGoBack,className:"btn-light px-4 py-2",children:"Go Back"})]}),!1]})}):this.props.children}}const Rv={title:"",banner:"",content:[{time:Date.now(),blocks:[],version:"2.27.2"}],tags:[],des:"",author:{personal_info:{}}},lg=E.createContext({}),Mv=()=>{let{blog_id:t}=Go();const e=Xt(),[n,r]=E.useState(Rv),[o,s]=E.useState("editor"),[i,a]=E.useState({isReady:!1}),[l,c]=E.useState(!0),[u,f]=E.useState(null),{userAuth:h={}}=E.useContext(ve);return E.useEffect(()=>{if(console.log("Editor component mounted with blog_id:",t),console.log("Current userAuth:",h),!t){console.log("No blog_id provided, initializing empty editor"),c(!1),r(Rv);return}let y=!0;const g=new AbortController;return(async()=>{var w;try{console.log("Fetching blog with ID:",t);const v={"Content-Type":"application/json"};console.log("Request headers:",v);const m=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog",{blog_id:t,draft:!0,mode:"edit"},{headers:v,signal:g.signal,timeout:1e4});if(console.log("Server response:",m.data),y)if(m.data.blog){const p=m.data.blog;console.log("Raw fetched blog data:",p);let x;p.content?Array.isArray(p.content)?p.content.length===0?x=[{time:Date.now(),blocks:[],version:"2.27.2"}]:x=p.content.map(N=>(console.log("Processing content item:",N),{time:N.time||Date.now(),blocks:Array.isArray(N.blocks)?N.blocks:[],version:N.version||"2.27.2"})):x=[{time:Date.now(),blocks:p.content.blocks||[],version:"2.27.2"}]:x=[{time:Date.now(),blocks:[],version:"2.27.2"}];const k={...p,content:x};console.log("Formatted blog data:",k),console.log("Content structure:",k.content),console.log("First content item:",k.content[0]),console.log("Blocks in first content item:",(w=k.content[0])==null?void 0:w.blocks),r(k),f(null)}else console.error("No blog data in response"),f("Blog not found or you don't have permission to edit this blog."),r(null)}catch(v){y&&(console.error("Error fetching blog:",v),v.response?(console.error("Error response:",v.response.data),console.error("Error status:",v.response.status),console.error("Error headers:",v.response.headers),v.response.status===401?f("Authentication expired. Please log in again."):v.response.status===403?f("You don't have permission to edit this blog."):v.response.status===404?f("Blog not found."):f("Failed to load blog. Please try again.")):v.code==="ECONNABORTED"?f("Request timed out. Please check your connection and try again."):f("Failed to load blog. Please try again."),r(null))}finally{y&&c(!1)}})(),()=>{y=!1,g.abort()}},[t,h]),E.useEffect(()=>{h.access_token||e("/login?next=/editor",{replace:!0})},[h.access_token,e]),n===null?d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[d.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"📝"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Blog Not Found"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"The blog you're looking for doesn't exist or you don't have permission to edit it."}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx("button",{onClick:()=>e("/editor"),className:"btn-dark px-4 py-2",children:"Create New Blog"}),d.jsx("button",{onClick:()=>window.history.back(),className:"btn-light px-4 py-2",children:"Go Back"})]})]})}):(console.log("Rendering editor with blog data:",n),d.jsx(jM,{children:d.jsx(lg.Provider,{value:{blog:n,setBlog:r,editorState:o,setEditorState:s,textEditor:i,setTextEditor:a},children:d.jsxs("div",{className:"editor-page",children:[o==="editor"&&n&&h&&d.jsx(TM,{}),o==="publish"&&n&&h&&d.jsx(_M,{})]})})}))};let nC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const ei=t=>{let e=new Date(t);return`${e.getDate()} ${nC[e.getMonth()]}`},cg=t=>{let e=new Date(t);return`${e.getDate()} ${nC[e.getMonth()]} ${e.getFullYear()}`};function rC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=rC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Po(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=rC(t))&&(r&&(r+=" "),r+=e);return r}function NM(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}NM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ma=t=>typeof t=="number"&&!isNaN(t),Uo=t=>typeof t=="string",pr=t=>typeof t=="function",PM=t=>Uo(t)||Ma(t),Kh=t=>Uo(t)||pr(t)?t:null,IM=(t,e)=>t===!1||Ma(t)&&t>0?t:e,Yh=t=>E.isValidElement(t)||Uo(t)||pr(t)||Ma(t);function AM(t,e,n=300){let{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function LM({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:s,position:i,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:f}){let h=n?`${t}--${i}`:t,y=n?`${e}--${i}`:e,g=E.useRef(0);return E.useLayoutEffect(()=>{let b=c.current,w=h.split(" "),v=m=>{m.target===c.current&&(f(),b.removeEventListener("animationend",v),b.removeEventListener("animationcancel",v),g.current===0&&m.type!=="animationcancel"&&b.classList.remove(...w))};b.classList.add(...w),b.addEventListener("animationend",v),b.addEventListener("animationcancel",v)},[]),E.useEffect(()=>{let b=c.current,w=()=>{b.removeEventListener("animationend",w),r?AM(b,l,o):l()};u||(a?w():(g.current=1,b.className+=` ${y}`,b.addEventListener("animationend",w)))},[u]),ee.createElement(ee.Fragment,null,s)}}function Dv(t,e){return{content:oC(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function oC(t,e,n=!1){return E.isValidElement(t)&&!Uo(t.type)?E.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):pr(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function BM({closeToast:t,theme:e,ariaLabel:n="close"}){return ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function OM({delay:t,isRunning:e,closeToast:n,type:r="default",hide:o,className:s,controlledProgress:i,progress:a,rtl:l,isIn:c,theme:u}){let f=o||i&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};i&&(h.transform=`scaleX(${a})`);let y=Po("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),g=pr(s)?s({rtl:l,type:r,defaultClassName:y}):Po(y,s),b={[i&&a>=1?"onTransitionEnd":"onAnimationEnd"]:i&&a<1?null:()=>{c&&n()}};return ee.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ee.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),ee.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:h,...b}))}var RM=1,sC=()=>`${RM++}`;function MM(t,e,n){let r=1,o=0,s=[],i=[],a=e,l=new Map,c=new Set,u=m=>(c.add(m),()=>c.delete(m)),f=()=>{i=Array.from(l.values()),c.forEach(m=>m())},h=({containerId:m,toastId:p,updateId:x})=>{let k=m?m!==t:t!==1,N=l.has(p)&&x==null;return k||N},y=(m,p)=>{l.forEach(x=>{var k;(p==null||p===x.props.toastId)&&((k=x.toggle)==null||k.call(x,m))})},g=m=>{var p,x;(x=(p=m.props)==null?void 0:p.onClose)==null||x.call(p,m.removalReason),m.isActive=!1},b=m=>{if(m==null)l.forEach(g);else{let p=l.get(m);p&&g(p)}f()},w=()=>{o-=s.length,s=[]},v=m=>{var p,x;let{toastId:k,updateId:N}=m.props,j=N==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(k,m),f(),n(Dv(m,j?"added":"updated")),j&&((x=(p=m.props).onOpen)==null||x.call(p))};return{id:t,props:a,observe:u,toggle:y,removeToast:b,toasts:l,clearQueue:w,buildToast:(m,p)=>{if(h(p))return;let{toastId:x,updateId:k,data:N,staleId:j,delay:C}=p,S=k==null;S&&o++;let _={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(p).filter(([I,P])=>P!=null)),toastId:x,updateId:k,data:N,isIn:!1,className:Kh(p.className||a.toastClassName),progressClassName:Kh(p.progressClassName||a.progressClassName),autoClose:p.isLoading?!1:IM(p.autoClose,a.autoClose),closeToast(I){l.get(x).removalReason=I,b(x)},deleteToast(){let I=l.get(x);if(I!=null){if(n(Dv(I,"removed")),l.delete(x),o--,o<0&&(o=0),s.length>0){v(s.shift());return}f()}}};_.closeButton=a.closeButton,p.closeButton===!1||Yh(p.closeButton)?_.closeButton=p.closeButton:p.closeButton===!0&&(_.closeButton=Yh(a.closeButton)?a.closeButton:!0);let T={content:m,props:_,staleId:j};a.limit&&a.limit>0&&o>a.limit&&S?s.push(T):Ma(C)?setTimeout(()=>{v(T)},C):v(T)},setProps(m){a=m},setToggle:(m,p)=>{let x=l.get(m);x&&(x.toggle=p)},isToastActive:m=>{var p;return(p=l.get(m))==null?void 0:p.isActive},getSnapshot:()=>i}}var Ct=new Map,va=[],Xh=new Set,DM=t=>Xh.forEach(e=>e(t)),iC=()=>Ct.size>0;function FM(){va.forEach(t=>lC(t.content,t.options)),va=[]}var UM=(t,{containerId:e})=>{var n;return(n=Ct.get(e||1))==null?void 0:n.toasts.get(t)};function aC(t,e){var n;if(e)return!!((n=Ct.get(e))!=null&&n.isToastActive(t));let r=!1;return Ct.forEach(o=>{o.isToastActive(t)&&(r=!0)}),r}function $M(t){if(!iC()){va=va.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||PM(t))Ct.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ct.get(t.containerId);e?e.removeToast(t.id):Ct.forEach(n=>{n.removeToast(t.id)})}}var zM=(t={})=>{Ct.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function lC(t,e){Yh(t)&&(iC()||va.push({content:t,options:e}),Ct.forEach(n=>{n.buildToast(t,e)}))}function VM(t){var e;(e=Ct.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function cC(t,e){Ct.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function HM(t){let e=t.containerId||1;return{subscribe(n){let r=MM(e,t,DM);Ct.set(e,r);let o=r.observe(n);return FM(),()=>{o(),Ct.delete(e)}},setProps(n){var r;(r=Ct.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ct.get(e))==null?void 0:n.getSnapshot()}}}function WM(t){return Xh.add(t),()=>{Xh.delete(t)}}function GM(t){return t&&(Uo(t.toastId)||Ma(t.toastId))?t.toastId:sC()}function Da(t,e){return lC(t,e),e.toastId}function Hd(t,e){return{...e,type:e&&e.type||t,toastId:GM(e)}}function Wd(t){return(e,n)=>Da(e,Hd(t,n))}function ke(t,e){return Da(t,Hd("default",e))}ke.loading=(t,e)=>Da(t,Hd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function qM(t,{pending:e,error:n,success:r},o){let s;e&&(s=Uo(e)?ke.loading(e,o):ke.loading(e.render,{...o,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,f)=>{if(u==null){ke.dismiss(s);return}let h={type:c,...i,...o,data:f},y=Uo(u)?{render:u}:u;return s?ke.update(s,{...h,...y}):ke(y.render,{...h,...y}),f},l=pr(t)?t():t;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}ke.promise=qM;ke.success=Wd("success");ke.info=Wd("info");ke.error=Wd("error");ke.warning=Wd("warning");ke.warn=ke.warning;ke.dark=(t,e)=>Da(t,Hd("default",{theme:"dark",...e}));function KM(t){$M(t)}ke.dismiss=KM;ke.clearWaitingQueue=zM;ke.isActive=aC;ke.update=(t,e={})=>{let n=UM(t,e);if(n){let{props:r,content:o}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:sC()};s.toastId!==t&&(s.staleId=t);let i=s.render||o;delete s.render,Da(i,s)}};ke.done=t=>{ke.update(t,{progress:1})};ke.onChange=WM;ke.play=t=>cC(!0,t);ke.pause=t=>cC(!1,t);function YM(t){var e;let{subscribe:n,getSnapshot:r,setProps:o}=E.useRef(HM(t)).current;o(t);let s=(e=E.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function i(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:i,isToastActive:aC,count:s==null?void 0:s.length}}function XM(t){let[e,n]=E.useState(!1),[r,o]=E.useState(!1),s=E.useRef(null),i=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=t;VM({id:t.toastId,containerId:t.containerId,fn:n}),E.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{y()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||v(),window.addEventListener("focus",w),window.addEventListener("blur",v)}function y(){window.removeEventListener("focus",w),window.removeEventListener("blur",v)}function g(j){if(t.draggable===!0||t.draggable===j.pointerType){m();let C=s.current;i.canCloseOnClick=!0,i.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(i.start=j.clientX,i.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(i.start=j.clientY,i.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(j){let{top:C,bottom:S,left:_,right:T}=s.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=_&&j.clientX<=T&&j.clientY>=C&&j.clientY<=S?v():w()}function w(){n(!0)}function v(){n(!1)}function m(){i.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",k)}function p(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",k)}function x(j){let C=s.current;if(i.canDrag&&C){i.didMove=!0,e&&v(),t.draggableDirection==="x"?i.delta=j.clientX-i.start:i.delta=j.clientY-i.start,i.start!==j.clientX&&(i.canCloseOnClick=!1);let S=t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;C.style.transform=`translate3d(${S},0)`,C.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function k(){p();let j=s.current;if(i.canDrag&&i.didMove&&j){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){o(!0),t.closeToast(!0),t.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let N={onPointerDown:g,onPointerUp:b};return a&&l&&(N.onMouseEnter=v,t.stacked||(N.onMouseLeave=w)),f&&(N.onClick=j=>{u&&u(j),i.canCloseOnClick&&c(!0)}),{playToast:w,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var JM=typeof window<"u"?E.useLayoutEffect:E.useEffect,Gd=({theme:t,type:e,isLoading:n,...r})=>ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function QM(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ZM(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function e6(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function t6(t){return ee.createElement(Gd,{...t},ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function n6(){return ee.createElement("div",{className:"Toastify__spinner"})}var Jh={info:ZM,warning:QM,success:e6,error:t6,spinner:n6},r6=t=>t in Jh;function o6({theme:t,type:e,isLoading:n,icon:r}){let o=null,s={theme:t,type:e};return r===!1||(pr(r)?o=r({...s,isLoading:n}):E.isValidElement(r)?o=E.cloneElement(r,s):n?o=Jh.spinner():r6(e)&&(o=Jh[e](s))),o}var s6=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:s}=XM(t),{closeButton:i,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:h,transition:y,position:g,className:b,style:w,progressClassName:v,updateId:m,role:p,progress:x,rtl:k,toastId:N,deleteToast:j,isIn:C,isLoading:S,closeOnClick:_,theme:T,ariaLabel:I}=t,P=Po("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":_}),L=pr(b)?b({rtl:k,position:g,type:u,defaultClassName:P}):Po(P,b),A=o6(t),B=!!x||!l,M={closeToast:h,type:u,theme:T},O=null;return i===!1||(pr(i)?O=i(M):E.isValidElement(i)?O=E.cloneElement(i,M):O=BM(M)),ee.createElement(y,{isIn:C,done:j,position:g,preventExitTransition:n,nodeRef:r,playToast:s},ee.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":C,className:L,...o,style:w,ref:r,...C&&{role:p,"aria-label":I}},A!=null&&ee.createElement("div",{className:Po("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},A),oC(a,t,!e),O,!t.customProgressBar&&ee.createElement(OM,{...m&&!B?{key:`p-${m}`}:{},rtl:k,theme:T,delay:l,isRunning:e,isIn:C,closeToast:h,hide:f,type:u,className:v,controlledProgress:B,progress:x||0})))},i6=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),a6=LM(i6("bounce",!0)),l6={position:"top-right",transition:a6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function c6(t){let e={...l6,...t},n=t.stacked,[r,o]=E.useState(!0),s=E.useRef(null),{getToastToRender:i,isToastActive:a,count:l}=YM(e),{className:c,style:u,rtl:f,containerId:h,hotKeys:y}=e;function g(w){let v=Po("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":f});return pr(c)?c({position:w,rtl:f,defaultClassName:v}):Po(v,Kh(c))}function b(){n&&(o(!0),ke.play())}return JM(()=>{var w;if(n){let v=s.current.querySelectorAll('[data-in="true"]'),m=12,p=(w=e.position)==null?void 0:w.includes("top"),x=0,k=0;Array.from(v).reverse().forEach((N,j)=>{let C=N;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=p?"top":"bot");let S=x*(r?.2:1)+(r?0:m*j);C.style.setProperty("--y",`${p?S:S*-1}px`),C.style.setProperty("--g",`${m}`),C.style.setProperty("--s",`${1-(r?k:0)}`),x+=C.offsetHeight,k+=.025})}},[r,l,n]),E.useEffect(()=>{function w(v){var m;let p=s.current;y(v)&&((m=p.querySelector('[tabIndex="0"]'))==null||m.focus(),o(!1),ke.pause()),v.key==="Escape"&&(document.activeElement===p||p!=null&&p.contains(document.activeElement))&&(o(!0),ke.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[y]),ee.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(o(!1),ke.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},i((w,v)=>{let m=v.length?{...u}:{...u,pointerEvents:"none"};return ee.createElement("div",{tabIndex:-1,className:g(w),"data-stacked":n,style:m,key:`c-${w}`},v.map(({content:p,props:x})=>ee.createElement(s6,{...x,stacked:n,collapseAll:b,isIn:a(x.toastId,x.containerId),key:`t-${x.key}`},p)))}))}const dC=()=>{const[t,e]=E.useState(!1),{userAuth:n,setUserAuth:r}=E.useContext(ve);return{handleBookmark:async(i,a)=>{var l;if(a&&a.preventDefault(),!(!(n!=null&&n.access_token)||t)){e(!0);try{const c=(l=n==null?void 0:n.bookmarked_blogs)==null?void 0:l.includes(i),u=c?"/unbookmark-blog":"/bookmark-blog";await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+u,{blog_id:i});const{data:f}=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:n.username});return r(f),{success:!0,isBookmarked:!c}}catch(c){return ke.error("Failed to update bookmark. Please try again."),console.error("Bookmark error:",c),{success:!1,error:c}}finally{setTimeout(()=>{e(!1)},300)}}},isBookmarked:i=>{var a;return((a=n==null?void 0:n.bookmarked_blogs)==null?void 0:a.includes(i))||!1},bookmarking:t}},d6=()=>{const[t,e]=E.useState(!1),{userAuth:n}=E.useContext(ve);return{handleLike:async(o,s,i,a)=>{if(t||!(n!=null&&n.access_token))return;e(!0);const l=s+(i?-1:1),c=!i;try{const{data:u}=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/like-blog",{blog_id:o},{headers:{Authorization:`Bearer ${n.access_token}`}});return a&&a(u.liked,o),{success:!0,likes:l,isLiked:c}}catch(u){return{success:!1,likes:s,isLiked:i,error:u}}finally{e(!1)}},loading:t}},dg=({blog:t,variant:e="default",showAuthor:n=!0,showStats:r=!0,showBookmark:o=!0,showLike:s=!0,className:i="",onLikeToggle:a})=>{var A,B,M;const[l,c]=E.useState(!1);E.useContext(ve);const{handleBookmark:u,isBookmarked:f,bookmarking:h}=dC(),{handleLike:y,loading:g}=d6(),[b,w]=E.useState(((A=t.activity)==null?void 0:A.total_likes)||0),[v,m]=E.useState(t.liked||!1),p="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",x=l?p:t.banner||p,k=t.blog_id||t._id,N=t.author||{},j=N.fullname||N.name||"Unknown Author",C=N.username||"",S=N.profile_img||N.avatar||"/src/imgs/user profile.png",_=t.publishedAt||t.date,T=async O=>{O.preventDefault();const R=await y(k,b,v,a);R.success&&(w(R.likes),m(R.isLiked))},I=async O=>{await u(k,O)},L=(()=>{switch(e){case"compact":return{containerClass:"flex flex-col bg-white rounded-lg shadow-md p-4 h-[340px] w-full max-w-full hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden",imageClass:"rounded-md w-full h-32 object-cover",titleClass:"font-semibold text-base mb-1 line-clamp-2",descriptionClass:"text-gray-500 text-sm mb-3 line-clamp-2",authorClass:"text-sm font-medium",dateClass:"text-xs text-gray-400"};case"trending":return{containerClass:"relative w-full h-full rounded-lg overflow-hidden group block",imageClass:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",overlayClass:"absolute bottom-0 left-0 w-full p-4 bg-white/80 backdrop-blur-sm",titleClass:"text-xs font-normal text-black",descriptionClass:"text-gray-800 mt-1 line-clamp-2 text-sm"};case"sidebar":return{containerClass:"flex gap-4 border-b border-grey pb-5 mb-4",imageClass:"w-16 h-16 rounded-md object-cover",titleClass:"font-semibold text-sm line-clamp-2",descriptionClass:"text-gray-500 text-xs line-clamp-2 mt-1"};default:return{containerClass:"block border-b border-grey pb-5 mb-4",imageClass:"w-full h-40 sm:w-36 sm:h-28 flex-shrink-0 bg-grey rounded-md overflow-hidden object-cover",titleClass:"blog-title",descriptionClass:"my-3 text-base sm:text-xl font-gelasio leading-7 line-clamp-2",authorClass:"line-clamp-1",dateClass:"min-w-fit"}}})();return e==="trending"?d.jsxs(ne,{to:`/blog/${k}`,className:`${L.containerClass} ${i}`,children:[d.jsx("img",{src:x,alt:t.title,className:L.imageClass,onError:()=>c(!0)}),d.jsxs("div",{className:L.overlayClass,children:[d.jsx("h3",{className:L.titleClass,style:{fontSize:"10px"},children:t.title}),d.jsx("p",{className:L.descriptionClass,children:t.des||t.description})]})]}):e==="compact"?d.jsx(q.div,{variants:iA,whileHover:"hover",whileTap:"tap",initial:"initial",animate:"animate",className:"w-full max-w-full",children:d.jsx(ne,{to:`/blog/${k}`,className:"block w-full max-w-full",children:d.jsxs("div",{className:L.containerClass,children:[d.jsx(q.div,{variants:Ch,whileHover:"hover",className:"overflow-hidden rounded-md mb-3",children:d.jsx("img",{src:x,alt:t.title,className:L.imageClass,onError:()=>c(!0)})}),d.jsx(q.h3,{className:L.titleClass,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:t.title}),d.jsx(q.p,{className:L.descriptionClass,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:t.des||t.description}),d.jsxs("div",{className:"flex items-center mt-auto bg-gray-100 rounded-xl px-3 w-full",children:[n&&S&&d.jsx(q.img,{src:S,alt:j,className:"w-8 h-8 rounded-full",whileHover:{scale:1.1},transition:{duration:.2}}),d.jsxs("div",{className:"ml-2 flex-grow flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:L.authorClass,children:j}),d.jsx("div",{className:L.dateClass,children:_?cg(_):"No date"})]}),o&&d.jsx(q.button,{onClick:I,"aria-label":f(k)?"Unbookmark":"Bookmark",disabled:h,variants:Im,whileHover:"hover",whileTap:"tap",children:f(k)?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-black dark:hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})})}):e==="sidebar"?d.jsxs(ne,{to:`/blog/${k}`,className:`${L.containerClass} ${i}`,children:[d.jsx("div",{className:"w-16 h-16 flex-shrink-0",children:d.jsx("img",{src:x,className:L.imageClass,onError:()=>c(!0)})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:L.titleClass,children:t.title}),d.jsx("p",{className:L.descriptionClass,children:t.des||t.description})]})]}):d.jsx(ne,{to:`/blog/${k}`,className:`${L.containerClass} ${i}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8 items-stretch",children:[d.jsx("div",{className:"w-full h-40 sm:w-36 sm:h-28 flex-shrink-0 bg-grey rounded-md overflow-hidden",children:d.jsx("img",{src:x,className:"w-full h-full object-cover",onError:()=>c(!0)})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[d.jsxs("div",{children:[n&&d.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[d.jsx("img",{src:S,className:"w-6 h-6 rounded-full",alt:j}),d.jsxs("p",{className:L.authorClass,children:[j," ",C&&`@${C}`]}),d.jsx("p",{className:L.dateClass,children:_?ei(_):"No date"})]}),d.jsx("h1",{className:L.titleClass,children:t.title}),d.jsx("p",{className:L.descriptionClass,children:t.des||t.description})]}),r&&d.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 items-center",children:[t.tags&&t.tags[0]&&d.jsx("span",{className:"btn-light py-1 px-4",children:t.tags[0]}),s&&d.jsxs("button",{onClick:T,disabled:g,className:`flex items-center gap-2 text-dark-grey ${v?"text-red-500":""} hover:text-red-500 transition-colors`,children:[d.jsx("i",{className:`fi ${v?"fi-sr-heart":"fi-rr-heart"} text-xl`}),b]}),o&&d.jsx("button",{onClick:I,disabled:h,className:`flex items-center gap-2 text-dark-grey ${f(k)?"text-yellow-500":""} hover:text-yellow-500 transition-colors`,"aria-label":f(k)?"Unbookmark":"Bookmark",children:d.jsx("i",{className:`fi ${f(k)?"fi-sr-bookmark":"fi-rr-bookmark"} text-xl`})}),d.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[d.jsx("i",{className:"fi fi-rr-eye"})," ",((B=t.activity)==null?void 0:B.total_reads)||0]}),d.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[d.jsx("i",{className:"fi fi-rr-comment-dots"})," ",((M=t.activity)==null?void 0:M.total_comments)||0]})]})]})]})})},zi=({content:t,author:e,liked:n,onLikeToggle:r})=>{const o={...t,author:{fullname:e.fullname,username:e.username,profile_img:e.profile_img},liked:n};return d.jsx(dg,{blog:o,variant:"default",showAuthor:!0,showStats:!0,showBookmark:!0,showLike:!0,onLikeToggle:r})},or=({message:t})=>d.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4",children:d.jsx("p",{children:t})}),sr=({state:t,fetchDataFun:e,additionalParam:n})=>{const{theme:r}=E.useContext(qd);let o=r==="dark"?"bg-purple-600 text-white p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-700 transition-colors duration-150":"bg-white border border-purple-600 text-purple-700 p-2 px-4 rounded-md flex items-center gap-2 font-semibold shadow hover:bg-purple-100 transition-colors duration-150";return t&&typeof t.totalDocs=="number"&&Array.isArray(t.results)&&t.totalDocs>t.results.length?d.jsx("button",{onClick:()=>e({...n||{},page:(t.page||1)+1}),className:o,children:"Load More"}):null},eo=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:o,data_to_send:s={},user:i=null})=>{var a;try{if(console.log("filterPaginationData called with:",{create_new_arr:t,stateExists:!!e,dataLength:n==null?void 0:n.length,page:r,countRoute:o,data_to_send:s}),e!==null&&!t)return console.log("Appending to existing state"),{...e,results:[...e.results,...n],page:r,totalDocs:e.totalDocs};{console.log("Creating new state, fetching count from:",o);const l={};i&&(l.Authorization=`Bearer ${i}`);const{data:c}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api"+o,s,{headers:l,timeout:1e4});return console.log("Count response:",c),{results:n||[],page:1,totalDocs:c.totalDocs||0}}}catch(l){return console.error("Error in filterPaginationData:",l),console.error("Error details:",{name:l.name,message:l.message,response:(a=l.response)==null?void 0:a.data}),{results:n||[],page:r||1,totalDocs:0}}},nt="https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api",dl={getBlogs:async(t=1,e=10)=>(await fe.post(`${nt}/latest-blogs`,{page:t,limit:e})).data,getBlogById:async t=>(await fe.get(`${nt}/get-blog/${t}`)).data,createBlog:async t=>(await fe.post(`${nt}/create-blog`,t)).data,updateBlog:async(t,e)=>(await fe.put(`${nt}/update-blog/${t}`,e)).data,deleteBlog:async t=>(await fe.post(`${nt}/delete-blog`,{blogId:t})).data,toggleLike:async t=>(await fe.post(`${nt}/like-blog`,{blog_id:t})).data,toggleBookmark:async(t,e)=>{const n=e?"/unbookmark-blog":"/bookmark-blog";return(await fe.post(`${nt}${n}`,{blog_id:t})).data},searchBlogs:async(t,e=1)=>(await fe.post(`${nt}/search-blogs`,{query:t,page:e})).data,getBlogsByCategory:async(t,e=1)=>(await fe.post(`${nt}/get-blogs-by-category`,{category:t,page:e})).data,getUserBlogs:async(t,e=1)=>(await fe.post(`${nt}/get-profile-blogs`,{username:t,page:e})).data,getTrendingBlogs:async(t=10)=>(await fe.get(`${nt}/trending-blogs?limit=${t}`)).data},u6={register:async t=>(await fe.post(`${nt}/signup`,t)).data,login:async t=>(await fe.post(`${nt}/signin`,t)).data,getProfile:async t=>(await fe.post(`${nt}/get-profile`,{username:t})).data,updateProfile:async t=>(await fe.put(`${nt}/update-profile`,t)).data,changePassword:async t=>(await fe.put(`${nt}/change-password`,t)).data,validateToken:async()=>(await fe.post(`${nt}/validate-token`)).data,refreshToken:async t=>(await fe.post(`${nt}/refresh-token`,{refreshToken:t})).data};var uC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fv=ee.createContext&&ee.createContext(uC),f6=["attr","size","title"];function h6(t,e){if(t==null)return{};var n=p6(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(n),!0).forEach(function(r){m6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m6(t,e,n){return e=g6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g6(t){var e=y6(t,"string");return typeof e=="symbol"?e:e+""}function y6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fC(t){return t&&t.map((e,n)=>ee.createElement(e.tag,Dc({key:n},e.attr),fC(e.child)))}function ug(t){return e=>ee.createElement(v6,Mc({attr:Dc({},t.attr)},e),fC(t.child))}function v6(t){var e=n=>{var{attr:r,size:o,title:s}=t,i=h6(t,f6),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ee.createElement("svg",Mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:l,style:Dc(Dc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ee.createElement("title",null,s),t.children)};return Fv!==void 0?ee.createElement(Fv.Consumer,null,n=>e(n)):e(uC)}function b6(t){return ug({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}const x6="https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=crop&w=400&q=80",w6=({categoryName:t,onCategorySelect:e})=>{const[n,r]=E.useState(x6);return E.useEffect(()=>{let o=!0;return Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:t,limit:1,select:["banner"]}).then(({data:s})=>{o&&s.blogs&&s.blogs.length&&s.blogs[0].banner&&r(s.blogs[0].banner)}).catch(s=>{console.log(s)}),()=>{o=!1}},[t]),d.jsx("div",{className:"category-card min-w-[110px] h-[48px] rounded-xl overflow-hidden relative flex-shrink-0 cursor-pointer snap-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>e&&e(t),children:d.jsx("div",{className:"absolute inset-0 bg-lime-950 bg-opacity-40 flex items-center justify-center",children:d.jsxs("span",{className:"text-white font-medium text-sm capitalize",children:["#",t]})})})};function k6({categories:t=[],blogs:e=[],onCategorySelect:n}){const r=E.useRef(null),o=()=>{r.current.scrollBy({left:200,behavior:"smooth"})};return d.jsx("div",{className:"w-full px-[5vw] mt-6 relative",children:d.jsxs("div",{className:"bg-grey w-full max-w-[1400px] mx-auto relative",children:[d.jsx("div",{ref:r,className:"flex space-x-4 overflow-x-auto scrollbar-hide mx-auto snap-x snap-mandatory",style:{scrollBehavior:"smooth",paddingRight:"60px"},children:t.map(s=>{const i=typeof s=="string"?s:s.name,a=e.filter(l=>l.tags&&l.tags.map(c=>c.toLowerCase()).includes(i.toLowerCase())&&l.banner);return d.jsx(w6,{categoryName:i,initialBlogs:a,onCategorySelect:n},i)})}),d.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white rounded-full shadow p-2 border border-grey z-10",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:d.jsx(b6,{})})]})})}const $v=({blog:t,className:e})=>t?d.jsx("div",{className:e,children:d.jsx(dg,{blog:t,variant:"trending",showAuthor:!1,showStats:!1,showBookmark:!1,showLike:!1})}):null;function zv(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function fg(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:zv(e[r])&&zv(t[r])&&Object.keys(e[r]).length>0&&fg(t[r],e[r])})}const hC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Mn(){const t=typeof document<"u"?document:{};return fg(t,hC),t}const S6={document:hC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Nt(){const t=typeof window<"u"?window:{};return fg(t,S6),t}function C6(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function E6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function pC(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Fc(){return Date.now()}function T6(t){const e=Nt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function _6(t,e){e===void 0&&(e="x");const n=Nt();let r,o,s;const i=T6(t);return n.WebKitCSSMatrix?(o=i.transform||i.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(o==="none"?"":o)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?o=s.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?o=s.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function ul(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function j6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Vt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!j6(r)){const o=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,i=o.length;s<i;s+=1){const a=o[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(ul(t[a])&&ul(r[a])?r[a].__swiper__?t[a]=r[a]:Vt(t[a],r[a]):!ul(t[a])&&ul(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Vt(t[a],r[a])):t[a]=r[a])}}}return t}function fl(t,e,n){t.style.setProperty(e,n)}function mC(t){let{swiper:e,targetPosition:n,side:r}=t;const o=Nt(),s=-e.translate;let i=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",u=(h,y)=>c==="next"&&h>=y||c==="prev"&&h<=y,f=()=>{a=new Date().getTime(),i===null&&(i=a);const h=Math.max(Math.min((a-i)/l,1),0),y=.5-Math.cos(h*Math.PI)/2;let g=s+y*(n-s);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),o.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=o.requestAnimationFrame(f)};f()}function An(t,e){e===void 0&&(e="");const n=Nt(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(o=>o.matches(e)):r}function N6(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function P6(t,e){const n=Nt();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=N6(t,e))),r}function Uc(t){try{console.warn(t);return}catch{}}function $c(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:C6(e)),n}function I6(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function A6(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Or(t,e){return Nt().getComputedStyle(t,null).getPropertyValue(e)}function zc(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function gC(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Qh(t,e,n){const r=Nt();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function rt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Vc(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Xu;function L6(){const t=Nt(),e=Mn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function yC(){return Xu||(Xu=L6()),Xu}let Ju;function B6(t){let{userAgent:e}=t===void 0?{}:t;const n=yC(),r=Nt(),o=r.navigator.platform,s=e||r.navigator.userAgent,i={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=o==="Win32";let g=o==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&b.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!y&&(i.os="android",i.android=!0),(u||h||f)&&(i.os="ios",i.ios=!0),i}function vC(t){return t===void 0&&(t={}),Ju||(Ju=B6(t)),Ju}let Qu;function O6(){const t=Nt(),e=vC();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),i=s||o&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:i,isWebView:o}}function bC(){return Qu||(Qu=O6()),Qu}function R6(t){let{swiper:e,on:n,emit:r}=t;const o=Nt();let s=null,i=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{i=o.requestAnimationFrame(()=>{const{width:h,height:y}=e;let g=h,b=y;f.forEach(w=>{let{contentBoxSize:v,contentRect:m,target:p}=w;p&&p!==e.el||(g=m?m.width:(v[0]||v).inlineSize,b=m?m.height:(v[0]||v).blockSize)}),(g!==h||b!==y)&&a()})}),s.observe(e.el))},c=()=>{i&&o.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof o.ResizeObserver<"u"){l();return}o.addEventListener("resize",a),o.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),o.removeEventListener("resize",a),o.removeEventListener("orientationchange",u)})}function M6(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const s=[],i=Nt(),a=function(u,f){f===void 0&&(f={});const h=i.MutationObserver||i.WebkitMutationObserver,y=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){o("observerUpdate",g[0]);return}const b=function(){o("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(b):i.setTimeout(b,0)});y.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(y)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=gC(e.hostEl);for(let f=0;f<u.length;f+=1)a(u[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var D6={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const o=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][o](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function o(){r.off(t,o),o.__emitterProxy&&delete o.__emitterProxy;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];e.apply(r,i)}return o.__emitterProxy=e,r.on(t,o,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,s)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),t}};function F6(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Or(r,"padding-left")||0,10)-parseInt(Or(r,"padding-right")||0,10),n=n-parseInt(Or(r,"padding-top")||0,10)-parseInt(Or(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function U6(){const t=this;function e(_,T){return parseFloat(_.getPropertyValue(t.getDirectionLabel(T))||0)}const n=t.params,{wrapperEl:r,slidesEl:o,size:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=An(o,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:u.length;let h=[];const y=[],g=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,m=t.slidesGrid.length;let p=n.spaceBetween,x=-b,k=0,N=0;if(typeof s>"u")return;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*s:typeof p=="string"&&(p=parseFloat(p)),t.virtualSize=-p,u.forEach(_=>{i?_.style.marginLeft="":_.style.marginRight="",_.style.marginBottom="",_.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(fl(r,"--swiper-centered-offset-before",""),fl(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&t.grid;j?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let C;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(_=>typeof n.breakpoints[_].slidesPerView<"u").length>0;for(let _=0;_<f;_+=1){C=0;let T;if(u[_]&&(T=u[_]),j&&t.grid.updateSlide(_,T,u),!(u[_]&&Or(T,"display")==="none")){if(n.slidesPerView==="auto"){S&&(u[_].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(T),P=T.style.transform,L=T.style.webkitTransform;if(P&&(T.style.transform="none"),L&&(T.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?Qh(T,"width",!0):Qh(T,"height",!0);else{const A=e(I,"width"),B=e(I,"padding-left"),M=e(I,"padding-right"),O=e(I,"margin-left"),R=e(I,"margin-right"),D=I.getPropertyValue("box-sizing");if(D&&D==="border-box")C=A+O+R;else{const{clientWidth:U,offsetWidth:G}=T;C=A+B+M+O+R+(G-U)}}P&&(T.style.transform=P),L&&(T.style.webkitTransform=L),n.roundLengths&&(C=Math.floor(C))}else C=(s-(n.slidesPerView-1)*p)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),u[_]&&(u[_].style[t.getDirectionLabel("width")]=`${C}px`);u[_]&&(u[_].swiperSlideSize=C),g.push(C),n.centeredSlides?(x=x+C/2+k/2+p,k===0&&_!==0&&(x=x-s/2-p),_===0&&(x=x-s/2-p),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),N%n.slidesPerGroup===0&&h.push(x),y.push(x)):(n.roundLengths&&(x=Math.floor(x)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&h.push(x),y.push(x),x=x+C+p),t.virtualSize+=C+p,k=C,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+p}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+p}px`),j&&t.grid.updateWrapperSize(C,h),!n.centeredSlides){const _=[];for(let T=0;T<h.length;T+=1){let I=h[T];n.roundLengths&&(I=Math.floor(I)),h[T]<=t.virtualSize-s&&_.push(I)}h=_,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(l&&n.loop){const _=g[0]+p;if(n.slidesPerGroup>1){const T=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=_*n.slidesPerGroup;for(let P=0;P<T;P+=1)h.push(h[h.length-1]+I)}for(let T=0;T<t.virtual.slidesBefore+t.virtual.slidesAfter;T+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+_),y.push(y[y.length-1]+_),t.virtualSize+=_}if(h.length===0&&(h=[0]),p!==0){const _=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((T,I)=>!n.cssMode||n.loop?!0:I!==u.length-1).forEach(T=>{T.style[_]=`${p}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let _=0;g.forEach(I=>{_+=I+(p||0)}),_-=p;const T=_>s?_-s:0;h=h.map(I=>I<=0?-b:I>T?T+w:I)}if(n.centerInsufficientSlides){let _=0;g.forEach(I=>{_+=I+(p||0)}),_-=p;const T=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(_+T<s){const I=(s-_-T)/2;h.forEach((P,L)=>{h[L]=P-I}),y.forEach((P,L)=>{y[L]=P+I})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:y,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){fl(r,"--swiper-centered-offset-before",`${-h[0]}px`),fl(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const _=-t.snapGrid[0],T=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+_),t.slidesGrid=t.slidesGrid.map(I=>I+T)}if(f!==c&&t.emit("slidesLengthChange"),h.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),y.length!==m&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const _=`${n.containerModifierClass}backface-hidden`,T=t.el.classList.contains(_);f<=n.maxBackfaceHiddenSlides?T||t.el.classList.add(_):T&&t.el.classList.remove(_)}}function $6(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let o=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const i=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(i(a))}else n.push(i(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;o=a>o?a:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function z6(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const Vv=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function V6(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:o,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let i=-t;o&&(i=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const f=(i+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(i-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),y=-(i-u),g=y+e.slidesSizesGrid[l],b=y>=0&&y<=e.size-e.slidesSizesGrid[l],w=y>=0&&y<e.size-1||g>1&&g<=e.size||y<=0&&g>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Vv(c,w,n.slideVisibleClass),Vv(c,b,n.slideFullyVisibleClass),c.progress=o?-f:f,c.originalProgress=o?-h:h}}function H6(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:s,isEnd:i,progressLoop:a}=e;const l=s,c=i;if(r===0)o=0,s=!0,i=!0;else{o=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=u||o<=0,i=f||o>=1,u&&(o=0),f&&(o=1)}if(n.loop){const u=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],y=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=h?a=(b-h)/g:a=(b+g-y)/g,a>1&&(a-=1)}Object.assign(e,{progress:o,progressLoop:a,isBeginning:s,isEnd:i}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),i&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!i)&&e.emit("fromEdge"),e.emit("progress",o)}const Zu=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function W6(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:o}=t,s=t.virtual&&n.virtual.enabled,i=t.grid&&n.grid&&n.grid.rows>1,a=f=>An(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,c,u;if(s)if(n.loop){let f=o-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${o}"]`);else i?(l=e.find(f=>f.column===o),u=e.find(f=>f.column===o+1),c=e.find(f=>f.column===o-1)):l=e[o];l&&(i||(u=A6(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=I6(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{Zu(f,f===l,n.slideActiveClass),Zu(f,f===u,n.slideNextClass),Zu(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Ul=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let o=r.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(r.shadowRoot?o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(o=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},ef=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Zh=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const i=o,a=[i-e];a.push(...Array.from({length:e}).map((l,c)=>i+r+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&ef(t,c)});return}const s=o+r-1;if(t.params.rewind||t.params.loop)for(let i=o-e;i<=s+e;i+=1){const a=(i%n+n)%n;(a<o||a>s)&&ef(t,a)}else for(let i=Math.max(o-e,0);i<=Math.min(s+e,n-1);i+=1)i!==o&&(i>s||i<o)&&ef(t,i)};function G6(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let o;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?o=s:r>=e[s]&&r<e[s+1]&&(o=s+1):r>=e[s]&&(o=s);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function q6(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:o,activeIndex:s,realIndex:i,snapIndex:a}=e;let l=t,c;const u=y=>{let g=y-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=G6(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const y=Math.min(o.slidesPerGroupSkip,l);c=y+Math.floor((l-y)/o.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const f=e.grid&&o.grid&&o.grid.rows>1;let h;if(e.virtual&&o.virtual.enabled&&o.loop)h=u(l);else if(f){const y=e.slides.find(b=>b.column===l);let g=parseInt(y.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(y),0)),h=Math.floor(g/o.grid.rows)}else if(e.slides[l]){const y=e.slides[l].getAttribute("data-swiper-slide-index");y?h=parseInt(y,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:i,realIndex:h,previousIndex:s,activeIndex:l}),e.initialized&&Zh(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(i!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function K6(t,e){const n=this,r=n.params;let o=t.closest(`.${r.slideClass}, swiper-slide`);!o&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!o&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(o=a)});let s=!1,i;if(o){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===o){s=!0,i=a;break}}if(o&&s)n.clickedSlide=o,n.virtual&&n.params.virtual.enabled?n.clickedIndex=n.getSlideIndexWhenGrid(parseInt(o.getAttribute("data-swiper-slide-index"),10)):n.clickedIndex=n.getSlideIndexWhenGrid(i);else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Y6={updateSize:F6,updateSlides:U6,updateAutoHeight:$6,updateSlidesOffset:z6,updateSlidesProgress:V6,updateProgress:H6,updateSlidesClasses:W6,updateActiveIndex:q6,updateClickedSlide:K6};function X6(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:s}=e;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let i=_6(s,t);return i+=e.cssOverflowAdjustment(),r&&(i=-i),i||0}function J6(t,e){const n=this,{rtlTranslate:r,params:o,wrapperEl:s,progress:i}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-t:t:l=t,o.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,o.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:o.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const f=n.maxTranslate()-n.minTranslate();f===0?u=0:u=(t-n.minTranslate())/f,u!==i&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Q6(){return-this.snapGrid[0]}function Z6(){return-this.snapGrid[this.snapGrid.length-1]}function eD(t,e,n,r,o){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:i,wrapperEl:a}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,s.updateProgress(u),i.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return mC({swiper:s,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,o),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,o),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var tD={getTranslate:X6,setTranslate:J6,minTranslate:Q6,maxTranslate:Z6,translateTo:eD};function nD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function xC(t){let{swiper:e,runCallbacks:n,direction:r,step:o}=t;const{activeIndex:s,previousIndex:i}=e;let a=r;a||(s>i?a="next":s<i?a="prev":a="reset"),e.emit(`transition${o}`),n&&a==="reset"?e.emit(`slideResetTransition${o}`):n&&s!==i&&(e.emit(`slideChangeTransition${o}`),a==="next"?e.emit(`slideNextTransition${o}`):e.emit(`slidePrevTransition${o}`))}function rD(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),xC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function oD(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),xC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var sD={setTransition:nD,transitionStart:rD,transitionEnd:oD};function iD(t,e,n,r,o){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let i=t;i<0&&(i=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:h,wrapperEl:y,enabled:g}=s;if(!g&&!r&&!o||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const b=Math.min(s.params.slidesPerGroupSkip,i);let w=b+Math.floor((i-b)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const v=-l[w];if(a.normalizeSlideIndex)for(let j=0;j<c.length;j+=1){const C=-Math.floor(v*100),S=Math.floor(c[j]*100),_=Math.floor(c[j+1]*100);typeof c[j+1]<"u"?C>=S&&C<_-(_-S)/2?i=j:C>=S&&C<_&&(i=j+1):C>=S&&(i=j)}if(s.initialized&&i!==f&&(!s.allowSlideNext&&(h?v>s.translate&&v>s.minTranslate():v<s.translate&&v<s.minTranslate())||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(f||0)!==i))return!1;i!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(v);let m;i>f?m="next":i<f?m="prev":m="reset";const p=s.virtual&&s.params.virtual.enabled;if(!(p&&o)&&(h&&-v===s.translate||!h&&v===s.translate))return s.updateActiveIndex(i),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(v),m!=="reset"&&(s.transitionStart(n,m),s.transitionEnd(n,m)),!1;if(a.cssMode){const j=s.isHorizontal(),C=h?v:-v;if(e===0)p&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),p&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[j?"scrollLeft":"scrollTop"]=C})):y[j?"scrollLeft":"scrollTop"]=C,p&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return mC({swiper:s,targetPosition:C,side:j?"left":"top"}),!0;y.scrollTo({[j?"left":"top"]:C,behavior:"smooth"})}return!0}const N=bC().isSafari;return p&&!o&&N&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,m),e===0?s.transitionEnd(n,m):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,m))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function aD(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const s=o.grid&&o.params.grid&&o.params.grid.rows>1;let i=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)i=i+o.virtual.slidesBefore;else{let a;if(s){const h=i*o.params.grid.rows;a=o.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===h).column}else a=o.getSlideIndexByData(i);const l=s?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:c}=o.params;let u=o.params.slidesPerView;u==="auto"?u=o.slidesPerViewDynamic():(u=Math.ceil(parseFloat(o.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let f=l-a<u;if(c&&(f=f||a<Math.ceil(u/2)),r&&c&&o.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const h=c?a<o.activeIndex?"prev":"next":a-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?o.realIndex:void 0})}if(s){const h=i*o.params.grid.rows;i=o.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===h).column}else i=o.getSlideIndexByData(i)}return requestAnimationFrame(()=>{o.slideTo(i,e,n,r)}),o}function lD(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:o,params:s,animating:i}=r;if(!o||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(i&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function cD(t,e,n){e===void 0&&(e=!0);const r=this,{params:o,snapGrid:s,slidesGrid:i,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!u&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function h(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const y=h(f),g=s.map(m=>h(m)),b=o.freeMode&&o.freeMode.enabled;let w=s[g.indexOf(y)-1];if(typeof w>"u"&&(o.cssMode||b)){let m;s.forEach((p,x)=>{y>=p&&(m=x)}),typeof m<"u"&&(w=b?s[m]:s[m>0?m-1:m])}let v=0;if(typeof w<"u"&&(v=i.indexOf(w),v<0&&(v=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),o.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(o.loop&&r.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,t,e,n)}),!0;return r.slideTo(v,t,e,n)}function dD(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function uD(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let s=o.activeIndex;const i=Math.min(o.params.slidesPerGroupSkip,s),a=i+Math.floor((s-i)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const c=o.snapGrid[a],u=o.snapGrid[a+1];l-c>(u-c)*r&&(s+=o.params.slidesPerGroup)}else{const c=o.snapGrid[a-1],u=o.snapGrid[a];l-c<=(u-c)*r&&(s-=o.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,o.slidesGrid.length-1),o.slideTo(s,t,e,n)}function fD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let o=t.clickedIndex,s;const i=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):(o>a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),o=t.getSlideIndex(An(n,`${i}[data-swiper-slide-index="${s}"]`)[0]),pC(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var hD={slideTo:iD,slideToLoop:aD,slideNext:lD,slidePrev:cD,slideReset:dD,slideToClosest:uD,slideToClickedSlide:fD};function pD(t,e){const n=this,{params:r,slidesEl:o}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{An(o,`.${r.slideClass}, swiper-slide`).forEach((y,g)=>{y.setAttribute("data-swiper-slide-index",g)})},i=()=>{const h=An(o,`.${r.slideBlankClass}`);h.forEach(y=>{y.remove()}),h.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&i();const l=r.slidesPerGroup*(a?r.grid.rows:1),c=n.slides.length%l!==0,u=a&&n.slides.length%r.grid.rows!==0,f=h=>{for(let y=0;y<h;y+=1){const g=n.isElement?$c("swiper-slide",[r.slideBlankClass]):$c("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(c){if(r.loopAddBlankSlides){const h=l-n.slides.length%l;f(h),n.recalcSlides(),n.updateSlides()}else Uc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(u){if(r.loopAddBlankSlides){const h=r.grid.rows-n.slides.length%r.grid.rows;f(h),n.recalcSlides(),n.updateSlides()}else Uc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function mD(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:o,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:h,slidesEl:y,params:g}=c,{centeredSlides:b,initialSlide:w}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=h,c.emit("loopFix");return}let v=g.slidesPerView;v==="auto"?v=c.slidesPerViewDynamic():(v=Math.ceil(parseFloat(g.slidesPerView,10)),b&&v%2===0&&(v=v+1));const m=g.slidesPerGroupAuto?v:g.slidesPerGroup;let p=b?Math.max(m,Math.ceil(v/2)):m;p%m!==0&&(p+=m-p%m),p+=g.loopAdditionalSlides,c.loopedSlides=p;const x=c.grid&&g.grid&&g.grid.rows>1;u.length<v+p||c.params.effect==="cards"&&u.length<v+p*2?Uc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&g.grid.fill==="row"&&Uc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],N=[],j=x?Math.ceil(u.length/g.grid.rows):u.length,C=i&&j-w<v&&!b;let S=C?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(B=>B.classList.contains(g.slideActiveClass))):S=s;const _=r==="next"||!r,T=r==="prev"||!r;let I=0,P=0;const A=(x?u[s].column:s)+(b&&typeof o>"u"?-v/2+.5:0);if(A<p){I=Math.max(p-A,m);for(let B=0;B<p-A;B+=1){const M=B-Math.floor(B/j)*j;if(x){const O=j-M-1;for(let R=u.length-1;R>=0;R-=1)u[R].column===O&&k.push(R)}else k.push(j-M-1)}}else if(A+v>j-p){P=Math.max(A-(j-p*2),m),C&&(P=Math.max(P,v-j+w+1));for(let B=0;B<P;B+=1){const M=B-Math.floor(B/j)*j;x?u.forEach((O,R)=>{O.column===M&&N.push(R)}):N.push(M)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<v+p*2&&(N.includes(s)&&N.splice(N.indexOf(s),1),k.includes(s)&&k.splice(k.indexOf(s),1)),T&&k.forEach(B=>{u[B].swiperLoopMoveDOM=!0,y.prepend(u[B]),u[B].swiperLoopMoveDOM=!1}),_&&N.forEach(B=>{u[B].swiperLoopMoveDOM=!0,y.append(u[B]),u[B].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():x&&(k.length>0&&T||N.length>0&&_)&&c.slides.forEach((B,M)=>{c.grid.updateSlide(M,B,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),n){if(k.length>0&&T){if(typeof e>"u"){const B=c.slidesGrid[S],O=c.slidesGrid[S+I]-B;l?c.setTranslate(c.translate-O):(c.slideTo(S+Math.ceil(I),0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else if(o){const B=x?k.length/g.grid.rows:k.length;c.slideTo(c.activeIndex+B,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&_)if(typeof e>"u"){const B=c.slidesGrid[S],O=c.slidesGrid[S-P]-B;l?c.setTranslate(c.translate-O):(c.slideTo(S-P,0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else{const B=x?N.length/g.grid.rows:N.length;c.slideTo(c.activeIndex-B,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const B={slideRealIndex:e,direction:r,setTranslate:o,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(M=>{!M.destroyed&&M.params.loop&&M.loopFix({...B,slideTo:M.params.slidesPerView===g.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...B,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}c.emit("loopFix")}function gD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(o=>{const s=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[s]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var yD={loopCreate:pD,loopFix:mD,loopDestroy:gD};function vD(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function bD(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var xD={setGrabCursor:vD,unsetGrabCursor:bD};function wD(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Mn()||r===Nt())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(t);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(e)}function Hv(t,e,n){const r=Nt(),{params:o}=t,s=o.edgeSwipeDetection,i=o.edgeSwipeThreshold;return s&&(n<=i||n>=r.innerWidth-i)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function kD(t){const e=this,n=Mn();let r=t;r.originalEvent&&(r=r.originalEvent);const o=e.touchEventsData;if(r.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(o.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Hv(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:i,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!P6(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||o.isTouched&&o.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(h?wD(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;i.currentX=r.pageX,i.currentY=r.pageY;const y=i.currentX,g=i.currentY;if(!Hv(e,r,y))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=y,i.startY=g,o.touchStartTime=Fc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(o.allowThresholdMove=!1);let b=!0;l.matches(o.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(o.focusableElements))&&n.activeElement.blur();const w=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function SD(t){const e=Mn(),n=this,r=n.touchEventsData,{params:o,touches:s,rtlTranslate:i,enabled:a}=n;if(!a||!o.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(N=>N.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f}),r.touchStartTime=Fc());return}if(o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(i&&(u>s.startX&&-n.translate<=n.maxTranslate()||u<s.startX&&-n.translate>=n.minTranslate()))return;if(!i&&(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=f;const h=s.currentX-s.startX,y=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+y**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let N;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+y*y>=25&&(N=Math.atan2(Math.abs(y),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?N>o.touchAngle:90-N>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&l.cancelable&&l.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&l.stopPropagation();let g=n.isHorizontal()?h:y,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;o.oneWayMovement&&(g=Math.abs(g)*(i?1:-1),b=Math.abs(b)*(i?1:-1)),s.diff=g,g*=o.touchRatio,i&&(g=-g,b=-b);const w=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const v=n.params.loop&&!o.cssMode,m=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(v&&m&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(N)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let p;if(new Date().getTime(),o._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&v&&m&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let x=!0,k=o.resistanceRatio;if(o.touchReleaseOnEdges&&(k=0),g>0?(v&&m&&!p&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**k))):g<0&&(v&&m&&!p&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(o.slidesPerView!=="auto"&&n.slides.length-o.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**k))),x&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(g)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function CD(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let o;if(r.type==="touchend"||r.type==="touchcancel"){if(o=[...r.changedTouches].find(k=>k.identifier===n.touchId),!o||o.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;o=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:i,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!i.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Fc(),h=f-n.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),h<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Fc(),pC(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let y;if(i.followFinger?y=l?e.translate:-e.translate:y=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:y});return}const g=y>=-e.maxTranslate()&&!e.params.loop;let b=0,w=e.slidesSizesGrid[0];for(let k=0;k<c.length;k+=k<i.slidesPerGroupSkip?1:i.slidesPerGroup){const N=k<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof c[k+N]<"u"?(g||y>=c[k]&&y<c[k+N])&&(b=k,w=c[k+N]-c[k]):(g||y>=c[k])&&(b=k,w=c[c.length-1]-c[c.length-2])}let v=null,m=null;i.rewind&&(e.isBeginning?m=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const p=(y-c[b])/w,x=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(p>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?v:b+x):e.slideTo(b)),e.swipeDirection==="prev"&&(p>1-i.longSwipesRatio?e.slideTo(b+x):m!==null&&p<0&&Math.abs(p)>i.longSwipesRatio?e.slideTo(m):e.slideTo(b))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(b+x):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:b+x),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:b))}}function Wv(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:s}=t,i=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=i&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!i?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function ED(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function TD(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const s=t.maxTranslate()-t.minTranslate();s===0?o=0:o=(t.translate-t.minTranslate())/s,o!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function _D(t){const e=this;Ul(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function jD(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const wC=(t,e)=>{const n=Mn(),{params:r,el:o,wrapperEl:s,device:i}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!o||typeof o=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),o[l]("touchstart",t.onTouchStart,{passive:!1}),o[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[c](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Wv,!0):t[c]("observerUpdate",Wv,!0),o[l]("load",t.onLoad,{capture:!0}))};function ND(){const t=this,{params:e}=t;t.onTouchStart=kD.bind(t),t.onTouchMove=SD.bind(t),t.onTouchEnd=CD.bind(t),t.onDocumentTouchStart=jD.bind(t),e.cssMode&&(t.onScroll=TD.bind(t)),t.onClick=ED.bind(t),t.onLoad=_D.bind(t),wC(t,"on")}function PD(){wC(this,"off")}var ID={attachEvents:ND,detachEvents:PD};const Gv=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function AD(){const t=this,{realIndex:e,initialized:n,params:r,el:o}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const i=Mn(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:i.querySelector(r.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const f=(c in s?s[c]:void 0)||t.originalParams,h=Gv(t,r),y=Gv(t,f),g=t.params.grabCursor,b=f.grabCursor,w=r.enabled;h&&!y?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&y&&(o.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!b?t.unsetGrabCursor():!g&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(N=>{if(typeof f[N]>"u")return;const j=r[N]&&r[N].enabled,C=f[N]&&f[N].enabled;j&&!C&&t[N].disable(),!j&&C&&t[N].enable()});const v=f.direction&&f.direction!==r.direction,m=r.loop&&(f.slidesPerView!==r.slidesPerView||v),p=r.loop;v&&n&&t.changeDirection(),Vt(t.params,f);const x=t.params.enabled,k=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!x?t.disable():!w&&x&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!p&&k?(t.loopCreate(e),t.updateSlides()):p&&!k&&t.loopDestroy()),t.emit("breakpoint",f)}function LD(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const o=Nt(),s=e==="window"?o.innerHeight:n.clientHeight,i=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});i.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<i.length;a+=1){const{point:l,value:c}=i[a];e==="window"?o.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var BD={setBreakpoint:AD,getBreakpoint:LD};function OD(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(e+o)}):typeof r=="string"&&n.push(e+r)}),n}function RD(){const t=this,{classNames:e,params:n,rtl:r,el:o,device:s}=t,i=OD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...i),o.classList.add(...e),t.emitContainerClasses()}function MD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var DD={addClasses:RD,removeClasses:MD};function FD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const o=t.slides.length-1,s=t.slidesGrid[o]+t.slidesSizesGrid[o]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var UD={checkOverflow:FD},ep={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function $D(t,e){return function(r){r===void 0&&(r={});const o=Object.keys(r)[0],s=r[o];if(typeof s!="object"||s===null){Vt(e,r);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in s)){Vt(e,r);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),Vt(e,r)}}const tf={eventsEmitter:D6,update:Y6,translate:tD,transition:sD,slide:hD,loop:yD,grabCursor:xD,events:ID,breakpoints:BD,checkOverflow:UD,classes:DD},nf={};let hg=class Vn{constructor(){let e,n;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?n=o[0]:[e,n]=o,n||(n={}),n=Vt({},n),e&&!n.el&&(n.el=e);const i=Mn();if(n.el&&typeof n.el=="string"&&i.querySelectorAll(n.el).length>1){const u=[];return i.querySelectorAll(n.el).forEach(f=>{const h=Vt({},n,{el:f});u.push(new Vn(h))}),u}const a=this;a.__swiper__=!0,a.support=yC(),a.device=vC({userAgent:n.userAgent}),a.browser=bC(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:$D(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Vt({},ep,l);return a.params=Vt({},c,nf,n),a.originalParams=Vt({},a.params),a.passedParams=Vt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,o=An(n,`.${r.slideClass}, swiper-slide`),s=zc(o[0]);return zc(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=An(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const o=r.minTranslate(),i=(r.maxTranslate()-o)*e+o;r.translateTo(i,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const o=e.getSlideClasses(r);n.push({slideEl:r,classNames:o}),e.emit("_slideClass",r,o)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:o,slides:s,slidesGrid:i,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let y=c+1;y<s.length;y+=1)s[y]&&!h&&(f+=Math.ceil(s[y].swiperSlideSize),u+=1,f>l&&(h=!0));for(let y=c-1;y>=0;y-=1)s[y]&&!h&&(f+=s[y].swiperSlideSize,u+=1,f>l&&(h=!0))}else if(e==="current")for(let f=c+1;f<s.length;f+=1)(n?i[f]+a[f]-i[c]<l:i[f]-i[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)i[c]-i[f]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&Ul(e,i)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const i=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(i,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)o(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const i=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(i.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||o()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,o=r.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):An(r,o())[0])();return!i&&n.params.createElements&&(i=$c("div",n.params.wrapperClass),r.append(i),An(r,`.${n.params.slideClass}`).forEach(a=>{i.append(a)})),Object.assign(n,{el:r,wrapperEl:i,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:i,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Or(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Or(r,"direction")==="rtl"),wrongRTL:Or(i,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const o=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&o.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(s=>{s.complete?Ul(n,s):s.addEventListener("load",i=>{Ul(n,i.target)})}),Zh(n),n.initialized=!0,Zh(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:o,el:s,wrapperEl:i,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),i&&i.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),E6(r)),r.destroyed=!0),null}static extendDefaults(e){Vt(nf,e)}static get extendedDefaults(){return nf}static get defaults(){return ep}static installModule(e){Vn.prototype.__modules__||(Vn.prototype.__modules__=[]);const n=Vn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Vn.installModule(n)),Vn):(Vn.installModule(e),Vn)}};Object.keys(tf).forEach(t=>{Object.keys(tf[t]).forEach(e=>{hg.prototype[e]=tf[t][e]})});hg.use([R6,M6]);const kC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function $o(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ps(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:$o(e[r])&&$o(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ps(t[r],e[r]):t[r]=e[r]})}function SC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function CC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function EC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function TC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function zD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function VD(t){let{swiper:e,slides:n,passedParams:r,changedParams:o,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}=t;const c=o.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:u,pagination:f,navigation:h,scrollbar:y,virtual:g,thumbs:b}=e;let w,v,m,p,x,k,N,j;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(w=!0),o.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(v=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(m=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&y&&!y.el&&(p=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||i)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(x=!0);const C=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),u[S].prevEl=void 0,u[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),u[S].el=void 0,e[S].el=void 0))};o.includes("loop")&&e.isElement&&(u.loop&&!r.loop?k=!0:!u.loop&&r.loop?N=!0:j=!0),c.forEach(S=>{if($o(u[S])&&$o(r[S]))Object.assign(u[S],r[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in r[S]&&!r[S].enabled&&C(S);else{const _=r[S];(_===!0||_===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?_===!1&&C(S):u[S]=r[S]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),o.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):o.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),o.includes("children")&&n&&u.loop&&(j=!0),w&&b.init()&&b.update(!0),v&&(e.controller.control=u.controller.control),m&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),p&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),y.init(),y.updateSize(),y.setTranslate()),x&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Vc(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Vc(i,e.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),h.init(),h.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&e.changeDirection(r.direction,!1),(k||j)&&e.loopDestroy(),(N||j)&&e.loopCreate(),e.update()}function HD(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},o={};Ps(n,ep),n._emitClasses=!0,n.init=!1;const s={},i=kC.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(i.indexOf(l)>=0?$o(t[l])?(n[l]={},o[l]={},Ps(n[l],t[l]),Ps(o[l],t[l])):(n[l]=t[l],o[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:o,rest:s,events:r}}function WD(t,e){let{el:n,nextEl:r,prevEl:o,paginationEl:s,scrollbarEl:i,swiper:a}=t;SC(e)&&r&&o&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=o,a.originalParams.navigation.prevEl=o),CC(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),EC(e)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(n)}function GD(t,e,n,r,o){const s=[];if(!e)return s;const i=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(o),c=n.map(o);l.join("")!==c.join("")&&i("children"),r.length!==n.length&&i("children")}return kC.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if($o(t[l])&&$o(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?i(l):(c.forEach(f=>{t[l][f]!==e[l][f]&&i(l)}),u.forEach(f=>{t[l][f]!==e[l][f]&&i(l)}))}else t[l]!==e[l]&&i(l)}),s}const qD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}function _C(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function jC(t){const e=[];return ee.Children.toArray(t).forEach(n=>{_C(n)?e.push(n):n.props&&n.props.children&&jC(n.props.children).forEach(r=>e.push(r))}),e}function KD(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ee.Children.toArray(t).forEach(r=>{if(_C(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const o=jC(r.props.children);o.length>0?o.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function YD(t,e,n){if(!n)return null;const r=u=>{let f=u;return u<0?f=e.length+u:f>=e.length&&(f=f-e.length),f},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:i}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=i&&c.push(e[r(u)]);return c.map((u,f)=>ee.cloneElement(u,{swiper:t,style:o,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function Vi(t,e){return typeof window>"u"?E.useEffect(t,e):E.useLayoutEffect(t,e)}const qv=E.createContext(null),XD=E.createContext(null),NC=E.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:o="div",children:s,onSwiper:i,...a}=t===void 0?{}:t,l=!1;const[c,u]=E.useState("swiper"),[f,h]=E.useState(null),[y,g]=E.useState(!1),b=E.useRef(!1),w=E.useRef(null),v=E.useRef(null),m=E.useRef(null),p=E.useRef(null),x=E.useRef(null),k=E.useRef(null),N=E.useRef(null),j=E.useRef(null),{params:C,passedParams:S,rest:_,events:T}=HD(a),{slides:I,slots:P}=KD(s),L=()=>{g(!y)};Object.assign(C.on,{_containerClasses(R,D){u(D)}});const A=()=>{Object.assign(C.on,T),l=!0;const R={...C};if(delete R.wrapperClass,v.current=new hg(R),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=I;const D={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};Ps(v.current.params.virtual,D),Ps(v.current.originalParams.virtual,D)}};w.current||A(),v.current&&v.current.on("_beforeBreakpoint",L);const B=()=>{l||!T||!v.current||Object.keys(T).forEach(R=>{v.current.on(R,T[R])})},M=()=>{!T||!v.current||Object.keys(T).forEach(R=>{v.current.off(R,T[R])})};E.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",L)}),E.useEffect(()=>{!b.current&&v.current&&(v.current.emitSlidesClasses(),b.current=!0)}),Vi(()=>{if(e&&(e.current=w.current),!!w.current)return v.current.destroyed&&A(),WD({el:w.current,nextEl:x.current,prevEl:k.current,paginationEl:N.current,scrollbarEl:j.current,swiper:v.current},C),i&&!v.current.destroyed&&i(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Vi(()=>{B();const R=GD(S,m.current,I,p.current,D=>D.key);return m.current=S,p.current=I,R.length&&v.current&&!v.current.destroyed&&VD({swiper:v.current,slides:I,passedParams:S,changedParams:R,nextEl:x.current,prevEl:k.current,scrollbarEl:j.current,paginationEl:N.current}),()=>{M()}}),Vi(()=>{qD(v.current)},[f]);function O(){return C.virtual?YD(v.current,I,f):I.map((R,D)=>ee.cloneElement(R,{swiper:v.current,swiperSlideIndex:D}))}return ee.createElement(r,Hc({ref:w,className:TC(`${c}${n?` ${n}`:""}`)},_),ee.createElement(XD.Provider,{value:v.current},P["container-start"],ee.createElement(o,{className:zD(C.wrapperClass)},P["wrapper-start"],O(),P["wrapper-end"]),SC(C)&&ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:k,className:"swiper-button-prev"}),ee.createElement("div",{ref:x,className:"swiper-button-next"})),EC(C)&&ee.createElement("div",{ref:j,className:"swiper-scrollbar"}),CC(C)&&ee.createElement("div",{ref:N,className:"swiper-pagination"}),P["container-end"]))});NC.displayName="Swiper";const PC=E.forwardRef(function(t,e){let{tag:n="div",children:r,className:o="",swiper:s,zoom:i,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const f=E.useRef(null),[h,y]=E.useState("swiper-slide"),[g,b]=E.useState(!1);function w(x,k,N){k===f.current&&y(N)}Vi(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){h!=="swiper-slide"&&y("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),Vi(()=>{s&&f.current&&!s.destroyed&&y(s.getSlideClasses(f.current))},[s]);const v={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},m=()=>typeof r=="function"?r(v):r,p=()=>{b(!0)};return ee.createElement(n,Hc({ref:f,className:TC(`${h}${o?` ${o}`:""}`),"data-swiper-slide-index":l,onLoad:p},u),i&&ee.createElement(qv.Provider,{value:v},ee.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},m(),a&&!g&&ee.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&ee.createElement(qv.Provider,{value:v},m(),a&&!g&&ee.createElement("div",{className:"swiper-lazy-preloader"})))});PC.displayName="SwiperSlide";function IC(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let s=An(t.el,`.${r[o]}`)[0];s||(s=$c("div",r[o]),s.className=r[o],t.el.append(s)),n[o]=s,e[o]=s}}),n}function JD(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let b;return g&&typeof g=="string"&&e.isElement&&(b=e.el.querySelector(g)||e.hostEl.querySelector(g),b)?b:(g&&(typeof g=="string"&&(b=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&b&&b.length>1&&e.el.querySelectorAll(g).length===1?b=e.el.querySelector(g):b&&b.length===1&&(b=b[0])),g&&!b?g:b)}function i(g,b){const w=e.params.navigation;g=rt(g),g.forEach(v=>{v&&(v.classList[b?"add":"remove"](...w.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=b),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:g,prevEl:b}=e.navigation;if(e.params.loop){i(b,!1),i(g,!1);return}i(b,e.isBeginning&&!e.params.rewind),i(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),o("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),o("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=IC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let b=s(g.nextEl),w=s(g.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:w}),b=rt(b),w=rt(w);const v=(m,p)=>{m&&m.addEventListener("click",p==="next"?c:l),!e.enabled&&m&&m.classList.add(...g.lockClass.split(" "))};b.forEach(m=>v(m,"next")),w.forEach(m=>v(m,"prev"))}function f(){let{nextEl:g,prevEl:b}=e.navigation;g=rt(g),b=rt(b);const w=(v,m)=>{v.removeEventListener("click",m==="next"?c:l),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(v=>w(v,"next")),b.forEach(v=>w(v,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?y():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:b}=e.navigation;if(g=rt(g),b=rt(b),e.enabled){a();return}[...g,...b].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(g,b)=>{let{nextEl:w,prevEl:v}=e.navigation;w=rt(w),v=rt(v);const m=b.target;let p=v.includes(m)||w.includes(m);if(e.isElement&&!p){const x=b.path||b.composedPath&&b.composedPath();x&&(p=x.find(k=>w.includes(k)||v.includes(k)))}if(e.params.navigation.hideOnClick&&!p){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===m||e.pagination.el.contains(m)))return;let x;w.length?x=w[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(x=v[0].classList.contains(e.params.navigation.hiddenClass)),o(x===!0?"navigationShow":"navigationHide"),[...w,...v].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:y,update:a,init:u,destroy:f})}function pi(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function QD(t){let{swiper:e,extendParams:n,on:r,emit:o}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let i,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(m,p){const{bulletActiveClass:x}=e.params.pagination;m&&(m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${x}-${p}`),m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${x}-${p}-${p}`)))}function u(m,p,x){if(m=m%x,p=p%x,p===m+1)return"next";if(p===m-1)return"previous"}function f(m){const p=m.target.closest(pi(e.params.pagination.bulletClass));if(!p)return;m.preventDefault();const x=zc(p)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const k=u(e.realIndex,x,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function h(){const m=e.rtl,p=e.params.pagination;if(l())return;let x=e.pagination.el;x=rt(x);let k,N;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,k=e.activeIndex||0),p.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const S=e.pagination.bullets;let _,T,I;if(p.dynamicBullets&&(i=Qh(S[0],e.isHorizontal()?"width":"height",!0),x.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${i*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&N!==void 0&&(a+=k-(N||0),a>p.dynamicMainBullets-1?a=p.dynamicMainBullets-1:a<0&&(a=0)),_=Math.max(k-a,0),T=_+(Math.min(S.length,p.dynamicMainBullets)-1),I=(T+_)/2),S.forEach(P=>{const L=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(A=>`${p.bulletActiveClass}${A}`)].map(A=>typeof A=="string"&&A.includes(" ")?A.split(" "):A).flat();P.classList.remove(...L)}),x.length>1)S.forEach(P=>{const L=zc(P);L===k?P.classList.add(...p.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),p.dynamicBullets&&(L>=_&&L<=T&&P.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),L===_&&c(P,"prev"),L===T&&c(P,"next"))});else{const P=S[k];if(P&&P.classList.add(...p.bulletActiveClass.split(" ")),e.isElement&&S.forEach((L,A)=>{L.setAttribute("part",A===k?"bullet-active":"bullet")}),p.dynamicBullets){const L=S[_],A=S[T];for(let B=_;B<=T;B+=1)S[B]&&S[B].classList.add(...`${p.bulletActiveClass}-main`.split(" "));c(L,"prev"),c(A,"next")}}if(p.dynamicBullets){const P=Math.min(S.length,p.dynamicMainBullets+4),L=(i*P-i)/2-I*i,A=m?"right":"left";S.forEach(B=>{B.style[e.isHorizontal()?A:"top"]=`${L}px`})}}x.forEach((S,_)=>{if(p.type==="fraction"&&(S.querySelectorAll(pi(p.currentClass)).forEach(T=>{T.textContent=p.formatFractionCurrent(k+1)}),S.querySelectorAll(pi(p.totalClass)).forEach(T=>{T.textContent=p.formatFractionTotal(C)})),p.type==="progressbar"){let T;p.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const I=(k+1)/C;let P=1,L=1;T==="horizontal"?P=I:L=I,S.querySelectorAll(pi(p.progressbarFillClass)).forEach(A=>{A.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${L})`,A.style.transitionDuration=`${e.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(Vc(S,p.renderCustom(e,k+1,C)),_===0&&o("paginationRender",S)):(_===0&&o("paginationRender",S),o("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](p.lockClass)})}function y(){const m=e.params.pagination;if(l())return;const p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=rt(x);let k="";if(m.type==="bullets"){let N=e.params.loop?Math.ceil(p/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>p&&(N=p);for(let j=0;j<N;j+=1)m.renderBullet?k+=m.renderBullet.call(e,j,m.bulletClass):k+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?k=m.renderFraction.call(e,m.currentClass,m.totalClass):k=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?k=m.renderProgressbar.call(e,m.progressbarFillClass):k=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(N=>{m.type!=="custom"&&Vc(N,k||""),m.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(pi(m.bulletClass)))}),m.type!=="custom"&&o("paginationRender",x[0])}function g(){e.params.pagination=IC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let p;typeof m.el=="string"&&e.isElement&&(p=e.el.querySelector(m.el)),!p&&typeof m.el=="string"&&(p=[...document.querySelectorAll(m.el)]),p||(p=m.el),!(!p||p.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...e.el.querySelectorAll(m.el)],p.length>1&&(p=p.find(x=>gC(x,".swiper")[0]===e.el))),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(e.pagination,{el:p}),p=rt(p),p.forEach(x=>{m.type==="bullets"&&m.clickable&&x.classList.add(...(m.clickableClass||"").split(" ")),x.classList.add(m.modifierClass+m.type),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(x.classList.add(`${m.modifierClass}${m.type}-dynamic`),a=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&x.classList.add(m.progressbarOppositeClass),m.clickable&&x.addEventListener("click",f),e.enabled||x.classList.add(m.lockClass)}))}function b(){const m=e.params.pagination;if(l())return;let p=e.pagination.el;p&&(p=rt(p),p.forEach(x=>{x.classList.remove(m.hiddenClass),x.classList.remove(m.modifierClass+m.type),x.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(x.classList.remove(...(m.clickableClass||"").split(" ")),x.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:p}=e.pagination;p=rt(p),p.forEach(x=>{x.classList.remove(m.horizontalClass,m.verticalClass),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(g(),y(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{y(),h()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=rt(m),m.forEach(p=>p.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,p)=>{const x=p.target,k=rt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const N=k[0].classList.contains(e.params.pagination.hiddenClass);o(N===!0?"paginationShow":"paginationHide"),k.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=rt(m),m.forEach(p=>p.classList.remove(e.params.pagination.paginationDisabledClass))),g(),y(),h()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=rt(m),m.forEach(p=>p.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:w,disable:v,render:y,update:h,init:g,destroy:b})}function ZD(t){let{swiper:e,extendParams:n,on:r,emit:o,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,f=new Date().getTime(),h,y,g,b,w,v,m;function p(O){!e||e.destroyed||!e.wrapperEl||O.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",p),!(m||O.detail&&O.detail.bySwiperTouchMove)&&_())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const O=e.autoplay.paused?u:f+c-new Date().getTime();e.autoplay.timeLeft=O,o("autoplayTimeLeft",O,O/l),a=requestAnimationFrame(()=>{x()})},k=()=>{let O;return e.virtual&&e.params.virtual.enabled?O=e.slides.find(D=>D.classList.contains("swiper-slide-active")):O=e.slides[e.activeIndex],O?parseInt(O.getAttribute("data-swiper-autoplay"),10):void 0},N=O=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),x();let R=typeof O>"u"?e.params.autoplay.delay:O;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const D=k();!Number.isNaN(D)&&D>0&&typeof O>"u"&&(R=D,l=D,c=D),u=R;const U=e.params.speed,G=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(U,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,U,!0,!0),o("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(U,!0,!0),o("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,U,!0,!0),o("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{N()})))};return R>0?(clearTimeout(i),i=setTimeout(()=>{G()},R)):requestAnimationFrame(()=>{G()}),R},j=()=>{f=new Date().getTime(),e.autoplay.running=!0,N(),o("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),o("autoplayStop")},S=(O,R)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),O||(v=!0);const D=()=>{o("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",p):_()};if(e.autoplay.paused=!0,R){w&&(u=e.params.autoplay.delay),w=!1,D();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),D())},_=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),v?(v=!1,N(u)):N(),e.autoplay.paused=!1,o("autoplayResume"))},T=()=>{if(e.destroyed||!e.autoplay.running)return;const O=Mn();O.visibilityState==="hidden"&&(v=!0,S(!0)),O.visibilityState==="visible"&&_()},I=O=>{O.pointerType==="mouse"&&(v=!0,m=!0,!(e.animating||e.autoplay.paused)&&S(!0))},P=O=>{O.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&_())},L=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",P))},A=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",P))},B=()=>{Mn().addEventListener("visibilitychange",T)},M=()=>{Mn().removeEventListener("visibilitychange",T)};r("init",()=>{e.params.autoplay.enabled&&(L(),B(),j())}),r("destroy",()=>{A(),M(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||v)&&_()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():S(!0,!0)}),r("beforeTransitionStart",(O,R,D)=>{e.destroyed||!e.autoplay.running||(D||!e.params.autoplay.disableOnInteraction?S(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}y=!0,g=!1,v=!1,b=setTimeout(()=>{v=!0,g=!0,S(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!y)){if(clearTimeout(b),clearTimeout(i),e.params.autoplay.disableOnInteraction){g=!1,y=!1;return}g&&e.params.cssMode&&_(),g=!1,y=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:j,stop:C,pause:S,resume:_})}const $l=({post:t})=>{var n,r,o,s,i;const e={...t,author:{name:(n=t.author)==null?void 0:n.name,fullname:(r=t.author)==null?void 0:r.name,username:(o=t.author)==null?void 0:o.username,avatar:(s=t.author)==null?void 0:s.avatar,profile_img:(i=t.author)==null?void 0:i.avatar},des:t.description,publishedAt:t.date,blog_id:t.blog_id||t._id};return d.jsx(dg,{blog:e,variant:"compact",showAuthor:!0,showStats:!1,showBookmark:!0,showLike:!1})},xr=({direction:t="left",onClick:e,disabled:n=!1,size:r="medium",variant:o="primary",className:s="",children:i})=>{const a={small:"p-1.5",medium:"p-2",large:"p-3"},l={primary:"bg-[#fad796] hover:bg-yellow-400 border-gray-200",secondary:"bg-gray-100 hover:bg-gray-200 border-gray-300",dark:"bg-gray-800 hover:bg-gray-700 border-gray-600 text-white"},c={small:"w-4 h-4",medium:"w-5 h-5",large:"w-6 h-6"},u={left:d.jsx("svg",{className:c[r],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),right:d.jsx("svg",{className:c[r],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})};return d.jsxs(q.button,{onClick:e,disabled:n,className:`
        ${a[r]} 
        ${l[o]}
        rounded-full shadow-lg border 
        disabled:opacity-50 disabled:cursor-not-allowed 
        relative overflow-hidden
        ${s}
      `,variants:Im,whileHover:n?{}:"hover",whileTap:n?{}:"tap",initial:"initial",animate:"animate",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[d.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6,ease:"easeInOut"}}),d.jsx(q.div,{className:"relative z-10 flex items-center justify-center",whileHover:{scale:1.1,transition:{duration:.2}},children:i||u[t]}),d.jsx(q.div,{className:"absolute inset-0 rounded-full bg-white/30",initial:{scale:0,opacity:0},whileTap:{scale:1.5,opacity:[0,1,0],transition:{duration:.4}}})]})},mi=({type:t="spinner",size:e="medium",color:n="primary",text:r="",className:o=""})=>{const s={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12",xlarge:"w-16 h-16"},i={primary:"border-gray-300 border-t-black",secondary:"border-gray-300 border-t-yellow-500",white:"border-gray-200 border-t-white",dark:"border-gray-600 border-t-gray-900"},a={small:"text-xs",medium:"text-sm",large:"text-base",xlarge:"text-lg"},l={initial:{scale:.8,opacity:.5},animate:{scale:[.8,1.2,.8],opacity:[.5,1,.5],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},c={initial:{y:0},animate:{y:[-10,0,-10],transition:{duration:1,repeat:1/0,ease:"easeInOut"}}},u={initial:{opacity:.3},animate:{opacity:[.3,.7,.3],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},f=()=>{switch(t){case"spinner":return d.jsx(q.div,{className:`${s[e]} border-2 ${i[n]} rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}});case"dots":return d.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(h=>d.jsx(q.div,{className:`${s[e]} bg-current rounded-full`,variants:l,initial:"initial",animate:"animate",transition:{delay:h*.2}},h))});case"wave":return d.jsx("div",{className:"flex space-x-1",children:[0,1,2,3,4].map(h=>d.jsx(q.div,{className:`w-1 ${s[e]} bg-current rounded-full`,variants:c,initial:"initial",animate:"animate",transition:{delay:h*.1}},h))});case"skeleton":return d.jsx(q.div,{className:`${s[e]} bg-gray-300 rounded`,variants:u,initial:"initial",animate:"animate"});case"ring":return d.jsx(q.div,{className:`${s[e]} border-4 border-gray-200 border-t-current rounded-full`,animate:{rotate:360},transition:{duration:1.2,repeat:1/0,ease:"linear"}});case"bars":return d.jsx("div",{className:"flex space-x-1",children:[0,1,2,3].map(h=>d.jsx(q.div,{className:`w-1 ${s[e]} bg-current rounded`,variants:c,initial:"initial",animate:"animate",transition:{delay:h*.15}},h))});default:return d.jsx(q.div,{className:`${s[e]} border-2 ${i[n]} rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}};return d.jsxs("div",{className:`flex flex-col items-center justify-center ${o}`,children:[d.jsx("div",{className:"flex items-center justify-center",children:f()}),r&&d.jsx(q.p,{className:`mt-2 text-gray-600 ${a[e]} text-center`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:r})]})},e8=({type:t="card",count:e=1,className:n="",animate:r=!0})=>{const o={initial:{opacity:.3},animate:{opacity:[.3,.7,.3],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},s=()=>{switch(t){case"card":return d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 h-[340px] w-full",children:[d.jsx(q.div,{className:"w-full h-32 bg-gray-200 rounded-md mb-3",variants:r?o:{},initial:"initial",animate:"animate"}),d.jsx(q.div,{className:"h-4 bg-gray-200 rounded mb-2",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.1}}),d.jsx(q.div,{className:"h-4 bg-gray-200 rounded mb-2 w-3/4",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.2}}),d.jsx(q.div,{className:"h-3 bg-gray-200 rounded mb-1",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.3}}),d.jsx(q.div,{className:"h-3 bg-gray-200 rounded mb-3 w-5/6",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.4}}),d.jsxs("div",{className:"flex items-center mt-auto bg-gray-100 rounded-xl px-3 py-2",children:[d.jsx(q.div,{className:"w-8 h-8 bg-gray-200 rounded-full",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.5}}),d.jsxs("div",{className:"ml-2 flex-grow",children:[d.jsx(q.div,{className:"h-3 bg-gray-200 rounded mb-1 w-20",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.6}}),d.jsx(q.div,{className:"h-2 bg-gray-200 rounded w-16",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.7}})]}),d.jsx(q.div,{className:"w-5 h-5 bg-gray-200 rounded",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.8}})]})]});case"list":return d.jsxs("div",{className:"flex flex-col sm:flex-row bg-white rounded-xl shadow p-4 gap-4 items-center",children:[d.jsx(q.div,{className:"w-full sm:w-32 h-40 sm:h-32 bg-gray-200 rounded-lg",variants:r?o:{},initial:"initial",animate:"animate"}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between h-full w-full",children:[d.jsxs("div",{children:[d.jsx(q.div,{className:"h-5 bg-gray-200 rounded mb-2",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.1}}),d.jsx(q.div,{className:"h-5 bg-gray-200 rounded mb-2 w-3/4",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.2}}),d.jsx(q.div,{className:"h-3 bg-gray-200 rounded mb-1",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.3}}),d.jsx(q.div,{className:"h-3 bg-gray-200 rounded w-5/6",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.4}})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4 bg-gray-100 rounded-lg px-3 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(q.div,{className:"w-8 h-8 bg-gray-200 rounded-full",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.5}}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(q.div,{className:"h-3 bg-gray-200 rounded mb-1 w-16",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.6}}),d.jsx(q.div,{className:"h-2 bg-gray-200 rounded w-12",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.7}})]})]}),d.jsx(q.div,{className:"w-5 h-5 bg-gray-200 rounded",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.8}})]})]})]});case"text":return d.jsxs("div",{className:"space-y-2",children:[d.jsx(q.div,{className:"h-4 bg-gray-200 rounded",variants:r?o:{},initial:"initial",animate:"animate"}),d.jsx(q.div,{className:"h-4 bg-gray-200 rounded w-5/6",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.1}}),d.jsx(q.div,{className:"h-4 bg-gray-200 rounded w-4/6",variants:r?o:{},initial:"initial",animate:"animate",transition:{delay:.2}})]});case"avatar":return d.jsx(q.div,{className:"w-8 h-8 bg-gray-200 rounded-full",variants:r?o:{},initial:"initial",animate:"animate"});case"button":return d.jsx(q.div,{className:"h-10 bg-gray-200 rounded-md w-24",variants:r?o:{},initial:"initial",animate:"animate"});default:return d.jsx(q.div,{className:"h-4 bg-gray-200 rounded",variants:r?o:{},initial:"initial",animate:"animate"})}};return d.jsx("div",{className:n,children:Array.from({length:e},(i,a)=>d.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1,duration:.5},children:s()},a))})},t8=()=>{let[t,e]=E.useState(null),[n,r]=E.useState(null),[o,s]=E.useState("home");const{userAuth:i,setUserAuth:a}=E.useContext(ve),{setBlogImages:l,setCategories:c}=E.useContext(Kd);i!=null&&i.liked_blogs,i!=null&&i.bookmarked_blogs;const[u,f]=E.useState(!1);E.useState(1);const[h,y]=E.useState(1);E.useState(1),E.useState(1);const[g,b]=E.useState([]),[w,v]=E.useState([]),[m,p]=E.useState([]),[x,k]=E.useState([]),[N,j]=E.useState(!1),[C,S]=E.useState(!1),[_,T]=E.useState(!1),[I,P]=E.useState(!1);E.useState([]),E.useState([]),E.useState([]),E.useState([]);const L=["islam","prophets","religion","basics","sahaba","anbiya"],A=E.useMemo(()=>{const F=((t==null?void 0:t.results)||[]).flatMap(z=>z.tags||[]);return Array.from(new Set([...L,...F]))},[t==null?void 0:t.results]);E.useEffect(()=>{c&&c(A);const z=[...(t==null?void 0:t.results)||[],...n||[],...g,...w,...m,...x].filter(Z=>Z.banner&&Z.blog_id).slice(0,12);l&&l(z)},[t,n,g,w,m,x,c,l]);let[B,M]=E.useState([]);E.useState(1);let[O,R]=E.useState(!1);const D=6,U=async(F=1)=>{try{const z=await dl.getBlogs(F,10),Z=await eo({state:t,data:z.blogs,page:F,countRoute:"/all-latest-blogs-count",create_new_arr:F===1});Z&&e(Z)}catch(z){console.error("Error fetching latest blogs:",z),e(Z=>Z||{results:[],page:1,totalDocs:0})}},G=async(F=1)=>{try{const{data:z}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:o,page:F},{timeout:1e4}),Z=await eo({state:t,data:z.blogs,page:F,countRoute:"/search-blogs-count",create_new_arr:F===1,data_to_send:{tag:o}});Z&&e(Z)}catch(z){console.error("Error fetching category blogs:",z),e(Z=>Z||{results:[],page:1,totalDocs:0})}},ie=async()=>{try{const F=await dl.getTrendingBlogs(10);F.blogs&&Array.isArray(F.blogs)?r(F.blogs):(console.error("Invalid trending blogs response:",F),r([]))}catch(F){console.error("Error fetching trending blogs:",F),r([])}},J=Xt(),we=F=>{J(`/categories/${encodeURIComponent(F)}`)},ge=async(F=1)=>{R(!0);try{const z=await dl.getTrendingBlogs();M(F===1?z.blogs.slice(0,D):Z=>[...Z,...z.blogs.slice((F-1)*D,F*D)])}catch{M([])}finally{R(!1)}},ye=async(F=1)=>{j(!0);try{console.log("Fetching popular blogs, page:",F);const{data:z}=await Y.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/popular-blogs?page=${F}&limit=30`);if(console.log("Popular blogs response:",z),!z.blogs||!Array.isArray(z.blogs)){console.error("Invalid response format for popular blogs:",z),b([]);return}console.log("Setting popular blogs:",z.blogs.length,"blogs"),b(z.blogs)}catch(z){console.error("Error fetching popular blogs:",z),b([])}finally{j(!1)}},$e=async(F=1)=>{S(!0);try{console.log("Fetching new blogs, page:",F);const{data:z}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:F});if(console.log("New blogs response:",z),!z.blogs||!Array.isArray(z.blogs)){console.error("Invalid response format for new blogs:",z),v([]);return}const Z=z.blogs.map(re=>({...re,date:ei(re.publishedAt)}));console.log("Setting new blogs:",Z.length,"blogs"),v(Z)}catch(z){console.error("Error fetching new blogs:",z),v([])}finally{S(!1)}},He=async(F=1)=>{T(!0);try{console.log("Fetching trendy blogs, page:",F);const{data:z}=await Y.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs?page=${F}&limit=30`);if(console.log("Trendy blogs response:",z),!z.blogs||!Array.isArray(z.blogs)){console.error("Invalid response format for trendy blogs:",z),p([]);return}console.log("Setting trendy blogs:",z.blogs.length,"blogs"),p(z.blogs)}catch(z){console.error("Error fetching trendy blogs:",z),p([])}finally{T(!1)}},Pe=async(F=1)=>{P(!0);try{console.log("Fetching top blogs, page:",F);const{data:z}=await Y.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/top-blogs?page=${F}&limit=30`);if(console.log("Top blogs response:",z),!z.blogs||!Array.isArray(z.blogs)){console.error("Invalid response format for top blogs:",z),k([]);return}console.log("Setting top blogs:",z.blogs.length,"blogs"),k(z.blogs)}catch(z){console.error("Error fetching top blogs:",z),k([])}finally{P(!1)}};E.useState(1),E.useState(1),E.useState(1),E.useEffect(()=>{(async()=>{try{console.log("Starting to load data..."),console.log("VITE_SERVER_DOMAIN:","https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev"),e(null),o=="home"?(console.log("Fetching latest blogs..."),await U(1)):(console.log("Fetching category blogs..."),await G(1)),n||(console.log("Fetching trending blogs..."),ie()),B.length===0&&(console.log("Fetching most viewed blogs..."),ge(1)),console.log("Fetching section blogs..."),ye(1),$e(1),He(1),Pe(1),console.log("Data loading completed")}catch(z){console.error("Error loading initial data:",z),e({results:[],page:1,totalDocs:0}),r([])}})()},[o]);const Oe=()=>{const F=h+1;y(F),$e(F)},Je=()=>{if(h>1){const F=h-1;y(F),$e(F)}},Ft=async F=>{var Z;if(!(i!=null&&i.access_token)||u)return;const z=(Z=i==null?void 0:i.bookmarked_blogs)==null?void 0:Z.includes(F);f(!0);try{await dl.toggleBookmark(F,z);const re=await u6.getProfile(i.username);a(re)}catch(re){console.error("Bookmark error:",re)}finally{setTimeout(()=>{f(!1)},300)}},[tt,kn]=E.useState(0),Sn=g.slice(tt,tt+4),[wt,ao]=E.useState(0),Jo=m.slice(wt,wt+4),[K,ce]=E.useState(0),ae=x.slice(K,K+4);return d.jsxs(Ge,{children:[d.jsx(q.div,{variants:kk,initial:"initial",animate:"animate",transition:{duration:.6},children:d.jsx(k6,{categories:A,onCategorySelect:we})}),d.jsxs(q.section,{className:"h-cover flex flex-col gap-10 px-[5vw] home-page-content",variants:Qy,initial:"initial",animate:"animate",children:[d.jsxs(q.div,{className:"w-full",variants:Ll,children:[d.jsx(q.div,{className:"flex items-center justify-between mb-8",variants:lA}),n==null?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(mi,{type:"pulse",size:"xlarge",color:"primary",text:"Loading trending stories..."})}):n.length>0&&d.jsxs(q.div,{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",variants:Qy,children:[n.slice(0,2).map((F,z)=>d.jsx(q.div,{className:"h-[300px]",variants:Ll,custom:z,children:d.jsx($v,{blog:F})},z)),d.jsx(q.div,{className:"h-[300px] lg:col-span-2",variants:Ll,custom:2,children:d.jsx(NC,{modules:[JD,QD,ZD],spaceBetween:50,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"h-full",children:n.slice(2).map((F,z)=>d.jsx(PC,{children:d.jsx($v,{blog:F})},z))})})]})]}),d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("h1",{className:"font-medium text-2xl",children:"Popular Posts"}),!N&&g.length>0&&d.jsxs("div",{className:"text-sm text-gray-500",children:[tt+1," - ",Math.min(tt+4,g.length)," of ",g.length]})]}),N?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx(mi,{type:"dots",size:"large",color:"secondary",text:"Loading popular posts..."})}):d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"left",onClick:()=>kn(tt-1),disabled:tt===0,size:"large",variant:"primary"})}),d.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"right",onClick:()=>kn(tt+1),disabled:tt+4>=g.length,size:"large",variant:"primary"})}),d.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",children:Sn.map((F,z)=>{var Z,re,xe,de;return d.jsx("div",{className:"w-1/4 flex-shrink-0 px-2",children:d.jsx(Ge,{children:d.jsx($l,{post:{banner:F.banner,title:F.title,description:F.des||F.description,author:{name:(re=(Z=F.author)==null?void 0:Z.personal_info)==null?void 0:re.fullname,avatar:(de=(xe=F.author)==null?void 0:xe.personal_info)==null?void 0:de.profile_img},date:F.publishedAt||F.createdAt,blog_id:F.blog_id||F._id}})})},z)})}),g.length>4&&d.jsx(q.div,{className:"flex justify-center mt-4 space-x-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:Array.from({length:Math.max(1,g.length-3)},(F,z)=>d.jsx(q.button,{onClick:()=>kn(z),className:`w-2 h-2 rounded-full transition-all duration-300 ${tt===z?"bg-yellow-500":"bg-gray-300 hover:bg-gray-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9},animate:{scale:tt===z?1.3:1,backgroundColor:tt===z?"#f59e0b":"#d1d5db"},transition:{duration:.2}},z))})]})]}),d.jsxs("div",{className:"w-full mt-12",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("h1",{className:"font-medium text-2xl",children:"New Posts"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(xr,{direction:"left",onClick:Je,disabled:h===1||C,size:"medium",variant:"primary"}),d.jsx(xr,{direction:"right",onClick:Oe,disabled:C,size:"medium",variant:"primary"})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:C?d.jsx("div",{className:"col-span-full flex justify-center py-8",children:d.jsx(mi,{type:"wave",size:"medium",color:"primary",text:"Loading new posts..."})}):w.length===0?d.jsx(e8,{type:"list",count:6,className:"col-span-full"}):w.length?w.slice(0,6).map((F,z)=>{var Z,re,xe,de,Ie,ht,at;return d.jsx(ne,{to:`/blog/${F.blog_id||F._id}`,className:"block",children:d.jsxs("div",{className:"flex flex-col sm:flex-row bg-white rounded-xl shadow p-4 gap-4 items-center hover:shadow-lg transition-shadow duration-300 cursor-pointer",children:[d.jsx("img",{src:F.banner||"/src/imgs/default.jpg",alt:F.title,className:"w-full sm:w-32 h-40 sm:h-32 object-cover rounded-lg"}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between h-full",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"font-semibold text-lg line-clamp-2",children:F.title}),d.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:F.des||F.description})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4 bg-gray-100 rounded-lg px-3 ",children:[d.jsxs("div",{className:"flex items-center gap-2 rounded-lg px-3 py-2",children:[d.jsx("img",{src:((re=(Z=F.author)==null?void 0:Z.personal_info)==null?void 0:re.profile_img)||"/src/imgs/default.jpg",alt:(de=(xe=F.author)==null?void 0:xe.personal_info)==null?void 0:de.fullname,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-medium",children:(ht=(Ie=F.author)==null?void 0:Ie.personal_info)==null?void 0:ht.fullname}),d.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:F.publishedAt?cg(F.publishedAt):""})]})]}),d.jsx("button",{className:"ml-3",onClick:Ut=>{Ut.preventDefault(),Ut.stopPropagation(),Ft(F.blog_id||F._id)},disabled:u,children:(at=i==null?void 0:i.bookmarked_blogs)!=null&&at.includes(F.blog_id||F._id)?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-black dark:hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})})})]})]})]})},z)}):d.jsx(or,{message:"No Most Viewed Blogs"})})]}),d.jsxs("div",{className:"w-full mt-12",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("h1",{className:"font-medium text-2xl",children:"Trendy Posts"}),!_&&m.length>0&&d.jsxs("div",{className:"text-sm text-gray-500",children:[wt+1," - ",Math.min(wt+4,m.length)," of ",m.length]})]}),_?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx(mi,{type:"ring",size:"large",color:"secondary",text:"Loading trendy posts..."})}):d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"left",onClick:()=>ao(wt-1),disabled:wt===0,size:"large",variant:"primary"})}),d.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"right",onClick:()=>ao(wt+1),disabled:wt+4>=m.length,size:"large",variant:"primary"})}),d.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",children:Jo.map((F,z)=>{var Z,re,xe,de;return d.jsx("div",{className:"w-1/4 flex-shrink-0 px-2",children:d.jsx(Ge,{children:d.jsx($l,{post:{banner:F.banner,title:F.title,description:F.des||F.description,author:{name:(re=(Z=F.author)==null?void 0:Z.personal_info)==null?void 0:re.fullname,avatar:(de=(xe=F.author)==null?void 0:xe.personal_info)==null?void 0:de.profile_img},date:F.publishedAt||F.createdAt,blog_id:F.blog_id||F._id}})})},z)})}),m.length>4&&d.jsx(q.div,{className:"flex justify-center mt-4 space-x-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:Array.from({length:Math.max(1,m.length-3)},(F,z)=>d.jsx(q.button,{onClick:()=>ao(z),className:`w-2 h-2 rounded-full transition-all duration-300 ${wt===z?"bg-yellow-500":"bg-gray-300 hover:bg-gray-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9},animate:{scale:wt===z?1.3:1,backgroundColor:wt===z?"#f59e0b":"#d1d5db"},transition:{duration:.2}},z))})]})]}),d.jsxs("div",{className:"w-full mt-12",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("h1",{className:"font-medium text-2xl mb-8",children:"Top Posts"}),!I&&x.length>0&&d.jsxs("div",{className:"text-sm text-gray-500",children:[K+1," - ",Math.min(K+4,x.length)," of ",x.length]})]}),I?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx(mi,{type:"bars",size:"large",color:"secondary",text:"Loading top posts..."})}):d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"left",onClick:()=>ce(K-1),disabled:K===0,size:"large",variant:"primary"})}),d.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 z-50",children:d.jsx(xr,{direction:"right",onClick:()=>ce(K+1),disabled:K+4>=x.length,size:"large",variant:"primary"})}),d.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",children:ae.map((F,z)=>{var Z,re,xe,de;return d.jsx("div",{className:"w-1/4 flex-shrink-0 px-2",children:d.jsx(Ge,{children:d.jsx($l,{post:{banner:F.banner,title:F.title,description:F.des||F.description,author:{name:(re=(Z=F.author)==null?void 0:Z.personal_info)==null?void 0:re.fullname,avatar:(de=(xe=F.author)==null?void 0:xe.personal_info)==null?void 0:de.profile_img},date:F.publishedAt||F.createdAt,blog_id:F.blog_id||F._id}})})},z)})}),x.length>4&&d.jsx(q.div,{className:"flex justify-center mt-4 space-x-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:Array.from({length:Math.max(1,x.length-3)},(F,z)=>d.jsx(q.button,{onClick:()=>ce(z),className:`w-2 h-2 rounded-full transition-all duration-300 ${K===z?"bg-yellow-500":"bg-gray-300 hover:bg-gray-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9},animate:{scale:K===z?1.3:1,backgroundColor:K===z?"#f59e0b":"#d1d5db"},transition:{duration:.2}},z))})]})]})]})]})},n8=()=>{let{query:t}=Go();const{userAuth:e,setUserAuth:n}=E.useContext(ve);let[r,o]=E.useState(null);const s=({page:l=1,create_new_arr:c=!1})=>{Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{query:t,page:l}).then(async({data:u})=>{let f=await eo({state:r,data:u.blogs,page:l,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:c});o(f)}).catch(u=>{console.log(u)})},i=()=>{o(null)};E.useEffect(()=>{i(),s({page:1,create_new_arr:!0})},[t]);const a=(l,c)=>{n(u=>{if(!u)return u;let f=u.liked_blogs||[];return l?f.includes(c)||(f=[...f,c]):f=f.filter(h=>h!==c),{...u,liked_blogs:f}})};return d.jsx("section",{className:"h-cover flex justify-center gap-10",children:d.jsx("div",{className:"w-full",children:r===null?d.jsx(_e,{}):d.jsx(d.Fragment,{children:r.results.length?d.jsxs(d.Fragment,{children:[r.results.map((l,c)=>{var u;return d.jsx(Ge,{transition:{duration:1,delay:c*.1},children:d.jsx(zi,{content:l,author:l.author.personal_info,liked:(u=e==null?void 0:e.liked_blogs)==null?void 0:u.includes(l.blog_id),onLikeToggle:a})},c)}),d.jsx(sr,{state:r,fetchDataFun:s})]}):d.jsx(or,{message:"No blogs published"})})})})},AC=()=>d.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20 text-center",children:[d.jsx("img",{src:wk,className:"select-none border-2 border-grey w-72 aspect-[2/1] object-cover rounded"}),d.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),d.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:["The page you are looking for has been moved or deleted. ",d.jsx("br",{}),"Head back to the ",d.jsx(ne,{to:"/",className:"text-black underline",children:"home page"})]}),d.jsxs("div",{className:"mt-auto",children:[d.jsx(ne,{to:"/",className:"text-2xl font-bold text-[#185d4e] shrink-0",children:"IslamicStories"}),d.jsx("p",{className:"mt-5 text-dark-grey",children:"Read motivating stories about Islam"})]})]}),r8="modulepreload",o8=function(t){return"/"+t},Kv={},s8=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=o8(s),s in Kv)return;Kv[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const f=o[u];if(f.href===s&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":r8,i||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),i)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})},i8=({className:t="",bio:e="",social_links:n={},joinedAt:r,personal_info:o={}})=>{const{firstname:s,lastname:i,username:a,email:l,fullname:c,profile_img:u}=o;return d.jsxs("div",{className:"w-full max-w-xl mx-auto flex flex-col items-center justify-center bg-white rounded-xl shadow-lg p-8 md:p-12 gap-4 text-center "+t,children:[u&&d.jsx("img",{src:u,alt:"Profile",className:"w-32 h-32 object-cover rounded-full border-4 border-primary mb-4 shadow"}),c&&d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:c}),a&&d.jsxs("p",{className:"text-lg text-primary font-medium mb-1",children:["@",a]}),(s||i)&&d.jsxs("p",{className:"text-lg text-gray-600 mb-1",children:[s," ",i]}),l&&d.jsx("p",{className:"text-base text-gray-500 mb-2",children:l}),e!=null&&e.length?d.jsx("p",{className:"text-lg leading-7 text-black dark:text-white mb-4",children:e}):null,d.jsx("div",{className:"flex items-center justify-center gap-x-5 gap-y-2 flex-wrap my-4 text-dark-grey",children:Object.keys(n).map(f=>{let h=n[f];return h?d.jsx(ne,{to:h,target:"_blank",children:d.jsx("i",{className:"fi "+(f!=="website"?"fi-brands-"+f:"fi-rr-globe")+" text-2xl hover:text-primary transition-colors"})},f):null})}),r&&d.jsxs("p",{className:"text-base text-gray-400 mt-2",children:["Joined on ",cg(r)]})]})};let gi,hl;const zo=({routes:t=[],defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{gi=E.useRef(),hl=E.useRef();const[o,s]=E.useState(n),i=(a,l)=>{if(!a)return;const{offsetWidth:c,offsetLeft:u}=a;gi.current&&(gi.current.style.width=c+"px",gi.current.style.left=u+"px"),s(l)};return E.useEffect(()=>{hl.current&&i(hl.current,n)},[]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[t.map((a,l)=>d.jsx("button",{ref:l===n?hl:null,className:`p-4 px-5 capitalize ${o===l?"text-black ":"text-dark-grey "}${e.includes(a)?"md:hidden ":""}`,onClick:c=>i(c.target,l),children:a},l)),d.jsx("hr",{ref:gi,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[o]:r]})},tp={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_blogs:0},social_links:{},joinedAt:""},a8=()=>{console.log("Rendering ProfilePage");let{username:t}=Go(),[e,n]=E.useState(tp),[r,o]=E.useState(!0),[s,i]=E.useState(null),[a,l]=E.useState("");const[c,u]=E.useState(null),[f,h]=E.useState(null),[y,g]=E.useState(!1);console.log("Profile username from URL:",t);let{personal_info:{fullname:b,username:w,profile_img:v,bio:m},account_info:{total_posts:p,total_reads:x},social_links:k,joinedAt:N}=e;const{userAuth:j,setUserAuth:C}=E.useContext(ve);j!=null&&j.username;const S=(j==null?void 0:j.username)&&w&&j.username===w;if(console.log("Profile debug:",{profileId:t,userAuthUsername:j==null?void 0:j.username,profileUsername:w,isOwnProfile:S,bookmarked_blogs:j==null?void 0:j.bookmarked_blogs,bookmarkedBlogsState:f,profile:e,userAuth:j}),!j)return console.log("User not authenticated or userAuth not loaded yet."),d.jsx(_e,{});const _=(M,O)=>{C(R=>{if(!R)return R;let D=R.liked_blogs||[];return M?D.includes(O)||(D=[...D,O]):D=D.filter(U=>U!==O),{...R,liked_blogs:D}})},T=()=>{console.log("Fetching profile for username:",t),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:t}).then(({data:M})=>{console.log("Profile API response:",M),M?(n(M),console.log("Fetched profile:",M),l(t),u(null),I({user_id:M._id}),S&&s8(()=>Promise.resolve().then(()=>p3),void 0).then(({updateUserAuth:O})=>{O(M,C)})):(console.log("No user data received from API"),u("User not found")),o(!1)}).catch(M=>{var O;console.error("Profile fetch error:",M),((O=M.response)==null?void 0:O.status)===404?u("User not found"):u("Failed to load profile"),o(!1)})},I=async({page:M=1,user_id:O})=>{O=O||(s==null?void 0:s.user_id);try{const{data:{blogs:R,total:D}}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{author:O,page:M}),U=await eo({state:s,data:R,page:M,countRoute:"/search-blogs-count",data_to_send:{author:O},create_new_arr:M===1});U&&i(U)}catch(R){console.error("Error fetching blogs:",R)}},P=(M,O)=>{I({page:O,user_id:M})},L=async({page:M=1})=>{var O,R;if(console.log("getBookmarkedBlogs called:",{page:M,bookmarked_blogs:j==null?void 0:j.bookmarked_blogs,length:(O=j==null?void 0:j.bookmarked_blogs)==null?void 0:O.length,userAuth:j}),!((R=j==null?void 0:j.bookmarked_blogs)!=null&&R.length)){console.log("No bookmarked blogs found, setting empty state"),h({results:[],page:1,totalDocs:0});return}try{console.log("Making API call to get-blogs-by-ids with:",{blog_ids:j.bookmarked_blogs,page:M,limit:5});const{data:{blogs:D,totalDocs:U}}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blogs-by-ids",{blog_ids:j.bookmarked_blogs,page:M,limit:5});console.log("Setting bookmarkedBlogs:",D),console.log("Rendering bookmarkedBlogs.results:",D),D.forEach((G,ie)=>{console.log(`Blog #${ie}:`,G)}),h(f!==null&&M!==1?{...f,results:[...f.results,...D],page:M,totalDocs:U}:{results:D||[],page:1,totalDocs:U})}catch(D){console.error("Error fetching bookmarked blogs:",D),h({results:[],page:1,totalDocs:0})}},A=({page:M})=>{L({page:M})};E.useEffect(()=>{t!==a&&i(null),s===null&&(B(),T())},[t,s]),E.useEffect(()=>{console.log("useEffect for bookmarks triggered:",{bookmarkedBlogs:f,userAuth:!!j,profileId:t,isOwnProfile:S}),f===null&&j&&S&&(console.log("Fetching bookmarked blogs..."),g(!0),L({page:1}).finally(()=>{g(!1)}))},[j,f,t,S]),E.useEffect(()=>{S&&a===t&&L({page:1})},[S,a,t]);const B=()=>{n(tp),o(!0),l(""),h(null)};return d.jsx(Ge,{children:r?d.jsx(_e,{}):e&&e.personal_info&&e.personal_info.username&&e.personal_info.username.length?d.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[d.jsx("div",{className:"flex flex-col items-center justify-center w-full md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:d.jsx(i8,{personal_info:e.personal_info,bio:m,social_links:k,joinedAt:N})}),d.jsx("div",{className:"w-full",children:S?d.jsxs(zo,{routes:["Published Blogs","Bookmarked Blogs"],defaultActiveIndex:0,children:[d.jsx("div",{label:"Published Blogs",children:s==null?d.jsx(_e,{}):s.results.length?d.jsxs(d.Fragment,{children:[s.results.map((M,O)=>{var R;return d.jsx(Ge,{transition:{duration:1,delay:O*.1},children:d.jsx(zi,{content:M,author:M.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(M.blog_id),onLikeToggle:_})},O)}),d.jsx(sr,{state:s,fetchDataFun:P,additionalParam:s.user_id})]}):d.jsx(or,{message:"No Blogs Published"})}),d.jsx("div",{label:"Bookmarked Blogs",children:!f||!Array.isArray(f.results)?d.jsx(_e,{}):f.results.length===0?d.jsx(or,{message:"No Bookmarked Blogs"}):d.jsxs(d.Fragment,{children:[f.results.map((M,O)=>{var R;return d.jsx(Ge,{transition:{duration:1,delay:O*.1},children:d.jsx(zi,{content:M,author:M.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(M.blog_id),onLikeToggle:_})},O)}),d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx(sr,{state:f,fetchDataFun:A})})]})})]}):d.jsx(zo,{routes:["Published Blogs","About"],defaultActiveIndex:0,children:d.jsx("div",{label:"Published Blogs",children:s==null?d.jsx(_e,{}):s.results.length?d.jsxs(d.Fragment,{children:[s.results.map((M,O)=>{var R;return d.jsx(Ge,{transition:{duration:1,delay:O*.1},children:d.jsx(zi,{content:M,author:M.author.personal_info,liked:(R=j==null?void 0:j.liked_blogs)==null?void 0:R.includes(M.blog_id),onLikeToggle:_})},O)}),d.jsx(sr,{state:s,fetchDataFun:P,additionalParam:s.user_id})]}):d.jsx(or,{message:"No Blogs Published"})})})})]}):c?d.jsx(AC,{}):d.jsx(_e,{})})},l8=()=>{const[t,e]=E.useState(!1),{blog:n,setBlog:r,isLikedByUser:o,setLikedByUser:s,commentsWrapper:i,setCommentsWrapper:a}=E.useContext(Xo),{userAuth:l,setUserAuth:c}=E.useContext(ve),{_id:u,title:f="",blog_id:h="",activity:{total_likes:y=0,total_comments:g=0}={},author:{personal_info:{username:b=""}={}}={}}=n||{},{userAuth:{username:w="",access_token:v=""}={}}=E.useContext(ve)||{};E.useEffect(()=>{console.log("BlogInteraction mounted"),console.log("Blog data:",n),console.log("Author username:",b),console.log("Current user:",w),console.log("Should show edit button:",w===b)},[n,w,b]);const m=()=>{if(!t)if(v){e(!0);const p=!o,x=p?y+1:y-1;s&&s(p),r&&r(k=>({...k,activity:{...k.activity,total_likes:x}})),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/like-blog",{blog_id:h},{headers:{Authorization:`Bearer ${v}`}}).then(()=>{c&&c(k=>{if(!k)return k;let N=k.liked_blogs||[];return p?N.includes(h)||(N=[...N,h]):N=N.filter(j=>j!==h),{...k,liked_blogs:N}})}).catch(k=>{s&&s(!p),r&&r(N=>({...N,activity:{...N.activity,total_likes:y}})),H.error("Failed to update like status")}).finally(()=>{e(!1)})}else H.error("Please login to like this blog")};return d.jsxs(d.Fragment,{children:[d.jsx($n,{}),d.jsx("hr",{className:"border-grey my-2"}),d.jsxs("div",{className:"flex gap-6 justify-between",children:[d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("button",{onClick:m,disabled:t,className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-red/20 text-red":"bg-grey/80"} ${t?"cursor-not-allowed":""}`,children:d.jsx("i",{className:`fi ${o?"fi-sr-heart":"fi-rr-heart"}`})}),d.jsx("p",{className:"text-xl text-dark-grey",children:y}),d.jsx("button",{onClick:()=>{a&&a(!0);const p=document.getElementById("comments-section");p&&p.scrollIntoView({behavior:"smooth"})},className:"w-10 h-10 rounded-full flex items-center justify-center bg-grey/80 ",children:d.jsx("i",{className:"fi fi-rr-comment-dots"})}),d.jsx("p",{className:"text-xl text-dark-grey",children:g})]}),d.jsxs("div",{className:"flex gap-6 items-center",children:[w===b&&d.jsx(ne,{to:`/editor/${h}`,className:"underline hover:text-purple-600",children:"Edit"}),d.jsx(ne,{to:`https://twitter.com/intent/tweet?text=Read ${encodeURIComponent(f)}&url=${encodeURIComponent(window.location.href)}`,children:d.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter"})})]})]}),d.jsx("hr",{className:"border-grey my-2"})]})},c8=({url:t,caption:e})=>!t||t.startsWith("blob:")?(console.warn("Invalid or missing image URL:",t),null):d.jsxs("div",{children:[d.jsx("img",{src:t,alt:e||"blog image"}),(e==null?void 0:e.length)>0&&d.jsx("p",{className:"w-full text-center my-3 md:mb-12 text-base text-dark-grey",children:e})]}),d8=({style:t,items:e})=>d.jsx("ol",{className:`pl-5 ${t==="ordered"?"list-decimal":"list-disc"}`,children:e.map((n,r)=>d.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}),u8=({quote:t,caption:e})=>d.jsxs("div",{className:"bg-purple/10 p-3 pl-5 border-l-4 border-purple",children:[d.jsx("p",{className:"text-xl leading-10 md:text-2xl",children:t}),(e==null?void 0:e.length)>0&&d.jsx("p",{className:"w-full text-purple text-base",children:e})]}),f8=({block:t})=>{const{type:e,data:n}=t;return e==="paragraph"?d.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?d.jsx("h3",{className:"text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):d.jsx("h2",{className:"text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?d.jsx(c8,{url:n.file.url,caption:n.caption}):e==="quote"?d.jsx(u8,{quote:n.text,caption:n.caption}):e==="list"?d.jsx(d8,{style:n.style,items:n.items}):null},h8=({action:t,type:e="Comment"})=>{var f,h,y,g,b;const[n,r]=E.useState(""),[o,s]=E.useState(!1),{userAuth:i}=E.useContext(ve),{blog:a,setBlog:l}=E.useContext(Xo),c=!!(i!=null&&i.username||i!=null&&i.profile_img||i!=null&&i.fullname||(f=i==null?void 0:i.personal_info)!=null&&f.username||(h=i==null?void 0:i.personal_info)!=null&&h.profile_img||(y=i==null?void 0:i.personal_info)!=null&&y.fullname),u=async w=>{var v,m,p;if(w.preventDefault(),!(!n.trim()||!(a!=null&&a.blog_id))){s(!0);try{const{data:x}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/add-comment",{blog_id:a.blog_id||a._id,comment:n.trim(),blog_author:(v=a.author)==null?void 0:v._id},{headers:{"Content-Type":"application/json"}});if(x.success){r("");const k={...a};k.comments||(k.comments={results:[]}),k.activity||(k.activity={total_parent_comments:0}),x.comment&&k.comments.results&&k.comments.results.unshift(x.comment),l(k),H.success("Comment posted successfully!")}}catch(x){console.error("Error submitting comment:",x),(p=(m=x.response)==null?void 0:m.data)!=null&&p.error?H.error("Error posting comment: "+x.response.data.error):H.error("Failed to post comment. Please try again.")}finally{s(!1)}}};return c?d.jsxs(d.Fragment,{children:[d.jsx($n,{}),d.jsx(Ge,{children:d.jsx("form",{onSubmit:u,className:"bg-white p-4 rounded-lg border comment-field",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("img",{src:((g=i==null?void 0:i.personal_info)==null?void 0:g.profile_img)||(i==null?void 0:i.profile_img)||"/src/imgs/user profile.png",alt:((b=i==null?void 0:i.personal_info)==null?void 0:b.fullname)||(i==null?void 0:i.fullname)||"Profile",className:"w-10 h-10 rounded-full"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("textarea",{value:n,onChange:w=>r(w.target.value),placeholder:"Share your thoughts on this story...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent resize-none",rows:"3",disabled:o,maxLength:500}),d.jsxs("div",{className:"flex justify-between items-center mt-3",children:[d.jsxs("span",{className:"text-sm text-gray-500",children:[n.length,"/500 characters"]}),d.jsx("button",{type:"submit",disabled:!n.trim()||o||n.length>500,className:"px-4 py-2 bg-yellow-300 text-white rounded-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Posting...":`Post ${e}`})]})]})]})})})]}):d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[d.jsx("p",{className:"text-gray-600 mb-2",children:"Please log in to leave a comment"}),d.jsx(ne,{to:"/login",className:"text-yellow-300 hover:text-yellow-400 font-medium",children:"Login to Comment"})]})},LC=({commentData:t,index:e,leftVal:n})=>{var j,C,S;if(console.log("CommentCard received commentData:",t),!t||!t._id)return null;const[r,o]=E.useState(!1),[s,i]=E.useState(!1),[a,l]=E.useState("");E.useState(!1);const[c,u]=E.useState(!1),{userAuth:f}=E.useContext(ve),{blog:h,setBlog:y,fetchBlog:g}=E.useContext(Xo),{_id:b,comment:w,commented_by:v,commentedAt:m,children:p}=t,x=f&&v&&(v._id===f._id||v.toString()===f._id||f.admin===!0);console.log("userAuth:",f),console.log("canDelete:",x);const k=async()=>{var _,T;if(!(!x||!(h!=null&&h.blog_id))&&window.confirm("Are you sure you want to delete this comment?")){o(!0);try{const{data:I}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-comment",{comment_id:b,blog_id:h.blog_id||h._id},{headers:{Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"}});if(I.success)if(typeof g=="function")await g();else{const P={...h};P.comments&&P.comments.results&&(P.comments.results=P.comments.results.filter(L=>L._id!==b)),y(P)}}catch(I){console.error("Error deleting comment:",I),(T=(_=I.response)==null?void 0:_.data)!=null&&T.error?H.error("Error deleting comment: "+I.response.data.error):H.error("Failed to delete comment. Please try again.")}finally{o(!1)}}},N=async()=>{var _,T,I;if(!(!a.trim()||!(h!=null&&h.blog_id)))try{const{data:P}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/add-comment",{blog_id:h.blog_id||h._id,comment:a.trim(),blog_author:(_=h.author)==null?void 0:_._id,replying_to:b},{headers:{Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"}});if(P.success){l(""),i(!1);const L=P.comment,A=(M,O,R)=>M.map(D=>D._id===O?{...D,children:Array.isArray(D.children)?[...D.children,R]:[R]}:Array.isArray(D.children)&&D.children.length>0?{...D,children:A(D.children,O,R)}:D),B={...h};B.comments&&Array.isArray(B.comments.results)&&(B.comments.results=A(B.comments.results,b,L)),y(B),H.success("Reply posted successfully!")}}catch(P){console.error("Error posting reply:",P),(I=(T=P.response)==null?void 0:T.data)!=null&&I.error?H.error("Error posting reply: "+P.response.data.error):H.error("Failed to post reply. Please try again.")}};return d.jsxs(d.Fragment,{children:[d.jsx($n,{}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border hover:shadow-sm transition-shadow",style:{marginLeft:`${(n||0)*24}px`},children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("img",{src:((j=v==null?void 0:v.personal_info)==null?void 0:j.profile_img)||(v==null?void 0:v.profile_img)||kh,alt:((C=v==null?void 0:v.personal_info)==null?void 0:C.fullname)||(v==null?void 0:v.fullname)||"User",className:"w-10 h-10 rounded-full flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("h4",{className:"font-medium text-gray-800",children:((S=v==null?void 0:v.personal_info)==null?void 0:S.fullname)||(v==null?void 0:v.fullname)||"Unknown User"})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-xs text-gray-500",children:ei(m)}),console.log("userAuth in CommentCard:",f),console.log("userAuth check result:",!!f),f&&f.access_token&&d.jsx("button",{onClick:()=>i(!s),className:"text-black underline hover:text-black font-medium px-2 py-1 bg-transparent border-none cursor-pointer",title:"Reply to comment",children:"Reply"}),f&&!f.access_token&&d.jsx("span",{className:"text-xs text-gray-400",children:"(No token)"}),!f&&d.jsx("span",{className:"text-xs text-gray-400",children:"(Not logged in)"}),x&&d.jsx("button",{onClick:k,disabled:r,className:"text-red underline hover:text-red-700 font-medium px-2 py-1 bg-transparent border-none cursor-pointer disabled:opacity-50",title:"Delete comment",style:{background:"none",border:"none"},children:"Delete"})]})]}),d.jsx("p",{className:"text-black dark:text-white leading-relaxed whitespace-pre-wrap",children:w}),s&&d.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[d.jsx("textarea",{value:a,onChange:_=>l(_.target.value),placeholder:"Write your reply...",className:"w-full p-2 border border-gray-300 rounded-md resize-none h-20 focus:outline-none focus:ring-2 focus:ring-black"}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{onClick:N,disabled:!a.trim(),className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reply"}),d.jsx("button",{onClick:()=>{i(!1),l("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"})]})]})]})]}),Array.isArray(p)&&p.length>0&&d.jsxs("div",{className:"mt-4",children:[p.slice(0,c?p.length:2).map((_,T)=>d.jsx(LC,{commentData:_,index:T,leftVal:(n||0)+1},_._id||T)),p.length>2&&!c&&d.jsxs("button",{className:"text-sm text-black underline hover:text-gray-700 mt-2",onClick:()=>u(!0),children:["Show more replies (",p.length-2," more)"]}),p.length>2&&c&&d.jsx("button",{className:"text-sm text-black underline hover:text-gray-700 mt-2",onClick:()=>u(!1),children:"Show less replies"})]})]})]})},p8=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{try{console.log("Fetching comments for blog:",e,"skip:",t);const{data:o}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog-comments",{blog_id:e,skip:t});console.log("Received comments data:",o);const s=o.comments||[];return Array.isArray(s)?(s.forEach(i=>{var a,l,c;i.childrenLevel=0,i.commented_by&&typeof i.commented_by=="object"&&(i.commented_by.fullname=((a=i.commented_by.personal_info)==null?void 0:a.fullname)||"Unknown User",i.commented_by.username=((l=i.commented_by.personal_info)==null?void 0:l.username)||"unknown",i.commented_by.profile_img=((c=i.commented_by.personal_info)==null?void 0:c.profile_img)||"/src/imgs/user profile.png",i.commented_by.role=i.commented_by.role||"user")}),n(i=>i+s.length),r===null?{results:s}:{results:[...r,...s]}):(console.error("Invalid comments data received:",s),{results:[]})}catch(o){return console.error("Error fetching comments:",o),o.response&&(console.error("Error response:",o.response.data),console.error("Error status:",o.response.status)),{results:[]}}};function m8(t){const e={},n=[];return t.forEach(r=>{e[r._id]={...r,children:[]}}),t.forEach(r=>{const o=r.parent||r.replying_to;o?e[o]&&e[o].children.push(e[r._id]):n.push(e[r._id])}),n}const BC=()=>{var u,f;const t=E.useContext(Xo);if(E.useEffect(()=>{console.log("CommentsContainer mounted with context:",t)},[t]),!t||!t.blog)return console.log("No context or blog data available"),null;const{blog:e,commentsWrapper:n,setCommentsWrapper:r,totalParentCommentsLoaded:o,setTotalParentCommentsLoaded:s}=t,i=((u=e.comments)==null?void 0:u.results)||[],a=Array.isArray(i)?m8(i.filter(h=>h&&h._id)):[],l=((f=e.activity)==null?void 0:f.total_comments)||0;console.log("CommentsContainer - blog data:",e),console.log("CommentsContainer - comments array:",i),console.log("CommentsContainer - valid comments array:",a),console.log("CommentsContainer - total parent comments:",l);const c=async()=>{try{const h=await p8({skip:o,blog_id:e.blog_id||e._id,setParentCommentCountFun:s,comment_array:i});t.setBlog({...e,comments:h})}catch(h){console.error("Error loading more comments:",h)}};return d.jsxs("section",{id:"comments-section",className:"w-full mt-12",children:[d.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-black dark:text-white",children:[d.jsx("span",{className:"text-yellow-400 text-base",children:"•"})," Comments"]}),d.jsx(h8,{action:"Comment"}),d.jsx("div",{className:"flex flex-col gap-4",children:a&&a.length?a.map((h,y)=>d.jsx(Ge,{children:d.jsx("div",{className:"bg-gray-50 rounded-xl p-5",children:d.jsx(LC,{index:y,leftVal:h.childrenLevel||0,commentData:h})})},y)):d.jsx(or,{message:"No Comments"})}),l>0&&l>o?d.jsx("button",{onClick:c,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2 mt-6 mx-auto",children:"Load More"}):null]})},g8=({currentBlogId:t,tags:e})=>{const[n,r]=E.useState(null),[o,s]=E.useState(!0),[i,a]=E.useState(4),[l,c]=E.useState(!1),{userAuth:u,setUserAuth:f}=E.useContext(ve);E.useEffect(()=>{(async()=>{if(!e||e.length===0){r([]),s(!1);return}try{const{data:v}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:e[0],limit:20,eleminate_blog:t});r(v.blogs)}catch(v){console.error("Error fetching similar blogs:",v),r([])}finally{s(!1)}})()},[t,e]);const h=()=>{c(!0),setTimeout(()=>{a(w=>w+4),c(!1)},500)},y=(w,v)=>{f(m=>{if(!m)return m;let p=m.liked_blogs||[];return w?p.includes(v)||(p=[...p,v]):p=p.filter(x=>x!==v),{...m,liked_blogs:p}})};if(o)return d.jsx(_e,{});if(!n||n.length===0)return null;const g=n.slice(0,i),b=i<n.length;return d.jsxs("div",{className:"mt-14",children:[d.jsx("h1",{className:"text-2xl mb-10 font-medium",children:"Similar Blogs"}),g.map((w,v)=>{var p;let{author:{personal_info:m}}=w;return d.jsx(Ge,{transition:{duration:1,delay:v*.1},children:d.jsx(zi,{content:w,author:m,liked:(p=u==null?void 0:u.liked_blogs)==null?void 0:p.includes(w.blog_id),onLikeToggle:y})},v)}),b&&d.jsx("div",{className:"flex justify-center mt-8",children:d.jsx("button",{onClick:h,disabled:l,className:"btn-dark py-3 px-8 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More"})})]})};const y8=({author:t,tags:e,topPosts:n,blogId:r})=>{const{setCommentsWrapper:o}=E.useContext(Xo)||{};E.useContext(ve);const{handleBookmark:s,isBookmarked:i,bookmarking:a}=dC(),l=()=>{o&&o(!0);const f=document.getElementById("comments-section");f&&f.scrollIntoView({behavior:"smooth"})},c=async()=>{r&&await s(r)},u=async()=>{if(!r)return;const f=window.location.origin+"/blog/"+r;try{await navigator.clipboard.writeText(f),ke.success("Blog link copied to clipboard!")}catch{ke.error("Failed to copy link.")}};return d.jsxs("aside",{className:"w-full max-w-xs flex flex-col gap-6 bg-white text-black dark:bg-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-lg dark:shadow-gray-900/50",children:[d.jsxs("div",{className:"flex gap-3 mb-2",children:[d.jsxs("button",{className:"flex-1 bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 dark:text-white font-medium text-sm transition-all duration-300 hover:scale-105 hover:shadow-md dark:hover:shadow-gray-800/50 transform",onClick:u,disabled:!r,children:[d.jsx("i",{className:"fi fi-rs-paper-plane text-gray-600 dark:text-gray-300 transition-colors duration-300"}),d.jsx("span",{className:"text-gray-700 dark:text-white transition-colors duration-300",children:"Share"})]}),r&&d.jsxs("button",{className:"flex-1 bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 dark:text-white font-medium text-sm transition-all duration-300 hover:scale-105 hover:shadow-md dark:hover:shadow-gray-800/50 transform",onClick:c,disabled:a,"aria-label":i(r)?"Unbookmark":"Bookmark",children:[i(r)?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5  transition-all duration-300 hover:scale-110",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600 dark:text-white transition-all duration-300 hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5v14l7-7 7 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2z"})}),d.jsx("span",{className:"text-gray-700 dark:text-white transition-colors duration-300",children:"Save"})]}),d.jsxs("button",{className:"flex-1 bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg py-2 flex items-center justify-center gap-2 text-gray-700 dark:text-white font-medium text-sm transition-all duration-300 hover:scale-105 hover:shadow-md dark:hover:shadow-gray-800/50 transform",onClick:l,children:[d.jsx("i",{className:"fi fi-rs-comment-dots text-gray-600 dark:text-gray-300 transition-colors duration-300"}),d.jsx("span",{className:"text-gray-700 dark:text-white transition-colors duration-300",children:"Comment"})]})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 transition-all duration-300 hover:shadow-lg dark:hover:shadow-gray-800/50 hover:scale-[1.02] transform",children:[d.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-white",children:[d.jsx("span",{className:"text-yellow-500 text-lg transition-all duration-300 hover:scale-110 transform",children:"•"})," Tags"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.map((f,h)=>d.jsx(ne,{to:`/search/${encodeURIComponent(f)}`,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-3 py-1 rounded-full text-xs cursor-pointer hover:bg-yellow-50 dark:hover:bg-gray-600 transition-all duration-300 border border-gray-200 dark:border-gray-600 hover:scale-105 hover:shadow-md dark:hover:shadow-gray-700/50 transform hover:-translate-y-1",style:{textDecoration:"none"},children:d.jsx("span",{className:"text-gray-700 dark:text-gray-200 transition-colors duration-300",children:f})},h))})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 transition-all duration-300 hover:shadow-lg dark:hover:shadow-gray-800/50 hover:scale-[1.02] transform",children:[d.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-white",children:[d.jsx("span",{className:"text-yellow-500 text-lg transition-all duration-300 hover:scale-110 transform",children:"•"})," Top Post"]}),d.jsx("div",{className:"flex flex-col gap-3",children:n==null?void 0:n.map((f,h)=>d.jsxs(ne,{to:`/blog/${f.blog_id}`,className:"group flex gap-3 items-center hover:bg-black dark:hover:bg-gray-900 rounded-lg p-2 transition-all duration-300 border border-transparent  dark:hover:border-gray-600 hover:shadow-md dark:hover:shadow-gray-700/50 hover:scale-[1.02] transform",children:[d.jsx("img",{src:f.banner,alt:f.title,className:"w-12 h-12 rounded object-cover transition-all duration-300 group-hover:scale-110 transform"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-sm line-clamp-2 text-gray-800 dark:text-white group-hover:text-gray-900 dark:group-hover:text-white transition-colors duration-300",children:f.title}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 line-clamp-1 transition-colors duration-300",children:new Date(f.publishedAt).toLocaleString("default",{month:"short",year:"numeric"})})]})]},f.blog_id))})]})]})};function v8(t){return ug({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function b8(t){return ug({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}const Xo=E.createContext({}),Yv={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:"",comments:{results:[]},activity:{total_parent_comments:0}},x8=()=>{var _,T,I;const{blog_id:t}=Go(),[e,n]=E.useState(Yv),[r,o]=E.useState(null),[s,i]=E.useState(!0),[a,l]=E.useState(!1),[c,u]=E.useState(!0),[f,h]=E.useState(0),[y,g]=E.useState([]),[b,w]=E.useState([]),[v,m]=E.useState(null),p=async({blog_id:P,setParentCommentCountFun:L})=>{try{if(console.log("Fetching comments for blog:",P),!P)return console.error("Blog ID is missing"),{results:[]};const{data:A}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog-comments",{blog_id:P});return console.log("Comments response:",A),A.comments?(L(A.comments.length),{results:A.comments}):{results:[]}}catch(A){return console.error("Error fetching comments:",A),A.response&&console.error("Error details:",A.response.data),{results:[]}}},x=async()=>{try{const{data:{blog:P,likedByUser:L}}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog",{blog_id:t});if(console.log("Received blog data:",P),n(P),l(L),P&&P.blog_id){console.log("Fetching comments for blog ID:",P.blog_id);const A=await p({blog_id:P.blog_id,setParentCommentCountFun:h});P.comments=A,n(P)}if(P.tags&&P.tags.length>0){const{data:A}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:P.tags[0],limit:6,eleminate_blog:t});o(A.blogs)}}catch(P){console.error("Error fetching blog:",P),P.response&&(console.error("Error details:",P.response.data),console.error("Error status:",P.response.status),console.error("Error headers:",P.response.headers)),n(null)}finally{i(!1)}};if(E.useEffect(()=>{n(Yv),o(null),i(!0),x(),l(!1),u(!1),h(0),Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-blogs").then(P=>g(P.data.blogs)).catch(console.error),Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/trending-tags").then(P=>w(P.data.tags.map(L=>L._id))).catch(console.error)},[t]),E.useEffect(()=>{var L,A;const P=(A=(L=e==null?void 0:e.author)==null?void 0:L.personal_info)==null?void 0:A.username;P&&Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:P}).then(B=>m(B.data)).catch(console.error)},[(T=(_=e==null?void 0:e.author)==null?void 0:_.personal_info)==null?void 0:T.username]),s)return d.jsx(_e,{});if(!e)return d.jsx("div",{className:"max-w-[900px] center py-10",children:"Blog not found"});const{title:k="",content:N=[],banner:j="",publishedAt:C=""}=e,S=N&&N.length>0&&N[0]&&N[0].blocks;return d.jsx(Ge,{children:d.jsxs(Xo.Provider,{value:{blog:e,setBlog:n,isLikedByUser:a,setLikedByUser:l,commentsWrapper:c,setCommentsWrapper:u,totalParentCommentsLoaded:f,setTotalParentCommentsLoaded:h,fetchBlog:x},children:[d.jsxs("div",{className:"flex flex-row gap-8 max-w-6xl mx-auto py-10 max-lg:px-[5vw] items-start",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:k}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-500 text-sm mb-6",children:[d.jsxs("span",{children:["Published on ",ei(C)]}),d.jsx("span",{className:"hidden sm:block",children:"•"}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(v8,{className:"inline-block"})," ",((I=e.activity)==null?void 0:I.total_reads)||0," Views"]}),e.tags&&e.tags.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden sm:block",children:"•"}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(b8,{className:"inline-block"})," ",e.tags[0]]})]})]}),d.jsx("img",{src:j,alt:"Blog Banner",className:"aspect-video rounded-xl w-full object-cover mb-8"}),d.jsx("div",{className:"my-8 font-geliasio blog-page-content text-base md:text-lg leading-relaxed",children:S?N[0].blocks.map((P,L)=>d.jsx("div",{className:"my-4 md:my-8",children:d.jsx(f8,{block:P})},L)):d.jsx("div",{className:"text-gray-500 italic",children:"No content available"})}),d.jsx(g8,{currentBlogId:t,tags:e.tags||[],similarBlogs:r}),d.jsx(l8,{})]}),d.jsx("div",{className:"hidden lg:flex flex-col w-80 flex-shrink-0 gap-6",children:d.jsx(y8,{author:v,tags:e.tags||[],topPosts:y,blogId:e.blog_id})})]}),d.jsx(BC,{})]})})},Xv=()=>{const{userAuth:t,setUserAuth:e}=E.useContext(ve)||{},n=t==null?void 0:t.access_token;t==null||t.new_notification_available;let r=location.pathname.split("/")[2],[o,s]=E.useState(r.replace("-"," ")),[i,a]=E.useState(!1),l=E.useRef(),c=E.useRef(),u=E.useRef();const f=h=>{let{offsetWidth:y,offsetLeft:g}=h.target;l.current.style.width=y+"px",l.current.style.left=g+"px",h.target===c.current?a(!0):a(!1)};return E.useEffect(()=>{a(!1),u.current.click()},[o]),n===null?d.jsx(t_,{to:"/signin"}):d.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[d.jsxs("div",{className:"z-30",children:[d.jsxs("div",{className:"md:hidden bg-white py-1 border-b border-grey flex flex-nowrap overflow-x-auto",children:[d.jsx("button",{ref:c,className:"p-5 capitalize",onClick:f,children:d.jsx("i",{className:"fi fi-rr-bars-staggered pointer-events-none"})}),d.jsx("button",{ref:u,className:"p-5 capitalize",onClick:f,children:o}),d.jsx("hr",{ref:l,className:"absolute bottom-0 duration-500"})]}),d.jsxs("div",{className:"min-w-[200px] h-[calc(100vh-80px-60px)] md:sticky md:top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r bg-white max-md:absolute max-md:top-0 max-md:left-0 max-md:w-full max-md:h-screen max-md:z-30 duration-500"+(i?" max-md:translate-x-0 max-md:opacity-100 max-md:pointer-events-auto":" max-md:-translate-x-full max-md:opacity-0 max-md:pointer-events-none"),children:[d.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:"Settings"}),d.jsx("hr",{className:"border-grey -ml-6 mb-8 mr-6"}),d.jsxs(P0,{to:"/settings/edit-profile",onClick:h=>s(h.target.innerText),className:"sidebar-link",children:[d.jsx("i",{className:"fi fi-rr-user"}),"Edit Profile"]}),d.jsxs(P0,{to:"/settings/change-password",onClick:h=>s(h.target.innerText),className:"sidebar-link",children:[d.jsx("i",{className:"fi fi-rr-lock"}),"Change Password"]})]})]}),d.jsx("div",{className:"max-md:mt-0 mt-5 w-full",children:d.jsx(kw,{})})]})},w8=()=>{const[t,e]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,r]=E.useState(!1),[o,s]=E.useState(null),[i,a]=E.useState(!1);E.useContext(ve);const l=Xt(),c=f=>{const{name:h,value:y}=f.target;e(g=>({...g,[h]:y}))},u=async f=>{if(f.preventDefault(),r(!0),s(null),a(!1),t.newPassword!==t.confirmPassword){s("New passwords do not match"),r(!1);return}if(t.newPassword.length<6){s("New password must be at least 6 characters long"),r(!1);return}try{const h=await fetch("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/change-password",{method:"PATCH",body:JSON.stringify({currentPassword:t.currentPassword,newPassword:t.newPassword})}),y=await h.json();h.ok?(a(!0),e({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{l("/profile")},3e3)):s(y.message||"Failed to change password")}catch(h){console.error("Error changing password:",h),s("Failed to change password")}finally{r(!1)}};return d.jsx("div",{className:"change-password-page min-h-screen bg-gray-50 py-8",children:d.jsxs("div",{className:"max-w-md mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Change Password"}),d.jsx("p",{className:"text-gray-600",children:"Update your account password"})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),d.jsx("input",{type:"password",name:"currentPassword",value:t.currentPassword,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),d.jsx("input",{type:"password",name:"newPassword",value:t.newPassword,onChange:c,required:!0,minLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters long"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),d.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent"})]}),t.newPassword&&d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Strength:"}),d.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(f=>{const h=t.newPassword.length>=f*2;return d.jsx("div",{className:`flex-1 h-2 rounded ${h?t.newPassword.length>=8?"bg-green-500":"bg-yellow-500":"bg-gray-200"}`},f)})}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.newPassword.length>=8?"Strong password":t.newPassword.length>=6?"Good password":"Weak password"})]}),o&&d.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o}),i&&d.jsx("div",{className:"p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"Password changed successfully! Redirecting to profile..."}),d.jsx("div",{className:"flex space-x-4",children:d.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-yellow-400 text-white rounded-lg hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Changing...":"Change Password"})})]})}),d.jsxs("div",{className:"mt-6 bg-yellow-30 p-4 rounded-lg",children:[d.jsx("h3",{className:"font-medium text-yellow-300 mb-2",children:"💡 Security Tips"}),d.jsxs("ul",{className:"text-sm text-yellow-300 space-y-1",children:[d.jsx("li",{children:"• Use a mix of letters, numbers, and symbols"}),d.jsx("li",{children:"• Avoid using personal information"}),d.jsx("li",{children:"• Don't reuse passwords from other accounts"}),d.jsx("li",{children:"• Consider using a password manager"})]})]})]})})},k8=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=E.useContext(ve),r=150,o=E.useRef(),s=E.useRef();const[i,a]=E.useState(tp),[l,c]=E.useState(!0);E.useState(r);const[u,f]=E.useState(null),[h,y]=E.useState(0),[g,b]=E.useState(t.username),[w,v]=E.useState(!1),[m,p]=E.useState(!1);let{personal_info:{fullname:x,username:k,profile_img:N,email:j,bio:C,firstname:S,lastname:_},social_links:T}=i;const I=(R,D)=>{a(U=>({...U,social_links:{...U.social_links,[R]:D}}))},P=R=>{a(D=>({...D,personal_info:{...D.personal_info,username:R.target.value}}))},L=R=>{let D=R.target.files[0];o.current.src=URL.createObjectURL(D),f(D)},A=()=>{document.getElementById("uploadImg").click()},B=R=>{if(R.preventDefault(),m)return;if(!u){A();return}p(!0);let D=H.loading("Uploading...");CM(u).then(U=>{U?Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-profile-img",{url:U}).then(({data:G})=>{let ie={...t,profile_img:G.profile_img};updateUserAuth(ie,n),f(null),y(J=>J+1),H.dismiss(D),H.success("Uploaded 👍")}).catch(G=>{var J,we;H.dismiss(D);let ie=((we=(J=G==null?void 0:G.response)==null?void 0:J.data)==null?void 0:we.error)||G.message||"Upload failed. Please try again.";H.error(ie)}):(H.dismiss(D),H.error("Upload failed. Please try again."))}).catch(U=>{var ie,J;H.dismiss(D);let G=((J=(ie=U==null?void 0:U.response)==null?void 0:ie.data)==null?void 0:J.error)||U.message||"Upload failed. Please try again.";H.error(G)}).finally(()=>{p(!1)})},M=R=>{if(R.preventDefault(),w)return;const{firstname:D,lastname:U,username:G,email:ie,bio:J}=i.personal_info,{youtube:we,facebook:ge,twitter:ye,github:$e,instagram:He,website:Pe}=T;if(!D||D.length<1)return H.error("First name must be at least 1 letter long");if(!U||U.length<1)return H.error("Last name must be at least 1 letter long");if(!G||G.length<3)return H.error("Username should be at least 3 letters long");if((J||"").length>r)return H.error(`Bio should not be more than ${r}`);v(!0);let Oe=H.loading("Updating ...");Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/update-profile",{firstname:D,lastname:U,fullname:x,email:ie,username:G,bio:J,social_links:{youtube:we,facebook:ge,twitter:ye,github:$e,instagram:He,website:Pe}}).then(({data:Je})=>{if(t.username!==Je.username){let Ft={...t,username:Je.username,email:Je.email};updateUserAuth(Ft,n),b(Je.username)}else if(t.email!==Je.email){let Ft={...t,email:Je.email};updateUserAuth(Ft,n)}y(Ft=>Ft+1),H.dismiss(Oe),H.success("Profile Updated")}).catch(Je=>{var tt,kn;H.dismiss(Oe);let Ft=((kn=(tt=Je==null?void 0:Je.response)==null?void 0:tt.data)==null?void 0:kn.error)||Je.message||"Update failed";H.error(Ft)}).finally(()=>{v(!1)})},O=R=>{a(D=>({...D,personal_info:{...D.personal_info,email:R.target.value}}))};return E.useEffect(()=>{e&&g&&Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-profile",{username:g}).then(({data:R})=>{a(R),c(!1)}).catch(R=>{console.log(R),c(!1)})},[e,g,h]),E.useEffect(()=>{b(t.username)},[t.username]),d.jsx(Ge,{children:l?d.jsx(_e,{}):d.jsxs("form",{ref:s,className:"max-w-6xl mx-auto bg-white rounded-xl shadow-lg p-8 md:p-12 relative",onSubmit:M,children:[d.jsx($n,{}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"First Name"}),d.jsx(Pn,{name:"firstname",type:"text",value:i.personal_info.firstname||"",placeholder:"First Name",icon:"fi-rr-user",onChange:R=>a(D=>({...D,personal_info:{...D.personal_info,firstname:R.target.value}}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"Last Name"}),d.jsx(Pn,{name:"lastname",type:"text",value:i.personal_info.lastname||"",placeholder:"Last Name",icon:"fi-rr-user",onChange:R=>a(D=>({...D,personal_info:{...D.personal_info,lastname:R.target.value}}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"User Name"}),d.jsx(Pn,{name:"username",type:"text",value:i.personal_info.username,placeholder:"User Name",icon:"fi-rr-at",onChange:P})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),d.jsx(Pn,{name:"email",type:"email",value:i.personal_info.email||"",placeholder:"Email",icon:"fi-rr-envelope",onChange:O})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsx("label",{className:"block mb-2 font-medium",children:"Add Profile Image"}),d.jsx("div",{className:"w-full max-w-2xl mx-auto",children:d.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 flex flex-col items-center justify-center py-16 relative group transition-all duration-200",children:[d.jsx("img",{ref:o,src:N,className:"w-24 h-24 object-cover rounded-full mb-4"}),d.jsx("i",{className:"fi fi-rr-picture text-5xl text-gray-300 mb-2"}),d.jsx("p",{className:"text-gray-400 mb-2",children:"Drop Image Here, Paste Or"}),d.jsx("input",{type:"file",id:"uploadImg",accept:".jpg, .png, .jpeg",hidden:!0,onChange:L}),d.jsx("button",{type:"button",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md shadow hover:bg-gray-300",onClick:A,disabled:m,children:"+ Select"}),u&&d.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs shadow hover:bg-red-600",onClick:()=>{f(null),o.current.src=N},children:"Reset"}),u&&d.jsx("button",{type:"button",className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-6 py-2 rounded-lg shadow-lg flex items-center gap-2",onClick:B,disabled:m,children:m?"Uploading...":"Upload Image"})]})})]}),d.jsx("label",{className:"block mb-1 font-medium mt-8",children:"Social Links"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-8",children:Object.keys(T).map((R,D)=>{let U=T[R];return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("i",{className:"fi "+(R!=="website"?"fi-brands-"+R:"fi-rr-globe")+" text-xl text-dark-grey"}),d.jsx(Pn,{name:R,type:"text",value:U||"",placeholder:R.charAt(0).toUpperCase()+R.slice(1),onChange:G=>I(R,G.target.value)})]},D)})}),d.jsxs("button",{className:"fixed bottom-8 right-8 bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-8 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",type:"submit",disabled:w,children:[d.jsx("i",{className:"fi fi-rr-disk"})," ",w?"Saving...":"Save"]})]})})},S8=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:s,notificationData:i})=>{let[a,l]=E.useState(""),{_id:c}=e,{userAuth:{access_token:u}}=E.useContext(ve),{notifications:f,notifications:{results:h},setNotifications:y}=i;const g=()=>{if(!a.length)return H.error("Write something to leave a comment....");Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/add-comment",{blog_id:t,blog_author:c,comment:a,replying_to:r},{headers:{Authorization:`Bearer ${u}`}}).then(({data:b})=>{b.success&&(o(!1),h[n]&&(h[n].reply={comment:a,_id:b.comment._id},y({...f,results:h})),l(""),H.success("Reply posted successfully!"))}).catch(b=>{var w,v;console.error("Error posting reply:",b),(v=(w=b.response)==null?void 0:w.data)!=null&&v.error?H.error("Error posting reply: "+b.response.data.error):H.error("Failed to post reply. Please try again.")})};return d.jsxs(d.Fragment,{children:[d.jsx($n,{}),d.jsx("textarea",{value:a,onChange:b=>l(b.target.value),placeholder:"Leave a reply...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),d.jsx("button",{className:"btn-dark mt-5 px-10",onClick:g,children:"Reply"})]})},OC=({data:t,index:e,notificationState:n})=>{var A,B,M,O,R,D;const[r,o]=E.useState(!1);let{seen:s,type:i,reply:a,createdAt:l,comment:c,replied_on_comment:u,user:f,blog:h,_id:y}=t;console.log("NotificationCard rendering with data:",{id:y,type:i,seen:s,user:(A=f==null?void 0:f.personal_info)==null?void 0:A.fullname,blog:h==null?void 0:h.title,createdAt:l});const g=((B=f==null?void 0:f.personal_info)==null?void 0:B.fullname)||(f==null?void 0:f.fullname)||"Unknown User",b=((M=f==null?void 0:f.personal_info)==null?void 0:M.username)||(f==null?void 0:f.username)||"unknown",w=((O=f==null?void 0:f.personal_info)==null?void 0:O.profile_img)||(f==null?void 0:f.profile_img),v=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id),m=(h==null?void 0:h.title)||"Unknown Blog",p=(h==null?void 0:h.blog_id)||(h==null?void 0:h._id);let{userAuth:x}=E.useContext(ve),k=((R=x==null?void 0:x.personal_info)==null?void 0:R.username)||(x==null?void 0:x.username),N=((D=x==null?void 0:x.personal_info)==null?void 0:D.profile_img)||(x==null?void 0:x.profile_img),j=x==null?void 0:x.access_token;const C=(x==null?void 0:x.admin)===!0;let{notifications:S,notifications:{results:_,totalDocs:T},setNotifications:I}=n;const P=()=>{o(U=>!U)},L=(U,G)=>{if(!U){H.error("Invalid notification ID. Cannot delete.");return}window.confirm("Are you sure you want to delete this notification?")&&(G.setAttribute("disabled",!0),Y.delete(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-notification/${U}`,{headers:{Authorization:`Bearer ${j}`}}).then(({data:ie})=>{ie.success&&(_.splice(e,1),I({...S,results:_,totalDocs:T-1,deletedDocCount:(S.deletedDocCount||0)+1}),H.success("Notification deleted successfully!")),G.removeAttribute("disabled")}).catch(ie=>{var J,we,ge;console.error("Error deleting notification:",ie),G.removeAttribute("disabled"),((J=ie.response)==null?void 0:J.status)===401?H.error("Authentication failed. Please log in again."):((we=ie.response)==null?void 0:we.status)===403?H.error("You do not have permission to delete this notification."):((ge=ie.response)==null?void 0:ge.status)===404?H.error("Notification not found. It may have already been deleted."):H.error("Failed to delete notification. Please try again.")}))};return d.jsxs("div",{className:"p-6 border-b border-grey border-1-black"+(s?"":"border-1-2"),children:[d.jsxs("div",{className:"flex gap-5 mb-3",children:[d.jsx("img",{src:w||"/src/imgs/user profile.png",className:"w-14 h-14 flex-none rounded-full",alt:g}),d.jsxs("div",{className:"w-full",children:[d.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[d.jsx("span",{className:"lg:inline-block hidden capitalize",children:g}),d.jsxs(ne,{to:`/user/${b}`,className:"mx-1 text-black underline",children:["@",b]}),d.jsxs("span",{className:"font-normal",children:[i==="reply"&&"replied on",i==="comment"&&"commented on",i==="like"&&"liked",i==="new_user"&&"joined the platform",i==="newsletter"&&"subscribed to newsletter"]}),h&&d.jsx(ne,{to:`/blog/${p}`,className:"mx-1 text-black underline",children:m})]}),i==="reply"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:d.jsx("p",{children:(u==null?void 0:u.comment)||"Original comment not available"})}),c?d.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5",children:c.comment||"Comment content not available"}):d.jsx("p",{className:"ml-14 pl-5 font-gelasio text-xl my-5 text-dark-grey italic",children:"Comment has been deleted"})]}),i==="comment"&&c&&d.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:d.jsx("p",{children:c.comment||"Comment content not available"})}),i==="new_user"&&d.jsx("div",{className:"p-4 mt-4 rounded-md bg-green-50 border border-green-200",children:d.jsx("p",{className:"text-green-800",children:"Welcome to the platform! 🎉"})}),i==="like"&&d.jsx("div",{className:"p-4 mt-4 rounded-md bg-red-50 border border-red-200",children:d.jsx("p",{className:"text-red-800",children:"❤️ Liked your blog post"})}),i==="newsletter"&&d.jsx("div",{className:"p-4 mt-4 rounded-md bg-blue-50 border border-blue-200",children:d.jsx("p",{className:"text-blue-800",children:"📧 Newsletter subscription confirmed"})})]})]}),d.jsx("p",{className:"ml-14 pl-5 mt-3",children:ei(l)}),i==="reply"&&d.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:a&&a._id?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"underline hover:text-black px-2 py-1 text-black",onClick:P,children:"Edit"}),d.jsx("button",{className:"underline hover:text-black px-2 py-1 text-black",onClick:P,children:"Reply"})]}):d.jsx("button",{className:"underline hover:text-black px-2 py-1 text-black",onClick:P,children:"Reply"})}),i==="comment"&&d.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:d.jsx("button",{className:"underline hover:text-black px-2 py-1 text-black",onClick:P,children:"Reply"})}),d.jsx("div",{className:"ml-14 pl-5 mt-3 flex gap-8",children:y&&((x==null?void 0:x._id)===(f==null?void 0:f._id)||C)&&d.jsx("button",{className:"text-red underline hover:text-red-700 font-medium px-2 py-1",onClick:U=>L(y,U.target),children:"Delete Notification"})}),(i==="reply"||i==="comment")&&r&&d.jsx("div",{className:"mt-8",children:d.jsx(S8,{_id:v,blog_author:f,index:e,replyingTo:c==null?void 0:c._id,setReplying:o,notification_id:y,notificationData:n})}),i==="reply"&&a&&a._id?d.jsxs("div",{className:"ml-14 pl-5 mt-4 p-4 bg-grey/30 rounded-md border-l-4 border-black",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("img",{src:N||"/src/imgs/user profile.png",className:"w-6 h-6 rounded-full",alt:k}),d.jsxs("span",{className:"text-sm text-dark-grey",children:[d.jsx(ne,{to:`/user/${k}`,className:"font-medium text-black underline",children:k}),d.jsx("span",{className:"ml-1",children:"replied:"})]})]}),d.jsx("p",{className:"font-gelasio text-lg ml-8",children:a.comment||"Reply content not available"})]}):i==="reply"&&a===null?d.jsx("div",{className:"ml-14 pl-5 mt-4 p-3 bg-grey/20 rounded-md text-center",children:d.jsx("p",{className:"text-dark-grey italic text-sm",children:"Reply has been deleted"})}):null]})},C8=({children:t})=>{const[e,n]=E.useState("checking"),[r,o]=E.useState(null);return E.useEffect(()=>{(async()=>{var i;try{const a=await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/new-notification",{timeout:5e3,headers:{Authorization:"Bearer test"}});n("connected")}catch(a){a.code==="ERR_NETWORK"||a.message.includes("ECONNREFUSED")?(n("disconnected"),o("Server is not running. Please start the server on port 3000.")):((i=a.response)==null?void 0:i.status)===401?n("connected"):(n("error"),o("Server connection error: "+a.message))}})()},[]),e==="checking"?d.jsx("div",{className:"text-center p-4",children:"Checking server connection..."}):e==="disconnected"?d.jsxs("div",{className:"text-center p-8 bg-red-50 border border-red-200 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Server Connection Error"}),d.jsx("p",{className:"text-red-600 mb-4",children:r}),d.jsxs("div",{className:"text-sm text-gray-600",children:[d.jsx("p",{children:"To fix this:"}),d.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[d.jsx("li",{children:"Open a terminal"}),d.jsxs("li",{children:["Navigate to the server directory: ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"cd mern-blogging-website/server"})]}),d.jsxs("li",{children:["Start the server: ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm start"})]}),d.jsx("li",{children:"Refresh this page"})]})]})]}):e==="error"?d.jsxs("div",{className:"text-center p-8 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Server Error"}),d.jsx("p",{className:"text-yellow-600",children:r})]}):t},E8=()=>{let{userAuth:t,userAuth:{new_notification_available:e},setUserAuth:n}=E.useContext(ve);const[r,o]=E.useState({results:[],totalDocs:0,page:1}),[s,i]=E.useState(!1),a=(t==null?void 0:t.admin)===!0||(t==null?void 0:t.super_admin)===!0,[l,c]=E.useState(a?"all":"reply");let u=a?["all","new_user","comment","reply","like"]:["reply"];const f=({page:y,deletedDocCount:g=0})=>{if(!(t!=null&&t.access_token)){console.warn("No access token available for notifications");return}console.log("Fetching notifications with filter:",l,"page:",y),console.log("User is admin:",a),console.log("userAuth:",t),i(!0),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/notifications",{page:y,filter:l,deletedDocCount:g},{headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}}).then(async({data:b})=>{console.log("Fetched notifications:",b);const w=b.notifications||[];console.log("Notifications data:",w),console.log("Number of notifications received:",w.length),console.log("First notification:",w[0]),e&&n({...t,new_notification_available:!1}),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${t.access_token}`}}).catch(m=>{console.error("Error marking notifications as seen:",m)}),console.log("About to call filterPaginationData with:",{state:r,data:w,page:y,countRoute:"/all-notifications-count",data_to_send:{filter:l},user:t.access_token});let v=await eo({state:r,data:w,page:y,countRoute:"/all-notifications-count",data_to_send:{filter:l},user:t.access_token});console.log("Formatted notifications data:",v),o(v),i(!1)}).catch(b=>{var w;console.error("Error fetching notifications:",b),console.error("Error response:",(w=b.response)==null?void 0:w.data),(b.code==="ERR_NETWORK"||b.message.includes("ECONNREFUSED"))&&console.error("Server connection failed. Make sure the server is running on port 3000."),i(!1)})};E.useEffect(()=>{t!=null&&t.access_token?f({page:1}):console.warn("No access token available. User may not be logged in.")},[t==null?void 0:t.access_token,l]);const h=y=>{const b=y.target.innerHTML.toLowerCase();let w;switch(b){case"all":w="all";break;case"new users":w="new_user";break;case"comments":w="comment";break;case"replies":w="reply";break;case"likes":w="like";break;default:w="reply"}console.log("Changing filter to:",w),c(w),o(null)};return d.jsx(C8,{children:d.jsxs("div",{children:[d.jsx("h1",{className:"max-md:hidden",children:"Notifications"}),a&&d.jsx("div",{className:"flex gap-2 mb-6",children:u.map((y,g)=>d.jsx("button",{onClick:h,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l===y?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y==="all"?"All":y==="new_user"?"New Users":y==="comment"?"Comments":y==="reply"?"Replies":y==="like"?"Likes":y},g))}),s?d.jsx(_e,{}):r===null?d.jsx(_e,{}):d.jsx(d.Fragment,{children:r&&r.results&&r.results.length?Array.from({length:Math.ceil(r.results.length/5)}).map((y,g)=>(console.log(`Rendering notification chunk ${g} with ${r.results.slice(g*5,(g+1)*5).length} notifications`),d.jsxs("div",{children:[r.results.slice(g*5,(g+1)*5).map((b,w)=>(console.log(`Rendering notification ${g*5+w}:`,b),d.jsx(Ge,{transition:{delay:(g*5+w)*.08},children:d.jsx(OC,{data:b,index:g*5+w,notificationState:{notifications:r,setNotifications:o}})},g*5+w))),g===Math.floor((r.results.length-1)/5)&&d.jsx(sr,{state:r,fetchDataFun:f,additionalParam:{deletedDocCount:r==null?void 0:r.deletedDocCount}})]},g))):d.jsx(or,{message:"Nothing available"})})]})})},T8=({stats:t})=>{const e=(t==null?void 0:t.total_likes)??0,n=(t==null?void 0:t.total_reads)??0,r=(t==null?void 0:t.total_comments)??0;return d.jsxs("div",{className:"flex gap-2 max-lg:mb-6 max-lg:pb-6 border-grey max-lg:border-b",children:[d.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6",children:[d.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:e.toLocaleString()}),d.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Likes"})]}),d.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[d.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:n.toLocaleString()}),d.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Views"})]}),d.jsxs("div",{className:"flex flex-col items-center w-full h-full justify-center p-4 px-6 border-grey border-l",children:[d.jsx("h1",{className:"text-xl lg:text-2xl mb-2",children:r.toLocaleString()}),d.jsx("p",{className:"max-lg:text-dark-grey capitalize",children:"Comments"})]})]})},RC=({blog:t})=>{let{banner:e,blog_id:n,title:r,publishedAt:o,activity:s}=t,{userAuth:{access_token:i}}=E.useContext(ve),[a,l]=E.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-10 border-b border-grey pb-6 items-center max-md:px-4",children:[d.jsx("img",{src:e,className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover"}),d.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[d.jsxs("div",{children:[d.jsx(ne,{to:`/blog/${n}`,className:"blog-title mb-4 hover:underline",children:r}),d.jsxs("p",{className:"line-clamp-1",children:["Published on ",ei(o)]})]}),d.jsxs("div",{className:"flex gap-6 mt-3",children:[d.jsx(ne,{to:`/editor/${t.blog_id||t._id}`,className:"pr-4 py-2 underline",children:"Edit"}),d.jsx("button",{className:"pr-4 py-2 underline",onClick:()=>l(c=>!c),children:"Stats"}),d.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:c=>DC(t,i,c.target),children:"Delete"})]})]})]}),a?d.jsx("div",{children:d.jsx(T8,{stats:s})}):""]})},MC=({blog:t})=>{let{title:e,des:n,blog_id:r,index:o}=t,{userAuth:{access_token:s}}=E.useContext(ve);return o++,d.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[d.jsx("h1",{className:"blog-index text-center pl-4 md:pl-6 flex-none",children:typeof o=="number"&&!isNaN(o)?o<10?"0"+o:o:""}),d.jsxs("div",{children:[d.jsx("h1",{className:"blog-title mb-3",children:e}),d.jsx("p",{className:"line-clamp-2 font-gelasio",children:n.length?n:"No Description"}),d.jsxs("div",{className:"flex gap-6 mt-3",children:[d.jsx(ne,{to:`/editor/${t.blog_id||t.id||r}`,className:"pr-4 py-2 underline",children:"Edit"}),d.jsx("button",{className:"pr-4 py-2 underline text-red-500 hover:text-red-700 font-medium",style:{color:"#ef4444"},onClick:i=>DC(t,s,i.target),children:"Delete"})]})]})]})},DC=(t,e,n)=>{let{index:r,blogId:o,setStateFunc:s}=t;const i=t.blog_id||t.blogId||t.id||o;n.setAttribute("disabled",!0),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/delete-blog",{blogId:i},{headers:{Authorization:`Bearer ${e}`}}).then(({data:a})=>{n.removeAttribute("disabled"),s(l=>{if(!l||!Array.isArray(l.results))return l;let{deletedDocCount:c,totalDocs:u,results:f}=l;return f.splice(r,1),c||(c=0),!f.length&&u-1>=0?null:{...l,totalDocs:u-1,deletedDocCount:c+1}})}).catch(a=>{n.removeAttribute("disabled"),alert("Failed to delete blog. Please try again."),console.log(a)})},_8=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(null),[o,s]=E.useState(""),[i,a]=E.useState({blogs:!1,drafts:!1}),[l,c]=E.useState({blogs:null,drafts:null}),[u]=nm();let f=u.get("tab");const{userAuth:h}=E.useContext(ve),y=async({page:b,draft:w,deleteDocCount:v=0})=>{var p,x,k,N;const m=w?"drafts":"blogs";if(!i[m]){a(j=>({...j,[m]:!0})),c(j=>({...j,[m]:null}));try{console.log(`Fetching ${w?"drafts":"published blogs"}...`);const j=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/user-written-blogs",{page:b,draft:w,query:o,deleteDocCount:v},{timeout:1e4});console.log(`${w?"Drafts":"Published blogs"} response:`,j.data);let C=await eo({state:w?n:t,data:j.data.blogs,page:b,user:h,countRoute:"/user-written-blogs-count",data_to_send:{draft:w,query:o}});console.log(`Formatted ${w?"drafts":"blogs"} data:`,C),b>1?w?r(S=>({...C,results:[...(S==null?void 0:S.results)||[],...C.results||[]]})):e(S=>({...C,results:[...(S==null?void 0:S.results)||[],...C.results||[]]})):w?r(C):e(C)}catch(j){console.error(`Error fetching ${w?"drafts":"published blogs"}:`,j);let C="Failed to load blogs";((p=j.response)==null?void 0:p.status)===401?C="Authentication required. Please log in again.":((x=j.response)==null?void 0:x.status)===403?C="You don't have permission to view these blogs.":j.code==="ECONNABORTED"?C="Request timed out. Please try again.":(N=(k=j.response)==null?void 0:k.data)!=null&&N.error&&(C=j.response.data.error),c(S=>({...S,[m]:C})),w?r({results:[],page:1,totalDocs:0}):e({results:[],page:1,totalDocs:0})}finally{a(j=>({...j,[m]:!1}))}}};E.useEffect(()=>{console.log("ManageBlogs useEffect triggered"),console.log("access_token:",h&&h.access_token?h.access_token.substring(0,20)+"...":"null"),console.log("userAuth:",h),h&&h.access_token?(console.log("Loading blogs and drafts with token:",h.access_token.substring(0,20)+"..."),y({page:1,draft:!1}),y({page:1,draft:!0})):console.log("No access token available, skipping blog loading")},[h]),E.useEffect(()=>{h&&o!==void 0&&(e(null),r(null),c({blogs:null,drafts:null}),y({page:1,draft:!1}),y({page:1,draft:!0}))},[o]);const g=b=>{c(w=>({...w,[b]:null})),y(b==="drafts"?{page:1,draft:!0}:{page:1,draft:!1})};return d.jsxs(d.Fragment,{children:[d.jsx($n,{}),!h&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-500 mb-2",children:"Please log in to view your blogs"}),d.jsx(ne,{to:"/login",className:"text-yellow-300 hover:text-yellow-500",children:"Go to Login"})]}),h&&d.jsx(d.Fragment,{children:d.jsxs(zo,{routes:["Published Blogs","Drafts"],defaultActiveIndex:f!="draft"?0:1,children:[i.blogs?d.jsx(_e,{}):l.blogs?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-500 mb-2",children:l.blogs}),d.jsx("button",{onClick:()=>g("blogs"),className:"text-yellow-400 hover:text-yellow-500",children:"Try again"})]}):t===null?d.jsx(_e,{}):Array.isArray(t.results)&&t.results.length?d.jsxs(d.Fragment,{children:[t.results.map((b,w)=>(console.log("Published blog:",b),d.jsx(Ge,{transition:{delay:w*.04},children:d.jsx(RC,{blog:{...b,index:w,setStateFunc:e},index:w})},w))),d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx(sr,{state:t,fetchDataFun:({page:b,draft:w})=>y({page:b,draft:w}),additionalParam:{draft:!1}})})]}):d.jsx(or,{message:"No published blogs"}),i.drafts?d.jsx(_e,{}):l.drafts?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-500 mb-2",children:l.drafts}),d.jsx("button",{onClick:()=>g("drafts"),className:"text-yellow-300 hover:text-yellow-400",children:"Try again"})]}):n===null?d.jsx(_e,{}):Array.isArray(n.results)&&n.results.length?d.jsxs(d.Fragment,{children:[n.results.map((b,w)=>d.jsx(Ge,{transition:{delay:w*.04},children:d.jsx(MC,{blog:{...b,index:w,setStateFunc:r},index:w})},w)),d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx(sr,{state:n,fetchDataFun:({page:b,draft:w})=>y({page:b,draft:w}),additionalParam:{draft:!0}})})]}):d.jsx(or,{message:"No draft blogs"})]})})]})},Jv={subject:"",name:"",email:"",explanation:""},Qv={subject:"",name:"",email:"",explanation:""},j8=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,N8=()=>{const[t,e]=E.useState(Jv),[n,r]=E.useState(!1),[o,s]=E.useState(null),[i,a]=E.useState(Qv),l=E.useRef(),c=(b,w)=>{let v="";return w||(v="Required"),b==="email"&&w&&!j8.test(w)&&(v="Invalid email"),v},u=b=>{const{name:w,value:v}=b.target;e(m=>({...m,[w]:v})),a(m=>({...m,[w]:c(w,v)}))},f=(b,w="",v="")=>{const m=l.current;if(!m)return;const p=m.selectionStart,x=m.selectionEnd,k=m.value.substring(p,x)||v,N=m.value.substring(0,p)+b+k+w+m.value.substring(x);e(j=>({...j,explanation:N})),setTimeout(()=>{m.focus(),m.selectionStart=m.selectionEnd=p+b.length+k.length+w.length},0)},h=b=>{switch(b){case"image":{const w=prompt("Enter image URL:");w&&f("![Image](",")",w);break}case"color":{const w=prompt("Enter color (e.g., red or #ff0000):");w&&f(`[color=${w}]`,"[/color]");break}case"text":f("**","**","bold");break;case"align":f("[center]","[/center]");break;case"link":{const w=prompt("Enter URL:");w&&f("[Link text](",")",w);break}}},y=()=>{const b={};return Object.keys(t).forEach(w=>{b[w]=c(w,t[w])}),a(b),Object.values(b).every(w=>!w)},g=async b=>{if(b.preventDefault(),!!y()){r(!0),s(null);try{const w=await fetch("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),v=await w.json();w.ok?(s({type:"success",text:v.message}),H.success(v.message||"Message sent successfully!"),e(Jv),a(Qv)):(s({type:"error",text:v.error||"Failed to send message."}),H.error(v.error||"Failed to send message."))}catch{s({type:"error",text:"Failed to send message."}),H.error("Failed to send message.")}finally{r(!1)}}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 px-[5vw] py-6 contact-page-content",children:[d.jsx($n,{}),o&&d.jsx("div",{className:`mb-4 p-3 rounded text-sm ${o.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.text}),d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 flex flex-col gap-6",encType:"multipart/form-data",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base text-black dark:text-white mb-1",children:"Subject"}),d.jsx("input",{name:"subject",value:t.subject,onChange:u,type:"text",className:`w-full rounded-md border ${i.subject?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-400 text-sm sm:text-base`,placeholder:"Subject"}),i.subject&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.subject})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base text-black dark:text-white mb-1",children:"Name"}),d.jsx("input",{name:"name",value:t.name,onChange:u,type:"text",className:`w-full rounded-md border ${i.name?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-400 text-sm sm:text-base`,placeholder:"Name"}),i.name&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm sm:text-base text-black dark:text-white mb-1",children:"Email"}),d.jsx("input",{name:"email",value:t.email,onChange:u,type:"email",className:`w-full rounded-md border ${i.email?"border-red-400":"border-gray-200"} bg-grey px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 placeholder-gray-400 text-sm sm:text-base`,placeholder:"Email"}),i.email&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.email})]})]}),d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm sm:text-base text-black dark:text-white mb-1",children:"Explanation"}),d.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 sm:p-4",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[d.jsxs("button",{type:"button",onClick:()=>h("image"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[d.jsx("i",{className:"fi fi-rs-picture"})," Image"]}),d.jsxs("button",{type:"button",onClick:()=>h("color"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[d.jsx("i",{className:"fi fi-rc-eye-dropper"})," Color"]}),d.jsxs("button",{type:"button",onClick:()=>h("text"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[d.jsx("i",{className:"fi fi-rr-text"})," Text"]}),d.jsxs("button",{type:"button",onClick:()=>h("align"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[d.jsx("i",{className:"fi fi-rr-symbol"})," Align"]}),d.jsxs("button",{type:"button",onClick:()=>h("link"),className:"bg-white border border-gray-200 rounded px-2 py-1 text-xs flex items-center gap-1 hover:bg-gray-50",children:[d.jsx("i",{className:"fi fi-rr-link-alt"})," Link"]})]}),d.jsx("textarea",{ref:l,name:"explanation",value:t.explanation,onChange:u,className:`w-full h-32 sm:h-40 rounded-md border ${i.explanation?"border-red-400":"border-gray-200"} p-3 bg-gray-50 focus:outline-none resize-none placeholder-gray-400 text-sm sm:text-base`,placeholder:"Type..."}),i.explanation&&d.jsx("div",{className:"text-xs text-red-500 mt-1",children:i.explanation})]})]})}),d.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-2",children:d.jsxs("button",{type:"submit",disabled:n,className:"bg-yellow-400 hover:bg-yellow-500 text-white font-semibold px-4 sm:px-6 py-2 rounded-lg flex items-center gap-2 shadow-md disabled:opacity-50 w-full sm:w-auto",children:[d.jsx("i",{className:"fi fi-rs-paper-plane"})," ",n?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Send"]})})]})})]})},P8=()=>d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 about-page-content",children:[d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4",children:"We pay attention to your needs and do the best ."}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In Islamic storytelling, every detail matters—whether it's the wisdom of the past or the inspiration for the future. Etiam ac purus vitae magna cursus viverra."}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base mt-2",children:"Suspendisse potenti nullam et molestie ac feugiat sed lectus vestibulum. Ullamcorper morbi tincidunt ornare massa eget. Dictum varius duis at consectetur lorem."})]}),d.jsx("div",{className:"flex-1 flex justify-center min-w-[250px] max-w-md",children:d.jsx("div",{className:"relative w-full h-48 md:h-56 rounded-lg overflow-hidden shadow-md",children:d.jsx("img",{src:Sh,alt:"Blog Banner",className:"w-full h-full object-cover"})})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 flex flex-col md:flex-row gap-6 items-center shadow-sm",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("iframe",{title:"Islamic Stories Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019019234263!2d-122.4194154846817!3d37.7749297797597!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c5b0e6b1b%3A0x4a0b0b0b0b0b0b0b!2sMosque!5e0!3m2!1sen!2sus!4v1680000000000!5m2!1sen!2sus",width:"100%",height:"220",style:{border:0,borderRadius:"12px",width:"100%"},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),d.jsxs("div",{className:"flex-1 min-w-0 md:pl-8",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Islamic Stories Information"}),d.jsxs("ul",{className:"space-y-3 text-black dark:text-white text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-medium",children:"Email:"})," info@islamicstories.com"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-medium",children:"Phone Number:"})," +1 (234) 567-8910"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-medium",children:"Fax:"})," +1 (234) 567-8911"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-medium",children:"Address:"})," 1234 Faith Ave, City, Country, 12345"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-medium",children:"Open:"})," 24 Hours a Day, 7 Days a Week"]})]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-10 shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[d.jsx("span",{className:"text-yellow-500 mr-2 text-xl",children:"•"})," Islamic Stories Team"]}),d.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-2",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Designer",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Designer"}),d.jsx("div",{className:"font-semibold mt-1",children:"Ahmad Farooq"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Programmer",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Programmer"}),d.jsx("div",{className:"font-semibold mt-1",children:"Sara Khan"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/men/65.jpg",alt:"Marketing",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Marketing"}),d.jsx("div",{className:"font-semibold mt-1",children:"Bilal Hussain"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/women/68.jpg",alt:"Administration",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Administration"}),d.jsx("div",{className:"font-semibold mt-1",children:"Fatima Zahra"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/men/12.jpg",alt:"CEO",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"CEO"}),d.jsx("div",{className:"font-semibold mt-1",children:"Yusuf Ali"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-w-[180px] flex flex-col items-center",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/men/23.jpg",alt:"Financial",className:"w-20 h-20 rounded-full object-cover mb-3"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Financial"}),d.jsx("div",{className:"font-semibold mt-1",children:"Imran Siddiqui"})]})]})]})]}),I8=()=>{const t=[{title:"About Us",description:"Learn more about Islamic Stories and our mission",link:"/about",icon:"📖"},{title:"Contact Us",description:"Get in touch with our team",link:"/contact",icon:"📧"},{title:"Categories",description:"Explore stories by category",link:"/categories",icon:"📂"}];return d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Pages"}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((e,n)=>d.jsxs(ne,{to:e.link,className:"block p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("span",{className:"text-2xl mr-3",children:e.icon}),d.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.title})]}),d.jsx("p",{className:"text-gray-600",children:e.description})]},n))}),d.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"More Coming Soon"}),d.jsx("p",{className:"text-gray-600",children:"We're constantly adding new pages and features to enhance your experience. Stay tuned for more content and functionality!"})]})]})},Zv=()=>{const{categories:t,setCategories:e}=E.useContext(Kd),{categoryName:n}=Go(),[r,o]=E.useState(null),[s,i]=E.useState(!0),a=async(l=1)=>{try{let c;n?c=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/search-blogs",{tag:n,page:l}):c=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:l});const{data:u}=c;if(u.blogs&&Array.isArray(u.blogs)){const f=await eo({state:r,data:u.blogs,page:l,countRoute:n?"/search-blogs-count":"/all-latest-blogs-count",create_new_arr:l===1,data_to_send:n?{tag:n}:{}});if(f&&o(f),t.length===0&&e&&l===1){const h=["islam","prophets","religion","basics","sahaba","anbiya"],y=u.blogs.flatMap(b=>b.tags||[]),g=Array.from(new Set([...h,...y]));e(g)}}i(!1)}catch(c){console.error("Error fetching blogs:",c),o(u=>u||{results:[],page:1,totalDocs:0}),i(!1)}};return E.useEffect(()=>{o(null),i(!0),a(1)},[n]),s?d.jsx(_e,{}):d.jsxs("div",{className:"max-w-screen-2xl w-full mx-auto px-4 py-8 categories-page-content",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r&&r.results&&r.results.length>0?r.results.map(l=>{var c,u,f,h;return d.jsx($l,{post:{banner:l.banner,title:l.title,description:l.des||l.description,author:{avatar:(u=(c=l.author)==null?void 0:c.personal_info)==null?void 0:u.profile_img,name:(h=(f=l.author)==null?void 0:f.personal_info)==null?void 0:h.fullname},date:l.publishedAt||l.date,blog_id:l.blog_id||l._id}},l._id||l.blog_id)}):d.jsxs("div",{className:"col-span-full text-center text-gray-500",children:["No blogs found",n?` for '${n}'`:"","."]})}),r&&d.jsx("div",{className:"flex justify-center mt-8",children:d.jsx(sr,{state:r,fetchDataFun:a})})]})},A8=()=>{const[t]=nm(),e=Xt(),{setUserAuth:n}=E.useContext(ve),[r,o]=E.useState("Verifying your email..."),[s,i]=E.useState("");return E.useEffect(()=>{const a=t.get("token");if(!a){o(""),i("Invalid verification link.");return}Y.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/verify-user?token=${a}`).then(async({data:l})=>{console.log("Verification response:",l),l.user?(o("Email verified! Logging you in..."),n(l.user),console.log("setUserAuth called with:",l.user),H.success("Email verified! You are now logged in."),setTimeout(()=>{e("/")},1500)):l.message?(o(l.message),H.success(l.message)):(o(""),i("Verification failed."))}).catch(l=>{var c,u;o(""),i(((u=(c=l==null?void 0:l.response)==null?void 0:c.data)==null?void 0:u.error)||"Verification failed.")})},[t,e,n]),d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:d.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Email Verification"}),r&&d.jsx("p",{className:"text-green-700 mb-2",children:r}),s&&d.jsx("p",{className:"text-red-600 mb-2",children:s})]})})},L8=()=>{const[t]=nm(),e=Xt(),[n,r]=E.useState("Verifying your subscription..."),[o,s]=E.useState("");return E.useEffect(()=>{const i=t.get("token");if(!i){r(""),s("Invalid verification link.");return}Y.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/verify-newsletter?token=${i}`).then(({data:a})=>{r("Subscription verified! Thank you for subscribing."),H.success("Subscription verified!"),setTimeout(()=>{e("/")},2e3)}).catch(a=>{var l,c;r(""),s(((c=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:c.error)||"Verification failed.")})},[t,e]),d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:d.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Newsletter Verification"}),n&&d.jsx("p",{className:"text-green-700 mb-2",children:n}),o&&d.jsx("p",{className:"text-red-600 mb-2",children:o})]})})},B8=()=>{const[t,e]=E.useState(!1);E.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return d.jsx(gd,{children:t&&d.jsx(q.button,{onClick:n,className:"fixed bottom-8 right-8 z-50 p-3 bg-[#fad796] hover:bg-yellow-400 text-black rounded-full shadow-lg",variants:Im,whileHover:"hover",whileTap:"tap",initial:{opacity:0,scale:0,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0,y:20},transition:{duration:.3,ease:"easeOut"},"aria-label":"Scroll to top",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})},O8=({isLoading:t=!1,text:e="Loading...",type:n="fade",duration:r=2e3})=>{const[o,s]=E.useState(t);E.useEffect(()=>{if(t)s(!0);else{const h=setTimeout(()=>{s(!1)},500);return()=>clearTimeout(h)}},[t]);const i={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}},a={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,delay:.2}},exit:{opacity:0,y:-20,transition:{duration:.3}}},l={animate:{rotate:360,transition:{duration:1,repeat:1/0,ease:"linear"}}},c={animate:{scale:[1,1.1,1],opacity:[.7,1,.7],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},u={animate:{y:[-10,0,-10],transition:{duration:1,repeat:1/0,ease:"easeInOut"}}},f=()=>{switch(n){case"spinner":return d.jsx(q.div,{className:"w-16 h-16 border-4 border-gray-200 border-t-black rounded-full",variants:l,animate:"animate"});case"pulse":return d.jsx(q.div,{className:"w-16 h-16 bg-black rounded-full",variants:c,animate:"animate"});case"wave":return d.jsx("div",{className:"flex space-x-2",children:[0,1,2,3,4].map(h=>d.jsx(q.div,{className:"w-3 h-12 bg-black rounded-full",variants:u,animate:"animate",transition:{delay:h*.1}},h))});case"dots":return d.jsx("div",{className:"flex space-x-2",children:[0,1,2].map(h=>d.jsx(q.div,{className:"w-4 h-4 bg-black rounded-full",variants:c,animate:"animate",transition:{delay:h*.2}},h))});case"ring":return d.jsx(q.div,{className:"w-16 h-16 border-4 border-black border-t-transparent rounded-full",variants:l,animate:"animate"});default:return d.jsx(q.div,{className:"w-16 h-16 border-4 border-gray-200 border-t-black rounded-full",variants:l,animate:"animate"})}};return d.jsx(gd,{children:o&&d.jsx(q.div,{className:"fixed inset-0 z-[9999] bg-white flex items-center justify-center",variants:i,initial:"initial",animate:"animate",exit:"exit",children:d.jsxs(q.div,{className:"flex flex-col items-center space-y-4",variants:a,initial:"initial",animate:"animate",exit:"exit",children:[f(),e&&d.jsx(q.p,{className:"text-gray-600 text-lg font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:e})]})})})};function R8({user:t,isSelf:e,isSuper:n,isAdmin:r,superAdmin:o,actionLoading:s,handlePromoteDemote:i}){if(e)return d.jsx("span",{className:"text-gray-400",children:"—"});if(n)return d.jsx("span",{className:"text-yellow-700 font-seminormal",title:"Super admin cannot be promoted or demoted",children:"Super Admin"});const a=s===t._id+(r?"-demote":"-promote");return d.jsx("div",{className:"flex gap-2 justify-center",children:r?d.jsx("button",{className:"flex items-center gap-1 px-4 py-2 bg-red-100 text-red-700 border border-red-300 rounded-full hover:bg-red-200 focus:ring-2 focus:ring-red-300 transition disabled:opacity-50 shadow-md font-seminormal drop-shadow-sm",disabled:a,onClick:()=>i(t._id,!1),title:o?"Demote from admin":"Request demotion (super admin approval required)",children:a?"Demoting...":o?"Demote":"Request Demote"}):d.jsx("button",{className:"flex items-center gap-1 px-4 py-2 bg-gray-100 text-black border border-gray-300 rounded-full hover:bg-gray-200 focus:ring-2 focus:ring-black transition disabled:opacity-50 shadow-md font-normal drop-shadow-sm",disabled:a,onClick:()=>i(t._id,!0),title:o?"Promote to admin":"Request promotion (super admin approval required)",children:a?"Promoting...":o?"Promote":"Request Promote"})})}const M8=d.jsx("svg",{className:"inline w-4 h-4 text-yellow-500 mr-1 -mt-1",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M2.166 6.5l2.97 7.11a1 1 0 00.92.64h7.888a1 1 0 00.92-.64l2.97-7.11a.5.5 0 00-.82-.54l-3.13 2.61a1 1 0 01-1.32 0l-2.13-1.78-2.13 1.78a1 1 0 01-1.32 0l-3.13-2.61a.5.5 0 00-.82.54z"})}),D8=d.jsx("svg",{className:"w-4 h-4",style:{color:"black"},fill:"none",stroke:"black",strokeWidth:"2",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})});function F8({user:t,userAuth:e,actionLoading:n,superAdmin:r,handlePromoteDemote:o,rowIndex:s,serial:i,isSelected:a,onSelectUser:l}){var g,b,w;const c=t._id===e._id,u=t.super_admin,f=t.admin,h=t.super_admin,y=!h&&s%2===1?"bg-gray-50":"";return d.jsxs("tr",{className:`transition ${h?"bg-yellow-50 border-l-4 border-yellow-400":"hover:bg-gray-50"} ${y}`,style:h?{boxShadow:"0 2px 8px 0 #ffe06633"}:{},children:[r&&d.jsx("td",{className:"p-4 align-middle text-center",children:d.jsx("input",{type:"checkbox",checked:a,onChange:v=>l(t._id,v.target.checked),disabled:c||u,"aria-label":"Select user for bulk action"})}),d.jsx("td",{className:"p-4 align-middle font-medium",children:i}),d.jsxs("td",{className:"p-4 align-middle font-medium flex items-center gap-2",children:[h&&d.jsx("span",{title:"Super Admin",className:"mr-1",children:M8}),d.jsx("span",{children:((g=t.personal_info)==null?void 0:g.fullname)||((b=t.personal_info)==null?void 0:b.username)}),c&&d.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(You)"})]}),d.jsx("td",{className:"p-4 align-middle break-all",children:(w=t.personal_info)==null?void 0:w.email}),d.jsx("td",{className:"p-4 align-middle",children:d.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs rounded-full shadow-sm border ${f?"bg-white text-black border-black mr-2 drop-shadow-sm":"bg-gray-200 text-gray-500 border-gray-300"}`,title:f?"Admin":"User",children:[D8,f?"Admin":"User"]})}),d.jsx("td",{className:"p-4 align-middle text-center",children:d.jsx(R8,{user:t,isSelf:c,isSuper:u,isAdmin:f,superAdmin:r,actionLoading:n,handlePromoteDemote:o})})]})}function U8({users:t,userAuth:e,actionLoading:n,superAdmin:r,handlePromoteDemote:o,selectedUserIds:s,onSelectUser:i,onSelectAll:a}){return d.jsx("div",{className:"overflow-x-auto rounded-2xl shadow-lg bg-white",children:d.jsxs("table",{className:"w-full border-collapse text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-left",children:[r&&d.jsx("th",{className:"p-4 font-medium",children:d.jsx("input",{type:"checkbox",checked:t.length>0&&s.length===t.length,onChange:l=>a(l.target.checked),"aria-label":"Select all users"})}),d.jsx("th",{className:"p-4 font-medium rounded-tl-2xl",children:"#"}),d.jsx("th",{className:"p-4 font-medium",children:"Name"}),d.jsx("th",{className:"p-4 font-medium",children:"Email"}),d.jsx("th",{className:"p-4 font-medium",children:"Role"}),d.jsx("th",{className:"p-4 font-medium text-center rounded-tr-2xl",children:"Action"})]})}),d.jsx("tbody",{children:t.map((l,c)=>d.jsx(F8,{user:l,userAuth:e,actionLoading:n,superAdmin:r,handlePromoteDemote:o,rowIndex:c,serial:c+1,isSelected:s.includes(l._id),onSelectUser:i},l._id))})]})})}function $8({value:t,onChange:e,searching:n}){return d.jsxs("div",{className:"relative w-full md:w-96",children:[d.jsx("input",{type:"text",value:t,onChange:r=>e(r.target.value),placeholder:"Search users by name, username, or email...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-black"}),d.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400",children:d.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8",strokeWidth:"2"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",strokeWidth:"2"})]})}),n&&d.jsx("span",{className:"absolute right-3 top-2.5 text-black animate-pulse",children:"Searching..."})]})}function eb({page:t,limit:e,total:n,onPageChange:r}){const o=Math.ceil(n/e);if(o<=1)return null;const s=()=>{t>1&&r(t-1)},i=()=>{t<o&&r(t+1)};let a=Math.max(1,t-2),l=Math.min(o,t+2);l-a<4&&(a===1&&(l=Math.min(5,o)),l===o&&(a=Math.max(1,o-4)));const c=[];for(let f=a;f<=l;f++)c.push(f);const u=(t-1)*e+1;return d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mt-6 gap-2",children:[d.jsxs("div",{className:"text-gray-500 text-sm md:ml-2 md:mb-0 mb-2",children:["Showing ",u," out of ",n," entries"]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white px-3 py-2 rounded-lg shadow border",children:[d.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded border border-gray-300 bg-white text-gray-500 hover:bg-gray-100 disabled:opacity-50",onClick:s,disabled:t===1,children:"←"}),c.map(f=>d.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded border text-sm font-medium transition-all ${f===t?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-blue-50"}`,onClick:()=>r(f),children:f},f)),d.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded border border-gray-300 bg-white text-gray-500 hover:bg-gray-100 disabled:opacity-50",onClick:i,disabled:t===o,children:"→"})]})]})}const z8=()=>{const{userAuth:t}=E.useContext(ve),e=Xt(),[n,r]=E.useState([]),[o,s]=E.useState(!0),[i,a]=E.useState(null),[l,c]=E.useState(""),[u,f]=E.useState(""),[h,y]=E.useState(""),[g,b]=E.useState(!1),w=E.useRef(null),[v,m]=E.useState(1),[p,x]=E.useState(10),[k,N]=E.useState(0),[j,C]=E.useState([]),[S,_]=E.useState([]),[T,I]=E.useState(!1),[P,L]=E.useState(""),[A,B]=E.useState(""),[M,O]=E.useState([]),[R,D]=E.useState(1),U=5,G=S.length,ie=(R-1)*U,J=Math.min(R*U,G),we=S.slice(ie,J),ge=t&&t.admin,ye=t&&t.super_admin;E.useEffect(()=>{if(!t||!ge){setTimeout(()=>{e("/login?next=/admin",{replace:!0})},2e3);return}$e(v,p)},[t,ge,v,p]),E.useEffect(()=>{if(!h.trim()){$e();return}return b(!0),w.current&&clearTimeout(w.current),w.current=setTimeout(async()=>{var K,ce;try{const ae=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/search-users",{query:h.trim()},{headers:{Authorization:`Bearer ${t.access_token}`}});r(ae.data.users||[])}catch(ae){a(((ce=(K=ae.response)==null?void 0:K.data)==null?void 0:ce.error)||"Failed to search users. Please try again.")}finally{b(!1)}},400),()=>clearTimeout(w.current)},[h]),E.useEffect(()=>{ye&&He(),t&&!ye&&Je()},[ye,t]);const $e=async(K=1,ce=10)=>{var ae,F;s(!0),a(null);try{const z=await fe.get(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/users?page=${K}&limit=${ce}`);r(z.data.users||[]),N(z.data.totalUsers||0)}catch(z){a(((F=(ae=z.response)==null?void 0:ae.data)==null?void 0:F.error)||"Failed to fetch users. Please try again.")}finally{s(!1)}},He=async()=>{var K,ce;I(!0),L("");try{const ae=await fe.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/status-change-requests",{headers:{Authorization:`Bearer ${t.access_token}`}});_(ae.data.requests||[])}catch(ae){L(((ce=(K=ae.response)==null?void 0:K.data)==null?void 0:ce.error)||"Failed to fetch requests.")}finally{I(!1)}},Pe=async K=>{var ce,ae;B(K+"-approve");try{await fe.post(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/status-change-requests/${K}/approve`,{},{headers:{Authorization:`Bearer ${t.access_token}`}}),He(),f("Request approved.")}catch(F){f(((ae=(ce=F.response)==null?void 0:ce.data)==null?void 0:ae.error)||"Failed to approve request.")}finally{B("")}},Oe=async K=>{var ce,ae;B(K+"-reject");try{await fe.post(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/status-change-requests/${K}/reject`,{},{headers:{Authorization:`Bearer ${t.access_token}`}}),He(),f("Request rejected.")}catch(F){f(((ae=(ce=F.response)==null?void 0:ce.data)==null?void 0:ae.error)||"Failed to reject request.")}finally{B("")}},Je=async()=>{var K,ce;I(!0),L("");try{const ae=await fe.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/my-status-change-requests",{headers:{Authorization:`Bearer ${t.access_token}`}});O(ae.data.requests||[])}catch(ae){L(((ce=(K=ae.response)==null?void 0:K.data)==null?void 0:ce.error)||"Failed to fetch your requests.")}finally{I(!1)}},Ft=async(K,ce)=>{var ae,F;c(K+(ce?"-promote":"-demote")),f("");try{const z=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/set-admin",{userId:K,admin:ce});z.data.success?$e():f(z.data.message||"Request sent to super admin for approval.")}catch(z){alert(((F=(ae=z.response)==null?void 0:ae.data)==null?void 0:F.error)||"Failed to update admin status. Please try again.")}finally{c("")}},tt=(K,ce)=>{C(ae=>ce?[...ae,K]:ae.filter(F=>F!==K))},kn=K=>{C(K?n.map(ce=>ce._id):[])},Sn=async K=>{var ce,ae;if(!(!ye||j.length===0)){c("bulk");try{const F=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/bulk-user-action",{userIds:j,action:K},{headers:{Authorization:`Bearer ${t.access_token}`}});f(`Bulk action complete. Success: ${F.data.success.length}, Failed: ${F.data.failed.length}`),C([]),$e(v,p)}catch(F){f(((ae=(ce=F.response)==null?void 0:ce.data)==null?void 0:ae.error)||"Bulk action failed.")}finally{c("")}}},wt=async K=>{var ce,ae;B(K+"-delete");try{await fe.delete(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/delete-status-change-request/${K}`,{headers:{Authorization:`Bearer ${t.access_token}`}}),Je(),f("Request deleted.")}catch(F){f(((ae=(ce=F.response)==null?void 0:ce.data)==null?void 0:ae.error)||"Failed to delete request.")}finally{B("")}};if(o)return d.jsx("div",{className:"p-8 text-center",children:"Loading users..."});if(i)return d.jsxs("div",{className:"p-8 text-center text-red-500",children:[i,d.jsx("button",{className:"ml-4 underline",onClick:$e,children:"Retry"})]});console.log("userAuth:",t),console.log("superAdmin:",ye),console.log("selectedUserIds:",j);const ao=()=>ye?["Pending Requests","User Management"]:["Request Status","User Management"],Jo=n.filter(K=>j.includes(K._id)).some(K=>!K.super_admin&&K._id!==t._id);return d.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[d.jsx("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:d.jsx($8,{value:h,onChange:y,searching:g})}),d.jsxs(zo,{routes:ao(),defaultActiveIndex:0,children:[ye?d.jsx("div",{children:T?d.jsx("div",{children:"Loading requests..."}):P?d.jsx("div",{className:"text-red-500",children:P}):S.length===0?d.jsx("div",{className:"text-gray-500",children:"No pending requests."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto rounded-2xl shadow-lg bg-white",children:d.jsxs("table",{className:"w-full border-collapse text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-left",children:[d.jsx("th",{className:"p-4 font-medium rounded-tl-2xl",children:"Requesting User"}),d.jsx("th",{className:"p-4 font-medium",children:"Target User"}),d.jsx("th",{className:"p-4 font-medium",children:"Action"}),d.jsx("th",{className:"p-4 font-medium",children:"Requested At"}),d.jsx("th",{className:"p-4 font-medium text-center rounded-tr-2xl",children:"Actions"})]})}),d.jsx("tbody",{children:we.map(K=>{var ce,ae,F,z,Z,re,xe,de,Ie,ht,at,Ut;return d.jsxs("tr",{className:"transition hover:bg-gray-50",children:[d.jsx("td",{className:"p-4 align-middle font-medium",children:((ae=(ce=K.requestingUser)==null?void 0:ce.personal_info)==null?void 0:ae.fullname)||((F=K.requestingUser)==null?void 0:F.fullname)||((Z=(z=K.requestingUser)==null?void 0:z.personal_info)==null?void 0:Z.email)||((re=K.requestingUser)==null?void 0:re.email)||"-"}),d.jsx("td",{className:"p-4 align-middle font-medium",children:((de=(xe=K.targetUser)==null?void 0:xe.personal_info)==null?void 0:de.fullname)||((Ie=K.targetUser)==null?void 0:Ie.fullname)||((at=(ht=K.targetUser)==null?void 0:ht.personal_info)==null?void 0:at.email)||((Ut=K.targetUser)==null?void 0:Ut.email)||"-"}),d.jsx("td",{className:"p-4 align-middle capitalize",children:K.action}),d.jsx("td",{className:"p-4 align-middle",children:new Date(K.createdAt).toLocaleString()}),d.jsxs("td",{className:"p-4 align-middle text-center flex gap-2",children:[d.jsx("button",{className:"px-4 py-2 bg-green-50 text-green-700 border border-green-300 rounded-full shadow hover:bg-green-100 focus:ring-2 focus:ring-green-300 transition disabled:opacity-50",disabled:A===K._id+"-approve",onClick:()=>Pe(K._id),children:A===K._id+"-approve"?"Approving...":"Approve"}),d.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-full shadow hover:bg-gray-100 focus:ring-2 focus:ring-gray-300 transition disabled:opacity-50",disabled:A===K._id+"-reject",onClick:()=>Oe(K._id),children:A===K._id+"-reject"?"Rejecting...":"Reject"})]})]},K._id)})})]})}),d.jsx(eb,{page:R,limit:U,total:G,onPageChange:D})]})}):d.jsx("div",{children:T?d.jsx("div",{children:"Loading your requests..."}):P?d.jsx("div",{className:"text-red-500",children:P}):M.length===0?d.jsx("div",{className:"text-gray-500",children:"You have not submitted any requests."}):d.jsx("div",{className:"overflow-x-auto rounded-2xl shadow-lg bg-white",children:d.jsxs("table",{className:"w-full text-sm border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[d.jsx("th",{className:"p-3 font-medium text-left rounded-tl-2xl",children:"Target User"}),d.jsx("th",{className:"p-3 font-medium text-left",children:"Action"}),d.jsx("th",{className:"p-3 font-medium text-left",children:"Status"}),d.jsx("th",{className:"p-3 font-medium text-left",children:"Requested At"}),d.jsx("th",{className:"p-3 font-medium text-left",children:"Reviewed By"}),d.jsx("th",{className:"p-3 font-medium text-left",children:"Reviewed At"}),d.jsx("th",{className:"p-3 font-medium text-left rounded-tr-2xl",children:"Delete"})]})}),d.jsx("tbody",{children:M.map((K,ce)=>{var ae,F,z,Z,re,xe,de,Ie,ht,at;return d.jsxs("tr",{className:ce%2===0?"bg-white":"bg-gray-50",children:[d.jsx("td",{className:"p-3 font-medium",children:((F=(ae=K.targetUser)==null?void 0:ae.personal_info)==null?void 0:F.fullname)||((z=K.targetUser)==null?void 0:z.fullname)||((re=(Z=K.targetUser)==null?void 0:Z.personal_info)==null?void 0:re.email)||((xe=K.targetUser)==null?void 0:xe.email)||"-"}),d.jsx("td",{className:"p-3 capitalize",children:K.action}),d.jsxs("td",{className:"p-3",children:[K.status==="pending"&&d.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Pending"}),K.status==="approved"&&d.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded bg-green-100 text-green-800 border border-green-200",children:"Approved"}),K.status==="rejected"&&d.jsx("span",{className:"inline-block px-2 py-1 text-xs rounded bg-red-100 text-red-800 border border-red-200",children:"Rejected"})]}),d.jsx("td",{className:"p-3",children:new Date(K.createdAt).toLocaleString()}),d.jsx("td",{className:"p-3",children:((Ie=(de=K.reviewedBy)==null?void 0:de.personal_info)==null?void 0:Ie.fullname)||((at=(ht=K.reviewedBy)==null?void 0:ht.personal_info)==null?void 0:at.email)||d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx("td",{className:"p-3",children:K.reviewedAt?new Date(K.reviewedAt).toLocaleString():d.jsx("span",{className:"text-gray-400",children:"-"})}),d.jsx("td",{className:"p-3 text-center",children:d.jsx("button",{className:"w-8 h-8 flex items-center justify-center border border-red-500 bg-white hover:bg-red-100 rounded-full",title:"Delete request",onClick:()=>wt(K._id),disabled:T,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"red",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]},K._id)})})]})})}),d.jsxs("div",{children:[ye&&j.length>0&&d.jsxs("div",{className:"mb-4 flex gap-2",children:[d.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700 disabled:opacity-50",onClick:()=>Sn("promote"),disabled:l==="bulk",children:"Promote Selected"}),d.jsx("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded shadow hover:bg-yellow-600 disabled:opacity-50",onClick:()=>Sn("demote"),disabled:l==="bulk",children:"Demote Selected"}),d.jsx("button",{className:`px-4 py-2 rounded shadow ${Jo&&l!=="bulk"?"bg-red text-white hover:bg-rose-700":"bg-red-200 text-red-400 cursor-not-allowed"}`,onClick:()=>Sn("delete"),disabled:l==="bulk"||!Jo,children:"Delete Selected"})]}),d.jsx(U8,{users:n,userAuth:t,actionLoading:l,superAdmin:ye,handlePromoteDemote:Ft,selectedUserIds:j,onSelectUser:tt,onSelectAll:kn}),d.jsx(eb,{page:v,limit:p,total:k,onPageChange:m})]})]})]})},V8=()=>{const{userAuth:t}=E.useContext(ve),[e,n]=E.useState(null),[r,o]=E.useState(null),[s,i]=E.useState({published:!0,drafts:!0}),[a,l]=E.useState({published:null,drafts:null});E.useEffect(()=>{!t||!t.admin||(c(!1),c(!0))},[t]);const c=async u=>{i(f=>({...f,[u?"drafts":"published"]:!0})),l(f=>({...f,[u?"drafts":"published"]:null}));try{const f=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/all-blogs",{draft:u},{headers:{Authorization:`Bearer ${t.access_token}`}});u?o(f.data.blogs||[]):n(f.data.blogs||[])}catch(f){l(h=>{var y,g;return{...h,[u?"drafts":"published"]:((g=(y=f.response)==null?void 0:y.data)==null?void 0:g.error)||"Failed to fetch blogs."}})}finally{i(f=>({...f,[u?"drafts":"published"]:!1}))}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-medium",children:"Blog Management"}),d.jsx(ne,{to:"/editor",className:"btn-dark px-4 py-2 rounded",children:"Create New Blog"})]}),d.jsxs(zo,{routes:["Published Blogs","Drafts"],defaultActiveIndex:0,children:[d.jsx("div",{children:s.published?d.jsx(_e,{}):a.published?d.jsx("div",{className:"text-red-500 text-center",children:a.published}):e&&e.length?d.jsx("div",{className:"space-y-6",children:e.map((u,f)=>d.jsx(RC,{blog:{...u,index:f,setStateFunc:n}},u.blog_id||f))}):d.jsx("div",{className:"text-gray-500 text-center",children:"No published blogs found."})}),d.jsx("div",{children:s.drafts?d.jsx(_e,{}):a.drafts?d.jsx("div",{className:"text-red-500 text-center",children:a.drafts}):r&&r.length?d.jsx("div",{className:"space-y-6",children:r.map((u,f)=>d.jsx(MC,{blog:{...u,index:f,setStateFunc:o}},u.blog_id||f))}):d.jsx("div",{className:"text-gray-500 text-center",children:"No drafts found."})})]})]})},H8=()=>{var m,p;const{userAuth:t}=E.useContext(ve),[e,n]=E.useState(!1),[r,o]=E.useState(null),[s,i]=E.useState(null),[a,l]=E.useState(null),[c,u]=E.useState(!1),[f,h]=E.useState(null),[y,g]=E.useState(!1),b=async()=>{var x,k;n(!0),i(null),o(null);try{const N=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/cleanup-unused-banners",{},{headers:{Authorization:`Bearer ${t.access_token}`}});o(N.data)}catch(N){i(((k=(x=N.response)==null?void 0:x.data)==null?void 0:k.error)||"Failed to clean up images.")}finally{n(!1)}},w=async()=>{u(!0);try{const x=await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/system-health",{headers:{Authorization:`Bearer ${t.access_token}`}});l(x.data)}catch(x){console.error("Failed to fetch system health:",x)}finally{u(!1)}},v=async()=>{g(!0),h(null);try{const x=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/database-maintenance",{},{headers:{Authorization:`Bearer ${t.access_token}`}});h(x.data)}catch{h(null),i("Failed to perform database maintenance.")}finally{g(!1)}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[d.jsx("h1",{className:"text-2xl font-medium mb-6",children:"Admin Utilities"}),d.jsxs(zo,{routes:["Image Cleanup","Database Maintenance","System Health"],defaultActiveIndex:0,children:[d.jsx("div",{children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h2",{className:"text-lg font-medium mb-4",children:"Image Cleanup"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Remove unused banner images from the server to free up storage space."}),d.jsx("button",{className:"btn-dark px-4 py-2 rounded mb-4",onClick:b,disabled:e,children:e?"Cleaning up...":"Clean Up Unused Banner Images"}),r&&d.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded",children:d.jsxs("p",{className:"text-green-700",children:["Successfully deleted ",r.deletedCount," unused images."]})}),s&&d.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded",children:d.jsx("p",{className:"text-red-700",children:s})})]})}),d.jsx("div",{children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h2",{className:"text-lg font-medium mb-4",children:"Database Maintenance"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Optimize indexes and clean up orphaned records in the database."}),d.jsx("button",{className:"btn-dark px-4 py-2 rounded mb-4",onClick:v,disabled:y,children:y?"Performing maintenance...":"Run Database Maintenance"}),y&&d.jsx(_e,{}),f&&d.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[d.jsx("h3",{className:"font-medium mb-2",children:"Maintenance Results:"}),d.jsxs("ul",{className:"space-y-1 text-sm",children:[d.jsxs("li",{children:["• Optimized indexes: ",d.jsx("span",{className:"font-semibold",children:f.optimizedIndexes})]}),d.jsxs("li",{children:["• Orphaned comments deleted: ",d.jsx("span",{className:"font-semibold",children:(m=f.cleanedRecords)==null?void 0:m.orphanedComments})]}),d.jsxs("li",{children:["• Blogs with missing authors deleted: ",d.jsx("span",{className:"font-semibold",children:(p=f.cleanedRecords)==null?void 0:p.blogsWithMissingAuthors})]}),d.jsxs("li",{children:["• Database size: ",d.jsx("span",{className:"font-semibold",children:f.sizeReduction||"N/A"})]})]})]}),s&&d.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded",children:d.jsx("p",{className:"text-red-700",children:s})})]})}),d.jsx("div",{children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h2",{className:"text-lg font-medium mb-4",children:"System Health"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Check the overall health and performance of the system."}),d.jsx("button",{className:"btn-dark px-4 py-2 rounded mb-4",onClick:w,disabled:c,children:c?"Checking health...":"Check System Health"}),c&&d.jsx(_e,{}),a&&d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:`p-4 rounded border ${a.serverStatus==="Healthy"?"bg-green-50 border-green-200":a.serverStatus==="Warning"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:[d.jsx("h3",{className:`font-medium mb-1 ${a.serverStatus==="Healthy"?"text-green-700":a.serverStatus==="Warning"?"text-yellow-700":"text-red-700"}`,children:"Server Status"}),d.jsx("p",{className:`text-sm ${a.serverStatus==="Healthy"?"text-green-600":a.serverStatus==="Warning"?"text-yellow-600":"text-red-600"}`,children:a.serverStatus})]}),d.jsxs("div",{className:`p-4 rounded border ${a.databaseStatus==="Connected"?"bg-green-50 border-green-200":a.databaseStatus==="Connecting"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:[d.jsx("h3",{className:`font-medium mb-1 ${a.databaseStatus==="Connected"?"text-green-700":a.databaseStatus==="Connecting"?"text-yellow-700":"text-red-700"}`,children:"Database Status"}),d.jsx("p",{className:`text-sm ${a.databaseStatus==="Connected"?"text-green-600":a.databaseStatus==="Connecting"?"text-yellow-600":"text-red-600"}`,children:a.databaseStatus})]}),d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded",children:[d.jsx("h3",{className:"font-medium text-blue-700 mb-1",children:"Memory Usage"}),d.jsx("p",{className:"text-sm text-blue-600",children:a.memoryUsage})]}),d.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded",children:[d.jsx("h3",{className:"font-medium text-purple-700 mb-1",children:"Uptime"}),d.jsx("p",{className:"text-sm text-purple-600",children:a.uptime})]})]}),a.issues&&a.issues.length>0&&d.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:[d.jsx("h3",{className:"font-medium text-yellow-700 mb-2",children:"Issues Found:"}),d.jsx("ul",{className:"space-y-1 text-sm text-yellow-600",children:a.issues.map((x,k)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-2",children:"•"}),d.jsx("span",{children:x})]},k))})]}),a.issues&&a.issues.length===0&&d.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded",children:[d.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"All Systems Operational"}),d.jsx("p",{className:"text-sm text-green-600",children:"No issues detected. All systems are running normally."})]})]})]})})]})]})},W8=()=>{var w,v;const{userAuth:t,setUserAuth:e}=E.useContext(ve),[n,r]=E.useState({results:[],totalDocs:0,page:1}),[o,s]=E.useState("all"),[i,a]=E.useState(!1),[l,c]=E.useState(0),u=E.useRef([]),h=(t==null?void 0:t.admin)===!0||(t==null?void 0:t.super_admin)===!0?["all","like","comment","reply","new_user"]:["reply"],y=({page:m,deletedDocCount:p=0})=>{a(!0),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/notifications",{page:m,filter:o,deletedDocCount:p},{headers:{Authorization:`Bearer ${t.access_token}`}}).then(async({data:{notifications:x}})=>{console.log("Fetched notifications:",x),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/seen-notifications",{},{headers:{Authorization:`Bearer ${t.access_token}`}});let k=await eo({state:n,data:x,page:m,countRoute:"/all-notifications-count",data_to_send:{filter:o},user:t.access_token});r(k),a(!1)}).catch(x=>{a(!1),r({results:[],totalDocs:0,page:1})})};E.useEffect(()=>{t.access_token&&y({page:1})},[t.access_token,o]);const g=m=>{c(m);const p=h[m];s(p),r({results:[],totalDocs:0,page:1})},b=m=>o!==m?d.jsx("div",{className:"text-gray-500 text-center",children:"Loading..."}):d.jsx(d.Fragment,{children:i?d.jsx(_e,{}):n&&n.results&&n.results.length?d.jsxs("div",{className:"space-y-6",children:[n.results.map((p,x)=>d.jsx(OC,{data:p,index:x,notificationState:{notifications:n,setNotifications:r}},p._id||x)),d.jsx("div",{className:"mt-6",children:d.jsx(sr,{state:n,fetchDataFun:y,additionalParam:{deletedDocCount:n==null?void 0:n.deletedDocCount}})})]}):d.jsxs("div",{className:"text-gray-500 text-center",children:["No ",m==="all"?"":m," notifications found."]})});return d.jsxs("div",{className:"max-w-3xl mx-auto p-8",children:[d.jsx("h1",{className:"text-2xl font-medium mb-6",children:"All Notifications"}),d.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto",children:[["All","Likes","Comments","Replies","New Users"].map((m,p)=>d.jsx("button",{ref:x=>u.current[p]=x,className:`p-4 px-5 capitalize ${l===p?"text-black ":"text-dark-grey "}`,onClick:()=>g(p),children:m},p)),d.jsx("hr",{className:"absolute bottom-0 duration-300",style:{width:((w=u.current[l])==null?void 0:w.offsetWidth)+"px",left:((v=u.current[l])==null?void 0:v.offsetLeft)+"px"}})]}),b(o)]})},tb={title:"",des:"",content:[],author:{personal_info:{}},banner:"",publishedAt:"",comments:{results:[]},activity:{total_parent_comments:0}},G8=()=>{const{userAuth:t}=E.useContext(ve),[e,n]=E.useState([]),[r,o]=E.useState(""),[s,i]=E.useState(null),[a,l]=E.useState(tb),[c,u]=E.useState(!1),[f,h]=E.useState(!1),[y,g]=E.useState(!0),[b,w]=E.useState(0),[v,m]=E.useState([]),[p,x]=E.useState(!1),[k,N]=E.useState({totalComments:0,totalBlogs:0,avgCommentsPerBlog:0,recentActivity:[]}),[j,C]=E.useState(!1);E.useEffect(()=>{u(!0),console.log("AdminComments: Fetching all blogs for admin"),Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/all-blogs",{},{headers:{Authorization:`Bearer ${t.access_token}`}}).then(({data:L})=>{console.log("AdminComments: Received blogs data:",L),n(L.blogs||[]),u(!1)}).catch(L=>{console.error("AdminComments: Error fetching blogs:",L),u(!1)})},[t.access_token]),E.useEffect(()=>{if(s){if(h(!0),console.log("AdminComments: Fetching blog with ID:",s.blog_id),console.log("AdminComments: Selected blog data:",s),!s.blog_id||typeof s.blog_id!="string"){console.error("AdminComments: Invalid blog_id:",s.blog_id),h(!1);return}Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog",{blog_id:s.blog_id},{headers:{Authorization:`Bearer ${t.access_token}`}}).then(async({data:L})=>{var M;console.log("AdminComments: Received blog data:",L);let A=L.blog||tb;console.log("AdminComments: Fetching comments for blog_id:",A.blog_id);const{data:B}=await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/get-blog-comments",{blog_id:A.blog_id},{headers:{Authorization:`Bearer ${t.access_token}`}});console.log("AdminComments: Received comments data:",B),A.comments={results:B.comments||[]},l(A),w(((M=B.comments)==null?void 0:M.length)||0),h(!1)}).catch(L=>{var A,B;console.error("AdminComments: Error fetching blog:",L),console.error("AdminComments: Error response:",(A=L.response)==null?void 0:A.data),console.error("AdminComments: Error status:",(B=L.response)==null?void 0:B.status),h(!1)})}},[s,t.access_token]);const S=async()=>{x(!0);try{const L=await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/spam-comments",{headers:{Authorization:`Bearer ${t.access_token}`}});m(L.data.comments||[])}catch(L){console.error("Failed to fetch spam comments:",L)}finally{x(!1)}},_=async()=>{C(!0);try{const L=await Y.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/comment-analytics",{headers:{Authorization:`Bearer ${t.access_token}`}});N(L.data||{totalComments:0,totalBlogs:0,avgCommentsPerBlog:0,recentActivity:[]})}catch(L){console.error("Failed to fetch comment analytics:",L)}finally{C(!1)}},T=async L=>{try{await Y.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/mark-spam",{comment_id:L,isSpam:!1},{headers:{Authorization:`Bearer ${t.access_token}`}}),S()}catch(A){console.error("Failed to approve spam comment:",A)}},I=async L=>{try{await Y.delete(`https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/admin/delete-spam-comment/${L}`,{headers:{Authorization:`Bearer ${t.access_token}`}}),S()}catch(A){console.error("Failed to delete spam comment:",A)}},P=e.filter(L=>{var A,B;return((A=L.title)==null?void 0:A.toLowerCase().includes(r.toLowerCase()))||((B=L.blog_id)==null?void 0:B.toLowerCase().includes(r.toLowerCase()))});return E.useEffect(()=>{_()},[]),d.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[d.jsx("h1",{className:"text-2xl font-normal mb-6",children:"Comments Moderation"}),d.jsxs(zo,{routes:["Blog Comments","Spam Comments","Analytics"],defaultActiveIndex:0,children:[d.jsxs("div",{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("input",{type:"text",placeholder:"Search blog by title or ID...",value:r,onChange:L=>o(L.target.value),className:"w-full px-4 py-2 border rounded mb-2"}),c?d.jsx(_e,{}):d.jsx("div",{className:"max-h-40 overflow-y-auto border rounded bg-gray-50",children:P.length?P.map(L=>(console.log("AdminComments: Blog item:",L),d.jsxs("div",{className:`px-4 py-2 cursor-pointer hover:bg-black-100 ${(s==null?void 0:s.blog_id)===L.blog_id?"bg-black-200 font-seminormal":""}`,onClick:()=>{console.log("AdminComments: Selected blog:",L),i(L)},children:[L.title," ",d.jsxs("span",{className:"text-xs text-gray-400",children:["(",L.blog_id,")"]})]},L.blog_id))):d.jsx("div",{className:"px-4 py-2 text-gray-400",children:"No blogs found."})})]}),s&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("h2",{className:"text-lg font-medium mb-2",children:["Comments for: ",d.jsx("span",{className:"text-black-700",children:s.title})]}),f?d.jsx(_e,{}):d.jsx(Xo.Provider,{value:{blog:a,setBlog:l,commentsWrapper:y,setCommentsWrapper:g,totalParentCommentsLoaded:b,setTotalParentCommentsLoaded:w,fetchBlog:()=>{}},children:d.jsx(BC,{})})]})]}),d.jsx("div",{children:d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-lg font-medium mb-4",children:"Spam Comments"}),d.jsx("button",{onClick:S,className:"btn-dark px-4 py-2 rounded mb-4",children:"Refresh Spam Comments"}),p?d.jsx(_e,{}):v.length>0?d.jsx("div",{className:"space-y-4",children:v.map((L,A)=>{var B,M,O;return d.jsxs("div",{className:"border rounded p-4 bg-red-50",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"font-medium",children:((M=(B=L.commented_by)==null?void 0:B.personal_info)==null?void 0:M.fullname)||((O=L.commented_by)==null?void 0:O.email)||"Anonymous"}),d.jsx("span",{className:"text-sm text-gray-500",children:new Date(L.commentedAt).toLocaleDateString()})]}),d.jsx("p",{className:"text-gray-700 mb-2",children:L.comment}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm",onClick:()=>T(L._id),children:"Approve"}),d.jsx("button",{className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm",onClick:()=>I(L._id),children:"Delete"})]})]},L._id||A)})}):d.jsx("div",{className:"text-gray-500 text-center",children:"No spam comments found."})]})}),d.jsx("div",{children:d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-lg font-medium mb-4",children:"Comment Analytics"}),d.jsx("button",{onClick:_,className:"btn-dark px-4 py-2 rounded mb-4",children:"Refresh Analytics"}),j?d.jsx(_e,{}):d.jsxs("div",{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Total Comments"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:k.totalComments})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Blogs with Comments"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:k.totalBlogs})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Avg Comments/Blog"}),d.jsx("p",{className:"text-3xl font-bold text-purple-600",children:k.avgCommentsPerBlog.toFixed(1)})]})]}),k.recentActivity.length>0&&d.jsxs("div",{className:"mt-8",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Activity"}),d.jsx("div",{className:"space-y-2",children:k.recentActivity.map((L,A)=>d.jsxs("div",{className:"bg-white p-4 rounded border",children:[d.jsx("p",{className:"text-sm text-gray-600",children:L.message}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(L.timestamp).toLocaleString()})]},A))})]})]})]})})]})]})},q8=[{key:"users",label:"User Management",icon:d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M12 12c2.7 0 8 1.34 8 4v2H4v-2c0-2.66 5.3-4 8-4zm0-2a4 4 0 100-8 4 4 0 000 8z",fill:"currentColor"})})},{key:"blogs",label:"Blog Management",icon:d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M4 4h16v2H4zm0 4h16v2H4zm0 4h10v2H4zm0 4h10v2H4z",fill:"currentColor"})})},{key:"notifications",label:"Notifications",icon:d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M12 22a2 2 0 002-2H10a2 2 0 002 2zm6-6V11a6 6 0 10-12 0v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"})})},{key:"comments",label:"Comments",icon:d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M21 6h-2V4a2 2 0 00-2-2H7a2 2 0 00-2 2v2H3a2 2 0 00-2 2v10a2 2 0 002 2h18a2 2 0 002-2V8a2 2 0 00-2-2zm-2 0H5V4h14v2zm2 12H3V8h18v10z",fill:"currentColor"})})},{key:"utilities",label:"Utilities",icon:d.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M19.14 12.94a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12l-2.12-2.12a1.5 1.5 0 00-2.12 0l-1.42 1.42-2.12-2.12 1.42-1.42a1.5 1.5 0 000-2.12z",fill:"currentColor"})})}],K8=()=>{const[t,e]=E.useState("users");return d.jsx("div",{className:"w-full max-w-[1400px] mx-auto px-[5vw]",children:d.jsxs("div",{className:"admin-panel-container flex min-h-screen bg-gray-50",children:[d.jsxs("aside",{className:"w-72 bg-white border-r shadow-lg p-0 flex flex-col gap-0 rounded-r-3xl min-h-screen",children:[d.jsx("div",{className:"flex items-center gap-3 px-8 py-8 border-b"}),d.jsx("nav",{className:"flex-1 flex flex-col gap-2 py-8 px-4",children:q8.map(n=>d.jsxs("button",{className:`flex items-center w-full px-5 py-3 my-1 rounded-xl font-medium text-lg transition-all duration-150 group relative
                  ${t===n.key?"bg-gray-200 text-black font-bold shadow-md border-l-4 border-black":"text-gray-700 hover:bg-gray-100 hover:text-black"}
                `,onClick:()=>e(n.key),children:[d.jsx("span",{className:`transition-colors duration-150 ${t===n.key?"text-black":"text-gray-400 group-hover:text-black"}`,children:n.icon}),n.label,t===n.key&&d.jsx("span",{className:"absolute left-0 top-0 h-full w-1 bg-black rounded-r-xl"})]},n.key))}),d.jsxs("div",{className:"mt-auto py-6 px-8 border-t text-xs text-gray-400",children:["© ",new Date().getFullYear()," IslamicStories Admin"]})]}),d.jsxs("main",{className:"flex-1 p-8",children:[t==="users"&&d.jsx(z8,{}),t==="blogs"&&d.jsx(V8,{}),t==="notifications"&&d.jsx(W8,{}),t==="comments"&&d.jsx(G8,{}),t==="utilities"&&d.jsx(H8,{})]})]})})},ve=E.createContext({}),qd=E.createContext({}),Kd=E.createContext({}),Y8=window.matchMedia("(prefers-color-scheme: dark)").matches,X8=()=>{const t=()=>{try{const h=localStorage.getItem("userAuth");if(h){const y=JSON.parse(h);return y&&typeof y=="object"&&y.admin!==void 0&&y.isAdmin===void 0&&(y.isAdmin=y.admin),y}return null}catch{return null}},[e,n]=E.useState(t),r=h=>{console.log("setUserAuth called with:",h),h&&typeof h=="object"&&h.admin!==void 0&&h.isAdmin===void 0&&(h.isAdmin=h.admin),n(h),h&&h.access_token?localStorage.setItem("userAuth",JSON.stringify(h)):localStorage.removeItem("userAuth")},[o,s]=E.useState(()=>Y8?"dark":"light"),[i,a]=E.useState([]),[l,c]=E.useState([]),[u,f]=E.useState(!0);return E.useEffect(()=>{let h=xS("theme");h?s(()=>(document.body.setAttribute("data-theme",h),h)):document.body.setAttribute("data-theme",o);const y=setTimeout(()=>{f(!1)},1500);return()=>clearTimeout(y)},[]),E.useEffect(()=>{console.log("App.jsx: userAuth value:",e)},[e]),E.useEffect(()=>{console.log("Server Domain:","https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev")},[]),E.useEffect(()=>{(async()=>{try{const{data:y}=await fe.post("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/latest-blogs",{page:1}),g=(y.blogs||[]).filter(b=>b.banner&&b.blog_id).slice(0,12);a(g)}catch{a([])}})()},[]),E.useEffect(()=>{const h=localStorage.getItem("userAuth");if(h){const y=JSON.parse(h);y&&y.access_token&&n(y)}},[]),E.useEffect(()=>{e&&e.access_token&&localStorage.setItem("userAuth",JSON.stringify(e))},[e]),E.useEffect(()=>{if(!(e!=null&&e.access_token))return;(async()=>{try{const{data:y}=await fe.get("https://13d3a566-9078-4d95-906b-f2116cf05cc7-00-33t9hjwnc44y8.pike.replit.dev/api/new-notification",{headers:{Authorization:`Bearer ${e.access_token}`}});(y==null?void 0:y.new_notification_available)!==void 0&&r({...e,new_notification_available:y.new_notification_available})}catch{}})()},[e==null?void 0:e.access_token]),d.jsx(qd.Provider,{value:{theme:o,setTheme:s},children:d.jsx(ve.Provider,{value:{userAuth:e,setUserAuth:r},children:d.jsxs(Kd.Provider,{value:{blogImages:i,setBlogImages:a,categories:l,setCategories:c},children:[d.jsx(O8,{isLoading:u,text:"Loading Islamic Stories...",type:"wave"}),d.jsx(c6,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),d.jsx(B8,{}),d.jsx(r_,{children:d.jsxs(Te,{path:"/",element:d.jsx(dA,{}),children:[d.jsx(Te,{index:!0,element:d.jsx(t8,{})}),d.jsx(Te,{path:"editor",element:d.jsx(Mv,{})}),d.jsx(Te,{path:"editor/:blog_id",element:d.jsx(Mv,{})}),d.jsxs(Te,{path:"dashboard",element:d.jsx(Xv,{}),children:[d.jsx(Te,{path:"blogs",element:d.jsx(_8,{})}),d.jsx(Te,{path:"notification",element:d.jsx(E8,{})})]}),d.jsxs(Te,{path:"settings",element:d.jsx(Xv,{}),children:[d.jsx(Te,{path:"edit-profile",element:d.jsx(k8,{})}),d.jsx(Te,{path:"change-password",element:d.jsx(w8,{})})]}),d.jsx(Te,{path:"login",element:d.jsx(Gu,{type:"login"})}),d.jsx(Te,{path:"signin",element:d.jsx(Gu,{type:"login"})}),d.jsx(Te,{path:"signup",element:d.jsx(Gu,{type:"signup"})}),d.jsx(Te,{path:"search/:query",element:d.jsx(n8,{})}),d.jsx(Te,{path:"user/:username",element:d.jsx(a8,{})}),d.jsx(Te,{path:"blog/:blog_id",element:d.jsx(x8,{})}),d.jsx(Te,{path:"categories/:categoryName",element:d.jsx(Zv,{})}),d.jsx(Te,{path:"categories",element:d.jsx(Zv,{})}),d.jsx(Te,{path:"contact",element:d.jsx(N8,{})}),d.jsx(Te,{path:"about",element:d.jsx(P8,{})}),d.jsx(Te,{path:"pages",element:d.jsx(I8,{})}),d.jsx(Te,{path:"verify-user",element:d.jsx(A8,{})}),d.jsx(Te,{path:"verify-newsletter",element:d.jsx(L8,{})}),d.jsx(Te,{path:"admin",element:d.jsx(K8,{})}),d.jsx(Te,{path:"*",element:d.jsx(AC,{})})]})})]})})})};rf.createRoot(document.getElementById("root")).render(d.jsx(d_,{children:d.jsx(X8,{})}));
